[["Map",1,2,9,10,95,96,181,182,17,1622],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.13.10","content-config-digest","ff51d7c95c9973b2","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"where\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"prefetch\":{\"prefetchAll\":true},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":false,\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[null,null,null,null,null,null],\"rehypePlugins\":[null,[null,{\"experimentalHeadingIdCompat\":false}],null,[null,{\"themes\":[{\"name\":\"Night Owl No Italics\",\"type\":\"dark\",\"colors\":{\"focusBorder\":\"#122d42\",\"foreground\":\"#d6deeb\",\"disabledForeground\":\"#cccccc80\",\"descriptionForeground\":\"#d6deebb3\",\"errorForeground\":\"#ef5350\",\"icon.foreground\":\"#c5c5c5\",\"contrastActiveBorder\":null,\"contrastBorder\":\"#122d42\",\"textBlockQuote.background\":\"#7f7f7f1a\",\"textBlockQuote.border\":\"#007acc80\",\"textCodeBlock.background\":\"#4f4f4f\",\"textLink.activeForeground\":\"#3794ff\",\"textLink.foreground\":\"#3794ff\",\"textPreformat.foreground\":\"#d7ba7d\",\"textSeparator.foreground\":\"#ffffff2e\",\"editor.background\":\"#23262f\",\"editor.foreground\":\"#d6deeb\",\"editorLineNumber.foreground\":\"#4b6479\",\"editorLineNumber.activeForeground\":\"#c5e4fd\",\"editorActiveLineNumber.foreground\":\"#c6c6c6\",\"editor.selectionBackground\":\"#1d3b53\",\"editor.inactiveSelectionBackground\":\"#7e57c25a\",\"editor.selectionHighlightBackground\":\"#5f7e9779\",\"editorError.foreground\":\"#ef5350\",\"editorWarning.foreground\":\"#b39554\",\"editorInfo.foreground\":\"#3794ff\",\"editorHint.foreground\":\"#eeeeeeb2\",\"problemsErrorIcon.foreground\":\"#ef5350\",\"problemsWarningIcon.foreground\":\"#b39554\",\"problemsInfoIcon.foreground\":\"#3794ff\",\"editor.findMatchBackground\":\"#5f7e9779\",\"editor.findMatchHighlightBackground\":\"#1085bb5d\",\"editor.findRangeHighlightBackground\":\"#3a3d4166\",\"editorLink.activeForeground\":\"#4e94ce\",\"editorLightBulb.foreground\":\"#ffcc00\",\"editorLightBulbAutoFix.foreground\":\"#75beff\",\"diffEditor.insertedTextBackground\":\"#99b76d23\",\"diffEditor.insertedTextBorder\":\"#c5e47833\",\"diffEditor.removedTextBackground\":\"#ef535033\",\"diffEditor.removedTextBorder\":\"#ef53504d\",\"diffEditor.insertedLineBackground\":\"#9bb95533\",\"diffEditor.removedLineBackground\":\"#ff000033\",\"editorStickyScroll.background\":\"#011627\",\"editorStickyScrollHover.background\":\"#2a2d2e\",\"editorInlayHint.background\":\"#5f7e97cc\",\"editorInlayHint.foreground\":\"#ffffff\",\"editorInlayHint.typeBackground\":\"#5f7e97cc\",\"editorInlayHint.typeForeground\":\"#ffffff\",\"editorInlayHint.parameterBackground\":\"#5f7e97cc\",\"editorInlayHint.parameterForeground\":\"#ffffff\",\"editorPane.background\":\"#011627\",\"editorGroup.emptyBackground\":\"#011627\",\"editorGroup.focusedEmptyBorder\":null,\"editorGroupHeader.tabsBackground\":\"var(--sl-color-black)\",\"editorGroupHeader.tabsBorder\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"editorGroupHeader.noTabsBackground\":\"#011627\",\"editorGroupHeader.border\":null,\"editorGroup.border\":\"#011627\",\"editorGroup.dropBackground\":\"#7e57c273\",\"editorGroup.dropIntoPromptForeground\":\"#d6deeb\",\"editorGroup.dropIntoPromptBackground\":\"#021320\",\"editorGroup.dropIntoPromptBorder\":null,\"sideBySideEditor.horizontalBorder\":\"#011627\",\"sideBySideEditor.verticalBorder\":\"#011627\",\"scrollbar.shadow\":\"#010b14\",\"scrollbarSlider.background\":\"#ffffff17\",\"scrollbarSlider.hoverBackground\":\"#ffffff40\",\"scrollbarSlider.activeBackground\":\"#084d8180\",\"panel.background\":\"#011627\",\"panel.border\":\"#5f7e97\",\"panelTitle.activeBorder\":\"#5f7e97\",\"panelTitle.activeForeground\":\"#ffffffcc\",\"panelTitle.inactiveForeground\":\"#d6deeb80\",\"panelSectionHeader.background\":\"#80808051\",\"terminal.background\":\"#011627\",\"widget.shadow\":\"#011627\",\"editorWidget.background\":\"#021320\",\"editorWidget.foreground\":\"#d6deeb\",\"editorWidget.border\":\"#5f7e97\",\"quickInput.background\":\"#021320\",\"quickInput.foreground\":\"#d6deeb\",\"quickInputTitle.background\":\"#ffffff1a\",\"pickerGroup.foreground\":\"#d1aaff\",\"pickerGroup.border\":\"#011627\",\"editor.hoverHighlightBackground\":\"#7e57c25a\",\"editorHoverWidget.background\":\"#011627\",\"editorHoverWidget.foreground\":\"#d6deeb\",\"editorHoverWidget.border\":\"#5f7e97\",\"editorHoverWidget.statusBarBackground\":\"#011a2f\",\"titleBar.activeBackground\":\"var(--sl-color-black)\",\"titleBar.activeForeground\":\"var(--sl-color-text)\",\"titleBar.inactiveBackground\":\"#010e1a\",\"titleBar.inactiveForeground\":\"#eeefff99\",\"titleBar.border\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"toolbar.hoverBackground\":\"#5a5d5e50\",\"toolbar.activeBackground\":\"#63666750\",\"tab.activeBackground\":\"#0b2942\",\"tab.unfocusedActiveBackground\":\"#0b2942\",\"tab.inactiveBackground\":\"#01111d\",\"tab.unfocusedInactiveBackground\":\"#01111d\",\"tab.activeForeground\":\"var(--sl-color-text)\",\"tab.inactiveForeground\":\"#5f7e97\",\"tab.unfocusedActiveForeground\":\"#5f7e97\",\"tab.unfocusedInactiveForeground\":\"#5f7e97\",\"tab.hoverBackground\":null,\"tab.unfocusedHoverBackground\":null,\"tab.hoverForeground\":null,\"tab.unfocusedHoverForeground\":null,\"tab.border\":\"#272b3b\",\"tab.lastPinnedBorder\":\"#585858\",\"tab.activeBorder\":\"transparent\",\"tab.unfocusedActiveBorder\":\"#262a39\",\"tab.activeBorderTop\":\"var(--sl-color-accent-high)\",\"tab.unfocusedActiveBorderTop\":null,\"tab.hoverBorder\":null,\"tab.unfocusedHoverBorder\":null,\"tab.activeModifiedBorder\":\"#3399cc\",\"tab.inactiveModifiedBorder\":\"#3399cc80\",\"tab.unfocusedActiveModifiedBorder\":\"#3399cc80\",\"tab.unfocusedInactiveModifiedBorder\":\"#3399cc40\",\"badge.background\":\"#5f7e97\",\"badge.foreground\":\"#ffffff\",\"button.background\":\"#7e57c2cc\",\"button.foreground\":\"#ffffffcc\",\"button.border\":\"#122d42\",\"button.separator\":\"#ffffff52\",\"button.hoverBackground\":\"#7e57c2\",\"button.secondaryBackground\":\"#3a3d41\",\"button.secondaryForeground\":\"#ffffff\",\"button.secondaryHoverBackground\":\"#46494e\",\"dropdown.background\":\"#011627\",\"dropdown.foreground\":\"#ffffffcc\",\"dropdown.border\":\"#5f7e97\",\"list.activeSelectionBackground\":\"#234d708c\",\"list.activeSelectionForeground\":\"#ffffff\",\"tree.indentGuidesStroke\":\"#585858\",\"input.background\":\"#0b253a\",\"input.foreground\":\"#ffffffcc\",\"input.placeholderForeground\":\"#5f7e97\",\"inputOption.activeBorder\":\"#ffffffcc\",\"inputOption.hoverBackground\":\"#5a5d5e80\",\"inputOption.activeBackground\":\"#122d4266\",\"inputOption.activeForeground\":\"#ffffff\",\"inputValidation.infoBackground\":\"#00589ef2\",\"inputValidation.infoBorder\":\"#64b5f6\",\"inputValidation.warningBackground\":\"#675700f2\",\"inputValidation.warningBorder\":\"#ffca28\",\"inputValidation.errorBackground\":\"#ab0300f2\",\"inputValidation.errorBorder\":\"#ef5350\",\"keybindingLabel.background\":\"#8080802b\",\"keybindingLabel.foreground\":\"#cccccc\",\"keybindingLabel.border\":\"#33333399\",\"keybindingLabel.bottomBorder\":\"#44444499\",\"menu.foreground\":\"#ffffffcc\",\"menu.background\":\"#011627\",\"menu.selectionForeground\":\"#ffffff\",\"menu.selectionBackground\":\"#234d708c\",\"menu.separatorBackground\":\"#606060\",\"editor.snippetTabstopHighlightBackground\":\"#7c7c74c\",\"editor.snippetFinalTabstopHighlightBorder\":\"#525252\",\"terminal.ansiBlack\":\"#011627\",\"terminal.ansiRed\":\"#ef5350\",\"terminal.ansiGreen\":\"#22da6e\",\"terminal.ansiYellow\":\"#c5e478\",\"terminal.ansiBlue\":\"#82aaff\",\"terminal.ansiMagenta\":\"#c792ea\",\"terminal.ansiCyan\":\"#21c7a8\",\"terminal.ansiWhite\":\"#ffffff\",\"terminal.ansiBrightBlack\":\"#575656\",\"terminal.ansiBrightRed\":\"#ef5350\",\"terminal.ansiBrightGreen\":\"#22da6e\",\"terminal.ansiBrightYellow\":\"#ffeb95\",\"terminal.ansiBrightBlue\":\"#82aaff\",\"terminal.ansiBrightMagenta\":\"#c792ea\",\"terminal.ansiBrightCyan\":\"#7fdbca\",\"terminal.ansiBrightWhite\":\"#ffffff\",\"selection.background\":\"#4373c2\",\"input.border\":\"#5f7e97\",\"punctuation.definition.generic.begin.html\":\"#ef5350f2\",\"progress.background\":\"#7e57c2\",\"breadcrumb.foreground\":\"#a599e9\",\"breadcrumb.focusForeground\":\"#ffffff\",\"breadcrumb.activeSelectionForeground\":\"#ffffff\",\"breadcrumbPicker.background\":\"#001122\",\"list.invalidItemForeground\":\"#975f94\",\"list.dropBackground\":\"#011627\",\"list.focusBackground\":\"#010d18\",\"list.focusForeground\":\"#ffffff\",\"list.highlightForeground\":\"#ffffff\",\"list.hoverBackground\":\"#011627\",\"list.hoverForeground\":\"#ffffff\",\"list.inactiveSelectionBackground\":\"#0e293f\",\"list.inactiveSelectionForeground\":\"#5f7e97\",\"activityBar.background\":\"#011627\",\"activityBar.dropBackground\":\"#5f7e97\",\"activityBar.foreground\":\"#5f7e97\",\"activityBar.border\":\"#011627\",\"activityBarBadge.background\":\"#44596b\",\"activityBarBadge.foreground\":\"#ffffff\",\"sideBar.background\":\"#011627\",\"sideBar.foreground\":\"#89a4bb\",\"sideBar.border\":\"#011627\",\"sideBarTitle.foreground\":\"#5f7e97\",\"sideBarSectionHeader.background\":\"#011627\",\"sideBarSectionHeader.foreground\":\"#5f7e97\",\"editorCursor.foreground\":\"#80a4c2\",\"editor.wordHighlightBackground\":\"#f6bbe533\",\"editor.wordHighlightStrongBackground\":\"#e2a2f433\",\"editor.lineHighlightBackground\":\"#0003\",\"editor.rangeHighlightBackground\":\"#7e57c25a\",\"editorIndentGuide.background\":\"#5e81ce52\",\"editorIndentGuide.activeBackground\":\"#7e97ac\",\"editorRuler.foreground\":\"#5e81ce52\",\"editorCodeLens.foreground\":\"#5e82ceb4\",\"editorBracketMatch.background\":\"#5f7e974d\",\"editorOverviewRuler.currentContentForeground\":\"#7e57c2\",\"editorOverviewRuler.incomingContentForeground\":\"#7e57c2\",\"editorOverviewRuler.commonContentForeground\":\"#7e57c2\",\"editorGutter.background\":\"#011627\",\"editorGutter.modifiedBackground\":\"#e2b93d\",\"editorGutter.addedBackground\":\"#9ccc65\",\"editorGutter.deletedBackground\":\"#ef5350\",\"editorSuggestWidget.background\":\"#2c3043\",\"editorSuggestWidget.border\":\"#2b2f40\",\"editorSuggestWidget.foreground\":\"#d6deeb\",\"editorSuggestWidget.highlightForeground\":\"#ffffff\",\"editorSuggestWidget.selectedBackground\":\"#5f7e97\",\"debugExceptionWidget.background\":\"#011627\",\"debugExceptionWidget.border\":\"#5f7e97\",\"editorMarkerNavigation.background\":\"#0b2942\",\"editorMarkerNavigationError.background\":\"#ef5350\",\"editorMarkerNavigationWarning.background\":\"#ffca28\",\"peekView.border\":\"#5f7e97\",\"peekViewEditor.background\":\"#011627\",\"peekViewEditor.matchHighlightBackground\":\"#7e57c25a\",\"peekViewResult.background\":\"#011627\",\"peekViewResult.fileForeground\":\"#5f7e97\",\"peekViewResult.lineForeground\":\"#5f7e97\",\"peekViewResult.matchHighlightBackground\":\"#ffffffcc\",\"peekViewResult.selectionBackground\":\"#2e3250\",\"peekViewResult.selectionForeground\":\"#5f7e97\",\"peekViewTitle.background\":\"#011627\",\"peekViewTitleDescription.foreground\":\"#697098\",\"peekViewTitleLabel.foreground\":\"#5f7e97\",\"merge.currentHeaderBackground\":\"#5f7e97\",\"merge.incomingHeaderBackground\":\"#7e57c25a\",\"statusBar.background\":\"#011627\",\"statusBar.foreground\":\"#5f7e97\",\"statusBar.border\":\"#262a39\",\"statusBar.debuggingBackground\":\"#202431\",\"statusBar.debuggingBorder\":\"#1f2330\",\"statusBar.noFolderBackground\":\"#011627\",\"statusBar.noFolderBorder\":\"#25293a\",\"statusBarItem.activeBackground\":\"#202431\",\"statusBarItem.hoverBackground\":\"#202431\",\"statusBarItem.prominentBackground\":\"#202431\",\"statusBarItem.prominentHoverBackground\":\"#202431\",\"notifications.background\":\"#01111d\",\"notifications.border\":\"#262a39\",\"notificationCenter.border\":\"#262a39\",\"notificationToast.border\":\"#262a39\",\"notifications.foreground\":\"#ffffffcc\",\"notificationLink.foreground\":\"#80cbc4\",\"extensionButton.prominentForeground\":\"#ffffffcc\",\"extensionButton.prominentBackground\":\"#7e57c2cc\",\"extensionButton.prominentHoverBackground\":\"#7e57c2\",\"terminal.selectionBackground\":\"#1b90dd4d\",\"terminalCursor.background\":\"#234d70\",\"debugToolBar.background\":\"#011627\",\"welcomePage.buttonBackground\":\"#011627\",\"welcomePage.buttonHoverBackground\":\"#011627\",\"walkThrough.embeddedEditorBackground\":\"#011627\",\"gitDecoration.modifiedResourceForeground\":\"#a2bffc\",\"gitDecoration.deletedResourceForeground\":\"#ef535090\",\"gitDecoration.untrackedResourceForeground\":\"#c5e478ff\",\"gitDecoration.ignoredResourceForeground\":\"#395a75\",\"gitDecoration.conflictingResourceForeground\":\"#ffeb95cc\",\"source.elm\":\"#5f7e97\",\"string.quoted.single.js\":\"#ffffff\",\"meta.objectliteral.js\":\"#82aaff\"},\"fg\":\"#d6deeb\",\"bg\":\"#23262f\",\"semanticHighlighting\":false,\"settings\":[{\"name\":\"Changed\",\"scope\":[\"markup.changed\",\"meta.diff.header.git\",\"meta.diff.header.from-file\",\"meta.diff.header.to-file\"],\"settings\":{\"foreground\":\"#a2bffc\"}},{\"name\":\"Deleted\",\"scope\":[\"markup.deleted.diff\"],\"settings\":{\"foreground\":\"#f27775fe\"}},{\"name\":\"Inserted\",\"scope\":[\"markup.inserted.diff\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Global settings\",\"settings\":{\"background\":\"#011627\",\"foreground\":\"#d6deeb\"}},{\"name\":\"Comment\",\"scope\":[\"comment\"],\"settings\":{\"foreground\":\"#919f9f\",\"fontStyle\":\"\"}},{\"name\":\"String\",\"scope\":[\"string\"],\"settings\":{\"foreground\":\"#ecc48d\"}},{\"name\":\"String Quoted\",\"scope\":[\"string.quoted\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#ecc48d\"}},{\"name\":\"Support Constant Math\",\"scope\":[\"support.constant.math\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Number\",\"scope\":[\"constant.numeric\",\"constant.character.numeric\"],\"settings\":{\"foreground\":\"#f78c6c\",\"fontStyle\":\"\"}},{\"name\":\"Built-in constant\",\"scope\":[\"constant.language\",\"punctuation.definition.constant\",\"variable.other.constant\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"User-defined constant\",\"scope\":[\"constant.character\",\"constant.other\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Constant Character Escape\",\"scope\":[\"constant.character.escape\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"RegExp String\",\"scope\":[\"string.regexp\",\"string.regexp keyword.other\"],\"settings\":{\"foreground\":\"#5ca7e4\"}},{\"name\":\"Comma in functions\",\"scope\":[\"meta.function punctuation.separator.comma\"],\"settings\":{\"foreground\":\"#889fb2\"}},{\"name\":\"Variable\",\"scope\":[\"variable\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Keyword\",\"scope\":[\"punctuation.accessor\",\"keyword\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Storage\",\"scope\":[\"storage\",\"meta.var.expr\",\"meta.class meta.method.declaration meta.var.expr storage.type.js\",\"storage.type.property.js\",\"storage.type.property.ts\",\"storage.type.property.tsx\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type.function.arrow.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Class name\",\"scope\":[\"entity.name.class\",\"meta.class entity.name.type.class\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Inherited class\",\"scope\":[\"entity.other.inherited-class\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Function name\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Meta Tag\",\"scope\":[\"punctuation.definition.tag\",\"meta.tag\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"HTML Tag names\",\"scope\":[\"entity.name.tag\",\"meta.tag.other.html\",\"meta.tag.other.js\",\"meta.tag.other.tsx\",\"entity.name.tag.tsx\",\"entity.name.tag.js\",\"entity.name.tag\",\"meta.tag.js\",\"meta.tag.tsx\",\"meta.tag.html\"],\"settings\":{\"foreground\":\"#caece6\",\"fontStyle\":\"\"}},{\"name\":\"Tag attribute\",\"scope\":[\"entity.other.attribute-name\"],\"settings\":{\"fontStyle\":\"\",\"foreground\":\"#c5e478\"}},{\"name\":\"Entity Name Tag Custom\",\"scope\":[\"entity.name.tag.custom\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Library (function & constant)\",\"scope\":[\"support.function\",\"support.constant\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Support Constant Property Value meta\",\"scope\":[\"support.constant.meta.property-value\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Library class/type\",\"scope\":[\"support.type\",\"support.class\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Support Variable DOM\",\"scope\":[\"support.variable.dom\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Invalid\",\"scope\":[\"invalid\"],\"settings\":{\"background\":\"#ff2c83\",\"foreground\":\"#ffffff\"}},{\"name\":\"Invalid deprecated\",\"scope\":[\"invalid.deprecated\"],\"settings\":{\"foreground\":\"#ffffff\",\"background\":\"#d3423e\"}},{\"name\":\"Keyword Operator\",\"scope\":[\"keyword.operator\"],\"settings\":{\"foreground\":\"#7fdbca\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Relational\",\"scope\":[\"keyword.operator.relational\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Assignment\",\"scope\":[\"keyword.operator.assignment\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Arithmetic\",\"scope\":[\"keyword.operator.arithmetic\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Bitwise\",\"scope\":[\"keyword.operator.bitwise\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Increment\",\"scope\":[\"keyword.operator.increment\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Ternary\",\"scope\":[\"keyword.operator.ternary\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Double-Slashed Comment\",\"scope\":[\"comment.line.double-slash\"],\"settings\":{\"foreground\":\"#919f9f\"}},{\"name\":\"Object\",\"scope\":[\"object\"],\"settings\":{\"foreground\":\"#cdebf7\"}},{\"name\":\"Null\",\"scope\":[\"constant.language.null\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Meta Brace\",\"scope\":[\"meta.brace\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Meta Delimiter Period\",\"scope\":[\"meta.delimiter.period\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Punctuation Definition String\",\"scope\":[\"punctuation.definition.string\"],\"settings\":{\"foreground\":\"#d9f5dd\"}},{\"name\":\"Punctuation Definition String Markdown\",\"scope\":[\"punctuation.definition.string.begin.markdown\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Boolean\",\"scope\":[\"constant.language.boolean\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Object Comma\",\"scope\":[\"object.comma\"],\"settings\":{\"foreground\":\"#ffffff\"}},{\"name\":\"Variable Parameter Function\",\"scope\":[\"variable.parameter.function\"],\"settings\":{\"foreground\":\"#7fdbca\",\"fontStyle\":\"\"}},{\"name\":\"Support Type Property Name & entity name tags\",\"scope\":[\"support.type.vendor.property-name\",\"support.constant.vendor.property-value\",\"support.type.property-name\",\"meta.property-list entity.name.tag\"],\"settings\":{\"foreground\":\"#80cbc4\",\"fontStyle\":\"\"}},{\"name\":\"Entity Name tag reference in stylesheets\",\"scope\":[\"meta.property-list entity.name.tag.reference\"],\"settings\":{\"foreground\":\"#57eaf1\"}},{\"name\":\"Constant Other Color RGB Value Punctuation Definition Constant\",\"scope\":[\"constant.other.color.rgb-value punctuation.definition.constant\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Constant Other Color\",\"scope\":[\"constant.other.color\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Keyword Other Unit\",\"scope\":[\"keyword.other.unit\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Meta Selector\",\"scope\":[\"meta.selector\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Entity Other Attribute Name Id\",\"scope\":[\"entity.other.attribute-name.id\"],\"settings\":{\"foreground\":\"#fad430\"}},{\"name\":\"Meta Property Name\",\"scope\":[\"meta.property-name\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"Doctypes\",\"scope\":[\"entity.name.tag.doctype\",\"meta.tag.sgml.doctype\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Punctuation Definition Parameters\",\"scope\":[\"punctuation.definition.parameters\"],\"settings\":{\"foreground\":\"#d9f5dd\"}},{\"name\":\"Keyword Control Operator\",\"scope\":[\"keyword.control.operator\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Keyword Operator Logical\",\"scope\":[\"keyword.operator.logical\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Variable Instances\",\"scope\":[\"variable.instance\",\"variable.other.instance\",\"variable.readwrite.instance\",\"variable.other.readwrite.instance\",\"variable.other.property\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Variable Property Other object property\",\"scope\":[\"variable.other.object.property\"],\"settings\":{\"foreground\":\"#faf39f\",\"fontStyle\":\"\"}},{\"name\":\"Variable Property Other object\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Entity Name Function\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#82aaff\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Comparison, returns, imports, and Keyword Operator Ruby\",\"scope\":[\"keyword.control.conditional.js\",\"keyword.operator.comparison\",\"keyword.control.flow.js\",\"keyword.control.flow.ts\",\"keyword.control.flow.tsx\",\"keyword.control.ruby\",\"keyword.control.def.ruby\",\"keyword.control.loop.js\",\"keyword.control.loop.ts\",\"keyword.control.import.js\",\"keyword.control.import.ts\",\"keyword.control.import.tsx\",\"keyword.control.from.js\",\"keyword.control.from.ts\",\"keyword.control.from.tsx\",\"keyword.control.conditional.js\",\"keyword.control.conditional.ts\",\"keyword.control.switch.js\",\"keyword.control.switch.ts\",\"keyword.operator.instanceof.js\",\"keyword.operator.expression.instanceof.ts\",\"keyword.operator.expression.instanceof.tsx\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Support Constant, `new` keyword, Special Method Keyword, `debugger`, other keywords\",\"scope\":[\"support.constant\",\"keyword.other.special-method\",\"keyword.other.new\",\"keyword.other.debugger\",\"keyword.control\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Support Function\",\"scope\":[\"support.function\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Invalid Broken\",\"scope\":[\"invalid.broken\"],\"settings\":{\"foreground\":\"#989da0\",\"background\":\"#F78C6C\"}},{\"name\":\"Invalid Unimplemented\",\"scope\":[\"invalid.unimplemented\"],\"settings\":{\"background\":\"#8BD649\",\"foreground\":\"#ffffff\"}},{\"name\":\"Invalid Illegal\",\"scope\":[\"invalid.illegal\"],\"settings\":{\"foreground\":\"#ffffff\",\"background\":\"#ec5f67\"}},{\"name\":\"Language Variable\",\"scope\":[\"variable.language\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Support Variable Property\",\"scope\":[\"support.variable.property\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Variable Function\",\"scope\":[\"variable.function\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Variable Interpolation\",\"scope\":[\"variable.interpolation\"],\"settings\":{\"foreground\":\"#ef787f\"}},{\"name\":\"Meta Function Call\",\"scope\":[\"meta.function-call\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Punctuation Section Embedded\",\"scope\":[\"punctuation.section.embedded\"],\"settings\":{\"foreground\":\"#e2817f\"}},{\"name\":\"Punctuation Tweaks\",\"scope\":[\"punctuation.terminator.expression\",\"punctuation.definition.arguments\",\"punctuation.definition.array\",\"punctuation.section.array\",\"meta.array\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"More Punctuation Tweaks\",\"scope\":[\"punctuation.definition.list.begin\",\"punctuation.definition.list.end\",\"punctuation.separator.arguments\",\"punctuation.definition.list\"],\"settings\":{\"foreground\":\"#d9f5dd\"}},{\"name\":\"Template Strings\",\"scope\":[\"string.template meta.template.expression\"],\"settings\":{\"foreground\":\"#e2817f\"}},{\"name\":\"Backtics(``) in Template Strings\",\"scope\":[\"string.template punctuation.definition.string\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Italics\",\"scope\":[\"italic\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"italic\"}},{\"name\":\"Bold\",\"scope\":[\"bold\"],\"settings\":{\"foreground\":\"#c5e478\",\"fontStyle\":\"bold\"}},{\"name\":\"Quote\",\"scope\":[\"quote\"],\"settings\":{\"foreground\":\"#969bb7\",\"fontStyle\":\"\"}},{\"name\":\"Raw Code\",\"scope\":[\"raw\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"CoffeScript Variable Assignment\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#31e1eb\"}},{\"name\":\"CoffeScript Parameter Function\",\"scope\":[\"variable.parameter.function.coffee\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"CoffeeScript Assignments\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"C# Readwrite Variables\",\"scope\":[\"variable.other.readwrite.cs\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"C# Classes & Storage types\",\"scope\":[\"entity.name.type.class.cs\",\"storage.type.cs\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"C# Namespaces\",\"scope\":[\"entity.name.type.namespace.cs\"],\"settings\":{\"foreground\":\"#b2ccd6\"}},{\"name\":\"C# Unquoted String Zone\",\"scope\":[\"string.unquoted.preprocessor.message.cs\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"C# Region\",\"scope\":[\"punctuation.separator.hash.cs\",\"keyword.preprocessor.region.cs\",\"keyword.preprocessor.endregion.cs\"],\"settings\":{\"foreground\":\"#ffcb8b\",\"fontStyle\":\"bold\"}},{\"name\":\"C# Other Variables\",\"scope\":[\"variable.other.object.cs\"],\"settings\":{\"foreground\":\"#b2ccd6\"}},{\"name\":\"C# Enum\",\"scope\":[\"entity.name.type.enum.cs\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Dart String\",\"scope\":[\"string.interpolated.single.dart\",\"string.interpolated.double.dart\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Dart Class\",\"scope\":[\"support.class.dart\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Tag names in Stylesheets\",\"scope\":[\"entity.name.tag.css\",\"entity.name.tag.less\",\"entity.name.tag.custom.css\",\"support.constant.property-value.css\"],\"settings\":{\"foreground\":\"#ff6d6d\",\"fontStyle\":\"\"}},{\"name\":\"Wildcard(*) selector in Stylesheets\",\"scope\":[\"entity.name.tag.wildcard.css\",\"entity.name.tag.wildcard.less\",\"entity.name.tag.wildcard.scss\",\"entity.name.tag.wildcard.sass\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"CSS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Attribute Name for CSS\",\"scope\":[\"meta.attribute-selector.css entity.other.attribute-name.attribute\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Elixir Classes\",\"scope\":[\"source.elixir support.type.elixir\",\"source.elixir meta.module.elixir entity.name.class.elixir\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Elixir Functions\",\"scope\":[\"source.elixir entity.name.function\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Elixir Constants\",\"scope\":[\"source.elixir constant.other.symbol.elixir\",\"source.elixir constant.other.keywords.elixir\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Elixir String Punctuations\",\"scope\":[\"source.elixir punctuation.definition.string\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Elixir\",\"scope\":[\"source.elixir variable.other.readwrite.module.elixir\",\"source.elixir variable.other.readwrite.module.elixir punctuation.definition.variable.elixir\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Elixir Binary Punctuations\",\"scope\":[\"source.elixir .punctuation.binary.elixir\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Closure Constant Keyword\",\"scope\":[\"constant.keyword.clojure\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Go Function Calls\",\"scope\":[\"source.go meta.function-call.go\"],\"settings\":{\"foreground\":\"#dddddd\"}},{\"name\":\"Go Keywords\",\"scope\":[\"source.go keyword.package.go\",\"source.go keyword.import.go\",\"source.go keyword.function.go\",\"source.go keyword.type.go\",\"source.go keyword.struct.go\",\"source.go keyword.interface.go\",\"source.go keyword.const.go\",\"source.go keyword.var.go\",\"source.go keyword.map.go\",\"source.go keyword.channel.go\",\"source.go keyword.control.go\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Go Constants e.g. nil, string format (%s, %d, etc.)\",\"scope\":[\"source.go constant.language.go\",\"source.go constant.other.placeholder.go\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"C++ Functions\",\"scope\":[\"entity.name.function.preprocessor.cpp\",\"entity.scope.name.cpp\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"C++ Meta Namespace\",\"scope\":[\"meta.namespace-block.cpp\"],\"settings\":{\"foreground\":\"#e0dec6\"}},{\"name\":\"C++ Language Primitive Storage\",\"scope\":[\"storage.type.language.primitive.cpp\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"C++ Preprocessor Macro\",\"scope\":[\"meta.preprocessor.macro.cpp\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"C++ Variable Parameter\",\"scope\":[\"variable.parameter\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Powershell Variables\",\"scope\":[\"variable.other.readwrite.powershell\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Powershell Function\",\"scope\":[\"support.function.powershell\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"ID Attribute Name in HTML\",\"scope\":[\"entity.other.attribute-name.id.html\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"HTML Punctuation Definition Tag\",\"scope\":[\"punctuation.definition.tag.html\"],\"settings\":{\"foreground\":\"#6ae9f0\"}},{\"name\":\"HTML Doctype\",\"scope\":[\"meta.tag.sgml.doctype.html\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"JavaScript Classes\",\"scope\":[\"meta.class entity.name.type.class.js\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"JavaScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.js\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"JavaScript Terminator\",\"scope\":[\"terminator.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Meta Punctuation Definition\",\"scope\":[\"meta.js punctuation.definition.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Entity Names in Code Documentations\",\"scope\":[\"entity.name.type.instance.jsdoc\",\"entity.name.type.instance.phpdoc\"],\"settings\":{\"foreground\":\"#889fb2\"}},{\"name\":\"Other Variables in Code Documentations\",\"scope\":[\"variable.other.jsdoc\",\"variable.other.phpdoc\"],\"settings\":{\"foreground\":\"#78ccf0\"}},{\"name\":\"JavaScript module imports and exports\",\"scope\":[\"variable.other.meta.import.js\",\"meta.import.js variable.other\",\"variable.other.meta.export.js\",\"meta.export.js variable.other\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Variable Parameter Function\",\"scope\":[\"variable.parameter.function.js\"],\"settings\":{\"foreground\":\"#8b96ea\"}},{\"name\":\"JavaScript[React] Variable Other Object\",\"scope\":[\"variable.other.object.js\",\"variable.other.object.jsx\",\"variable.object.property.js\",\"variable.object.property.jsx\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Variables\",\"scope\":[\"variable.js\",\"variable.other.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Entity Name Type\",\"scope\":[\"entity.name.type.js\",\"entity.name.type.module.js\"],\"settings\":{\"foreground\":\"#ffcb8b\",\"fontStyle\":\"\"}},{\"name\":\"JavaScript Support Classes\",\"scope\":[\"support.class.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JSON Property Names\",\"scope\":[\"support.type.property-name.json\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"JSON Support Constants\",\"scope\":[\"support.constant.json\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"JSON Property values (string)\",\"scope\":[\"meta.structure.dictionary.value.json string.quoted.double\"],\"settings\":{\"foreground\":\"#c789d6\"}},{\"name\":\"Strings in JSON values\",\"scope\":[\"string.quoted.double.json punctuation.definition.string.json\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"Specific JSON Property values like null\",\"scope\":[\"meta.structure.dictionary.json meta.structure.dictionary.value constant.language\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"JavaScript Other Variable\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Ruby Variables\",\"scope\":[\"variable.other.ruby\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Ruby Class\",\"scope\":[\"entity.name.type.class.ruby\"],\"settings\":{\"foreground\":\"#ecc48d\"}},{\"name\":\"Ruby Hashkeys\",\"scope\":[\"constant.language.symbol.hashkey.ruby\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"LESS Tag names\",\"scope\":[\"entity.name.tag.less\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"LESS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Attribute Name for LESS\",\"scope\":[\"meta.attribute-selector.less entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Markdown Headings\",\"scope\":[\"markup.heading.markdown\",\"markup.heading.setext.1.markdown\",\"markup.heading.setext.2.markdown\"],\"settings\":{\"foreground\":\"#82b1ff\"}},{\"name\":\"Markdown Italics\",\"scope\":[\"markup.italic.markdown\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"italic\"}},{\"name\":\"Markdown Bold\",\"scope\":[\"markup.bold.markdown\"],\"settings\":{\"foreground\":\"#c5e478\",\"fontStyle\":\"bold\"}},{\"name\":\"Markdown Quote + others\",\"scope\":[\"markup.quote.markdown\"],\"settings\":{\"foreground\":\"#969bb7\",\"fontStyle\":\"\"}},{\"name\":\"Markdown Raw Code + others\",\"scope\":[\"markup.inline.raw.markdown\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"Markdown Links\",\"scope\":[\"markup.underline.link.markdown\",\"markup.underline.link.image.markdown\"],\"settings\":{\"foreground\":\"#ff869a\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Link Title and Description\",\"scope\":[\"string.other.link.title.markdown\",\"string.other.link.description.markdown\"],\"settings\":{\"foreground\":\"#d6deeb\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Punctuation\",\"scope\":[\"punctuation.definition.string.markdown\",\"punctuation.definition.string.begin.markdown\",\"punctuation.definition.string.end.markdown\",\"meta.link.inline.markdown punctuation.definition.string\"],\"settings\":{\"foreground\":\"#82b1ff\"}},{\"name\":\"Markdown MetaData Punctuation\",\"scope\":[\"punctuation.definition.metadata.markdown\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Markdown List Punctuation\",\"scope\":[\"beginning.punctuation.definition.list.markdown\"],\"settings\":{\"foreground\":\"#82b1ff\"}},{\"name\":\"Markdown Inline Raw String\",\"scope\":[\"markup.inline.raw.string.markdown\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"PHP Variables\",\"scope\":[\"variable.other.php\"],\"settings\":{\"foreground\":\"#bec5d4\"}},{\"name\":\"Support Classes in PHP\",\"scope\":[\"support.class.php\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Punctuations in PHP function calls\",\"scope\":[\"meta.function-call.php punctuation\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"PHP Global Variables\",\"scope\":[\"variable.other.global.php\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Declaration Punctuation in PHP Global Variables\",\"scope\":[\"variable.other.global.php punctuation.definition.variable\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Language Constants in Python\",\"scope\":[\"constant.language.python\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Python Function Parameter and Arguments\",\"scope\":[\"variable.parameter.function.python\",\"meta.function-call.arguments.python\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Python Function Call\",\"scope\":[\"meta.function-call.python\",\"meta.function-call.generic.python\"],\"settings\":{\"foreground\":\"#b2ccd6\"}},{\"name\":\"Punctuations in Python\",\"scope\":[\"punctuation.python\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Decorator Functions in Python\",\"scope\":[\"entity.name.function.decorator.python\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Python Language Variable\",\"scope\":[\"source.python variable.language.special\"],\"settings\":{\"foreground\":\"#8eace3\"}},{\"name\":\"Python import control keyword\",\"scope\":[\"keyword.control\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"SCSS Variable\",\"scope\":[\"variable.scss\",\"variable.sass\",\"variable.parameter.url.scss\",\"variable.parameter.url.sass\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#bec5d4\"}},{\"name\":\"Attribute Name for SASS\",\"scope\":[\"meta.attribute-selector.scss entity.other.attribute-name.attribute\",\"meta.attribute-selector.sass entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Tag names in SASS\",\"scope\":[\"entity.name.tag.scss\",\"entity.name.tag.sass\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"SASS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.scss\",\"keyword.other.unit.sass\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"TypeScript[React] Variables and Object Properties\",\"scope\":[\"variable.other.readwrite.alias.ts\",\"variable.other.readwrite.alias.tsx\",\"variable.other.readwrite.ts\",\"variable.other.readwrite.tsx\",\"variable.other.object.ts\",\"variable.other.object.tsx\",\"variable.object.property.ts\",\"variable.object.property.tsx\",\"variable.other.ts\",\"variable.other.tsx\",\"variable.tsx\",\"variable.ts\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"TypeScript[React] Entity Name Types\",\"scope\":[\"entity.name.type.ts\",\"entity.name.type.tsx\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"TypeScript[React] Node Classes\",\"scope\":[\"support.class.node.ts\",\"support.class.node.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"TypeScript[React] Entity Name Types as Parameters\",\"scope\":[\"meta.type.parameters.ts entity.name.type\",\"meta.type.parameters.tsx entity.name.type\"],\"settings\":{\"foreground\":\"#889fb2\"}},{\"name\":\"TypeScript[React] Import/Export Punctuations\",\"scope\":[\"meta.import.ts punctuation.definition.block\",\"meta.import.tsx punctuation.definition.block\",\"meta.export.ts punctuation.definition.block\",\"meta.export.tsx punctuation.definition.block\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.decorator punctuation.decorator.ts\",\"meta.decorator punctuation.decorator.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.tag.js meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"YAML Entity Name Tags\",\"scope\":[\"entity.name.tag.yaml\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"JavaScript Variable Other ReadWrite\",\"scope\":[\"variable.other.readwrite.js\",\"variable.parameter\"],\"settings\":{\"foreground\":\"#d7dbe0\"}},{\"name\":\"Support Class Component\",\"scope\":[\"support.class.component.js\",\"support.class.component.tsx\"],\"settings\":{\"foreground\":\"#f78c6c\",\"fontStyle\":\"\"}},{\"name\":\"Text nested in React tags\",\"scope\":[\"meta.jsx.children\",\"meta.jsx.children.js\",\"meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"TypeScript Classes\",\"scope\":[\"meta.class entity.name.type.class.tsx\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"TypeScript Entity Name Type\",\"scope\":[\"entity.name.type.tsx\",\"entity.name.type.module.tsx\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"TypeScript Class Variable Keyword\",\"scope\":[\"meta.class.ts meta.var.expr.ts storage.type.ts\",\"meta.class.tsx meta.var.expr.tsx storage.type.tsx\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"TypeScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.ts\",\"meta.method.declaration storage.type.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"normalize font style of certain components\",\"scope\":[\"meta.property-list.css meta.property-value.css variable.other.less\",\"meta.property-list.scss variable.scss\",\"meta.property-list.sass variable.sass\",\"meta.brace\",\"keyword.operator.operator\",\"keyword.operator.or.regexp\",\"keyword.operator.expression.in\",\"keyword.operator.relational\",\"keyword.operator.assignment\",\"keyword.operator.comparison\",\"keyword.operator.type\",\"keyword.operator\",\"keyword\",\"punctuation.definintion.string\",\"punctuation\",\"variable.other.readwrite.js\",\"storage.type\",\"source.css\",\"string.quoted\"],\"settings\":{\"fontStyle\":\"\"}}],\"styleOverrides\":{\"frames\":{\"editorBackground\":\"var(--sl-color-gray-6)\",\"terminalBackground\":\"var(--sl-color-gray-6)\",\"editorActiveTabBackground\":\"var(--sl-color-gray-6)\",\"terminalTitlebarDotsForeground\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"terminalTitlebarDotsOpacity\":\"0.75\",\"inlineButtonForeground\":\"var(--sl-color-text)\",\"frameBoxShadowCssValue\":\"none\"},\"textMarkers\":{\"markBackground\":\"#ffffff17\",\"markBorderColor\":\"#ffffff40\"}}},{\"name\":\"Night Owl Light\",\"type\":\"light\",\"colors\":{\"focusBorder\":\"#93a1a1\",\"foreground\":\"#403f53\",\"disabledForeground\":\"#61616180\",\"descriptionForeground\":\"#403f53\",\"errorForeground\":\"#403f53\",\"icon.foreground\":\"#424242\",\"contrastActiveBorder\":null,\"contrastBorder\":null,\"textBlockQuote.background\":\"#7f7f7f1a\",\"textBlockQuote.border\":\"#007acc80\",\"textCodeBlock.background\":\"#dcdcdc66\",\"textLink.activeForeground\":\"#006ab1\",\"textLink.foreground\":\"#006ab1\",\"textPreformat.foreground\":\"#a31515\",\"textSeparator.foreground\":\"#0000002e\",\"editor.background\":\"#f6f7f9\",\"editor.foreground\":\"#403f53\",\"editorLineNumber.foreground\":\"#90a7b2\",\"editorLineNumber.activeForeground\":\"#403f53\",\"editorActiveLineNumber.foreground\":\"#0b216f\",\"editor.selectionBackground\":\"#e0e0e0\",\"editor.inactiveSelectionBackground\":\"#e0e0e080\",\"editor.selectionHighlightBackground\":\"#339cec33\",\"editorError.foreground\":\"#e64d49\",\"editorWarning.foreground\":\"#daaa01\",\"editorInfo.foreground\":\"#1a85ff\",\"editorHint.foreground\":\"#6c6c6c\",\"problemsErrorIcon.foreground\":\"#e64d49\",\"problemsWarningIcon.foreground\":\"#daaa01\",\"problemsInfoIcon.foreground\":\"#1a85ff\",\"editor.findMatchBackground\":\"#93a1a16c\",\"editor.findMatchHighlightBackground\":\"#93a1a16c\",\"editor.findRangeHighlightBackground\":\"#7497a633\",\"editorLink.activeForeground\":\"#0000ff\",\"editorLightBulb.foreground\":\"#ddb100\",\"editorLightBulbAutoFix.foreground\":\"#007acc\",\"diffEditor.insertedTextBackground\":\"#9ccc2c40\",\"diffEditor.insertedTextBorder\":null,\"diffEditor.removedTextBackground\":\"#ff000033\",\"diffEditor.removedTextBorder\":null,\"diffEditor.insertedLineBackground\":\"#9bb95533\",\"diffEditor.removedLineBackground\":\"#ff000033\",\"editorStickyScroll.background\":\"#fbfbfb\",\"editorStickyScrollHover.background\":\"#f0f0f0\",\"editorInlayHint.background\":\"#2aa29899\",\"editorInlayHint.foreground\":\"#f0f0f0\",\"editorInlayHint.typeBackground\":\"#2aa29899\",\"editorInlayHint.typeForeground\":\"#f0f0f0\",\"editorInlayHint.parameterBackground\":\"#2aa29899\",\"editorInlayHint.parameterForeground\":\"#f0f0f0\",\"editorPane.background\":\"#fbfbfb\",\"editorGroup.emptyBackground\":null,\"editorGroup.focusedEmptyBorder\":null,\"editorGroupHeader.tabsBackground\":\"var(--sl-color-gray-6)\",\"editorGroupHeader.tabsBorder\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"editorGroupHeader.noTabsBackground\":\"#f0f0f0\",\"editorGroupHeader.border\":null,\"editorGroup.border\":\"#f0f0f0\",\"editorGroup.dropBackground\":\"#2677cb2d\",\"editorGroup.dropIntoPromptForeground\":\"#403f53\",\"editorGroup.dropIntoPromptBackground\":\"#f0f0f0\",\"editorGroup.dropIntoPromptBorder\":null,\"sideBySideEditor.horizontalBorder\":\"#f0f0f0\",\"sideBySideEditor.verticalBorder\":\"#f0f0f0\",\"scrollbar.shadow\":\"#cccccc\",\"scrollbarSlider.background\":\"#0000001a\",\"scrollbarSlider.hoverBackground\":\"#00000055\",\"scrollbarSlider.activeBackground\":\"#00000099\",\"panel.background\":\"#f0f0f0\",\"panel.border\":\"#d9d9d9\",\"panelTitle.activeBorder\":\"#424242\",\"panelTitle.activeForeground\":\"#424242\",\"panelTitle.inactiveForeground\":\"#424242bf\",\"panelSectionHeader.background\":\"#80808051\",\"terminal.background\":\"#f6f6f6\",\"widget.shadow\":\"#d9d9d9\",\"editorWidget.background\":\"#f0f0f0\",\"editorWidget.foreground\":\"#403f53\",\"editorWidget.border\":\"#d9d9d9\",\"quickInput.background\":\"#f0f0f0\",\"quickInput.foreground\":\"#403f53\",\"quickInputTitle.background\":\"#0000000f\",\"pickerGroup.foreground\":\"#403f53\",\"pickerGroup.border\":\"#d9d9d9\",\"editor.hoverHighlightBackground\":\"#339cec33\",\"editorHoverWidget.background\":\"#f0f0f0\",\"editorHoverWidget.foreground\":\"#403f53\",\"editorHoverWidget.border\":\"#d9d9d9\",\"editorHoverWidget.statusBarBackground\":\"#e4e4e4\",\"titleBar.activeBackground\":\"var(--sl-color-gray-6)\",\"titleBar.activeForeground\":\"var(--sl-color-text)\",\"titleBar.inactiveBackground\":\"#f0f0f099\",\"titleBar.inactiveForeground\":\"#33333399\",\"titleBar.border\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"toolbar.hoverBackground\":\"#b8b8b850\",\"toolbar.activeBackground\":\"#a6a6a650\",\"tab.activeBackground\":\"#f6f6f6\",\"tab.unfocusedActiveBackground\":\"#f6f6f6\",\"tab.inactiveBackground\":\"#f0f0f0\",\"tab.unfocusedInactiveBackground\":\"#f0f0f0\",\"tab.activeForeground\":\"var(--sl-color-text)\",\"tab.inactiveForeground\":\"#403f53\",\"tab.unfocusedActiveForeground\":\"#403f53b3\",\"tab.unfocusedInactiveForeground\":\"#403f5380\",\"tab.hoverBackground\":null,\"tab.unfocusedHoverBackground\":null,\"tab.hoverForeground\":null,\"tab.unfocusedHoverForeground\":null,\"tab.border\":\"#f0f0f0\",\"tab.lastPinnedBorder\":\"#a9a9a9\",\"tab.activeBorder\":\"transparent\",\"tab.unfocusedActiveBorder\":null,\"tab.activeBorderTop\":\"var(--sl-color-accent)\",\"tab.unfocusedActiveBorderTop\":null,\"tab.hoverBorder\":null,\"tab.unfocusedHoverBorder\":null,\"tab.activeModifiedBorder\":\"#2aa298\",\"tab.inactiveModifiedBorder\":\"#93a1a1\",\"tab.unfocusedActiveModifiedBorder\":\"#93a1a1\",\"tab.unfocusedInactiveModifiedBorder\":\"#93a1a1\",\"badge.background\":\"#2aa298\",\"badge.foreground\":\"#f0f0f0\",\"button.background\":\"#2aa298\",\"button.foreground\":\"#f0f0f0\",\"button.border\":null,\"button.separator\":\"#f0f0f066\",\"button.hoverBackground\":\"#22827a\",\"button.secondaryBackground\":\"#5f6a79\",\"button.secondaryForeground\":\"#ffffff\",\"button.secondaryHoverBackground\":\"#4c5561\",\"dropdown.background\":\"#f0f0f0\",\"dropdown.foreground\":\"#403f53\",\"dropdown.border\":\"#d9d9d9\",\"list.activeSelectionBackground\":\"#d3e8f8\",\"list.activeSelectionForeground\":\"#403f53\",\"tree.indentGuidesStroke\":\"#a9a9a9\",\"input.background\":\"#f0f0f0\",\"input.foreground\":\"#403f53\",\"input.placeholderForeground\":\"#93a1a1\",\"inputOption.activeBorder\":\"#2aa298\",\"inputOption.hoverBackground\":\"#b8b8b850\",\"inputOption.activeBackground\":\"#93a1a133\",\"inputOption.activeForeground\":\"#000000\",\"inputValidation.infoBackground\":\"#f0f0f0\",\"inputValidation.infoBorder\":\"#d0d0d0\",\"inputValidation.warningBackground\":\"#daaa01\",\"inputValidation.warningBorder\":\"#e0af02\",\"inputValidation.errorBackground\":\"#f76e6e\",\"inputValidation.errorBorder\":\"#de3d3b\",\"keybindingLabel.background\":\"#dddddd66\",\"keybindingLabel.foreground\":\"#555555\",\"keybindingLabel.border\":\"#cccccc66\",\"keybindingLabel.bottomBorder\":\"#bbbbbb66\",\"menu.foreground\":\"#403f53\",\"menu.background\":\"#f0f0f0\",\"menu.selectionForeground\":\"#403f53\",\"menu.selectionBackground\":\"#d3e8f8\",\"menu.separatorBackground\":\"#d4d4d4\",\"editor.snippetTabstopHighlightBackground\":\"#0a326433\",\"editor.snippetFinalTabstopHighlightBorder\":\"#0a326480\",\"terminal.ansiBlack\":\"#403f53\",\"terminal.ansiRed\":\"#de3d3b\",\"terminal.ansiGreen\":\"#08916a\",\"terminal.ansiYellow\":\"#e0af02\",\"terminal.ansiBlue\":\"#288ed7\",\"terminal.ansiMagenta\":\"#d6438a\",\"terminal.ansiCyan\":\"#2aa298\",\"terminal.ansiWhite\":\"#f0f0f0\",\"terminal.ansiBrightBlack\":\"#403f53\",\"terminal.ansiBrightRed\":\"#de3d3b\",\"terminal.ansiBrightGreen\":\"#08916a\",\"terminal.ansiBrightYellow\":\"#daaa01\",\"terminal.ansiBrightBlue\":\"#288ed7\",\"terminal.ansiBrightMagenta\":\"#d6438a\",\"terminal.ansiBrightCyan\":\"#2aa298\",\"terminal.ansiBrightWhite\":\"#f0f0f0\",\"selection.background\":\"#7a8181ad\",\"notifications.background\":\"#f0f0f0\",\"notifications.foreground\":\"#403f53\",\"notificationLink.foreground\":\"#994cc3\",\"notifications.border\":\"#cccccc\",\"notificationCenter.border\":\"#cccccc\",\"notificationToast.border\":\"#cccccc\",\"notificationCenterHeader.foreground\":\"#403f53\",\"notificationCenterHeader.background\":\"#f0f0f0\",\"input.border\":\"#d9d9d9\",\"progressBar.background\":\"#2aa298\",\"list.inactiveSelectionBackground\":\"#e0e7ea\",\"list.inactiveSelectionForeground\":\"#403f53\",\"list.focusBackground\":\"#d3e8f8\",\"list.hoverBackground\":\"#d3e8f8\",\"list.focusForeground\":\"#403f53\",\"list.hoverForeground\":\"#403f53\",\"list.highlightForeground\":\"#403f53\",\"list.errorForeground\":\"#e64d49\",\"list.warningForeground\":\"#daaa01\",\"activityBar.background\":\"#f0f0f0\",\"activityBar.foreground\":\"#403f53\",\"activityBar.dropBackground\":\"#d0d0d0\",\"activityBarBadge.background\":\"#403f53\",\"activityBarBadge.foreground\":\"#f0f0f0\",\"activityBar.border\":\"#f0f0f0\",\"sideBar.background\":\"#f0f0f0\",\"sideBar.foreground\":\"#403f53\",\"sideBarTitle.foreground\":\"#403f53\",\"sideBar.border\":\"#f0f0f0\",\"editorGroup.background\":\"#f6f6f6\",\"editorCursor.foreground\":\"#90a7b2\",\"editor.wordHighlightBackground\":\"#339cec33\",\"editor.wordHighlightStrongBackground\":\"#007dd659\",\"editor.lineHighlightBackground\":\"#f0f0f0\",\"editor.rangeHighlightBackground\":\"#7497a633\",\"editorWhitespace.foreground\":\"#d9d9d9\",\"editorIndentGuide.background\":\"#d9d9d9\",\"editorCodeLens.foreground\":\"#403f53\",\"editorBracketMatch.background\":\"#d3e8f8\",\"editorBracketMatch.border\":\"#2aa298\",\"editorError.border\":\"#fbfbfb\",\"editorWarning.border\":\"#daaa01\",\"editorGutter.addedBackground\":\"#49d0c5\",\"editorGutter.modifiedBackground\":\"#6fbef6\",\"editorGutter.deletedBackground\":\"#f76e6e\",\"editorRuler.foreground\":\"#d9d9d9\",\"editorOverviewRuler.errorForeground\":\"#e64d49\",\"editorOverviewRuler.warningForeground\":\"#daaa01\",\"editorSuggestWidget.background\":\"#f0f0f0\",\"editorSuggestWidget.foreground\":\"#403f53\",\"editorSuggestWidget.highlightForeground\":\"#403f53\",\"editorSuggestWidget.selectedBackground\":\"#d3e8f8\",\"editorSuggestWidget.border\":\"#d9d9d9\",\"debugExceptionWidget.background\":\"#f0f0f0\",\"debugExceptionWidget.border\":\"#d9d9d9\",\"editorMarkerNavigation.background\":\"#d0d0d0\",\"editorMarkerNavigationError.background\":\"#f76e6e\",\"editorMarkerNavigationWarning.background\":\"#daaa01\",\"debugToolBar.background\":\"#f0f0f0\",\"extensionButton.prominentBackground\":\"#2aa298\",\"extensionButton.prominentForeground\":\"#f0f0f0\",\"statusBar.background\":\"#f0f0f0\",\"statusBar.border\":\"#f0f0f0\",\"statusBar.debuggingBackground\":\"#f0f0f0\",\"statusBar.debuggingForeground\":\"#403f53\",\"statusBar.foreground\":\"#403f53\",\"statusBar.noFolderBackground\":\"#f0f0f0\",\"statusBar.noFolderForeground\":\"#403f53\",\"peekView.border\":\"#d9d9d9\",\"peekViewEditor.background\":\"#f6f6f6\",\"peekViewEditorGutter.background\":\"#f6f6f6\",\"peekViewEditor.matchHighlightBackground\":\"#49d0c5\",\"peekViewResult.background\":\"#f0f0f0\",\"peekViewResult.fileForeground\":\"#403f53\",\"peekViewResult.lineForeground\":\"#403f53\",\"peekViewResult.matchHighlightBackground\":\"#49d0c5\",\"peekViewResult.selectionBackground\":\"#e0e7ea\",\"peekViewResult.selectionForeground\":\"#403f53\",\"peekViewTitle.background\":\"#f0f0f0\",\"peekViewTitleLabel.foreground\":\"#403f53\",\"peekViewTitleDescription.foreground\":\"#403f53\",\"terminal.foreground\":\"#403f53\"},\"fg\":\"#403f53\",\"bg\":\"#f6f7f9\",\"semanticHighlighting\":false,\"settings\":[{\"name\":\"Changed\",\"scope\":[\"markup.changed\",\"meta.diff.header.git\",\"meta.diff.header.from-file\",\"meta.diff.header.to-file\"],\"settings\":{\"foreground\":\"#556484\"}},{\"name\":\"Deleted\",\"scope\":[\"markup.deleted.diff\"],\"settings\":{\"foreground\":\"#ae3c3afd\"}},{\"name\":\"Inserted\",\"scope\":[\"markup.inserted.diff\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Global settings\",\"settings\":{\"background\":\"#011627\",\"foreground\":\"#403f53\"}},{\"name\":\"Comment\",\"scope\":[\"comment\"],\"settings\":{\"foreground\":\"#5f636f\"}},{\"name\":\"String\",\"scope\":[\"string\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"String Quoted\",\"scope\":[\"string.quoted\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#984e4d\"}},{\"name\":\"Support Constant Math\",\"scope\":[\"support.constant.math\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Number\",\"scope\":[\"constant.numeric\",\"constant.character.numeric\"],\"settings\":{\"foreground\":\"#aa0982\",\"fontStyle\":\"\"}},{\"name\":\"Built-in constant\",\"scope\":[\"constant.language\",\"punctuation.definition.constant\",\"variable.other.constant\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"User-defined constant\",\"scope\":[\"constant.character\",\"constant.other\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Constant Character Escape\",\"scope\":[\"constant.character.escape\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"RegExp String\",\"scope\":[\"string.regexp\",\"string.regexp keyword.other\"],\"settings\":{\"foreground\":\"#3a688f\"}},{\"name\":\"Comma in functions\",\"scope\":[\"meta.function punctuation.separator.comma\"],\"settings\":{\"foreground\":\"#4d667b\"}},{\"name\":\"Variable\",\"scope\":[\"variable\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Keyword\",\"scope\":[\"punctuation.accessor\",\"keyword\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Storage\",\"scope\":[\"storage\",\"meta.var.expr\",\"meta.class meta.method.declaration meta.var.expr storage.type.js\",\"storage.type.property.js\",\"storage.type.property.ts\",\"storage.type.property.tsx\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type.function.arrow.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Class name\",\"scope\":[\"entity.name.class\",\"meta.class entity.name.type.class\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Inherited class\",\"scope\":[\"entity.other.inherited-class\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Function name\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Meta Tag\",\"scope\":[\"punctuation.definition.tag\",\"meta.tag\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"HTML Tag names\",\"scope\":[\"entity.name.tag\",\"meta.tag.other.html\",\"meta.tag.other.js\",\"meta.tag.other.tsx\",\"entity.name.tag.tsx\",\"entity.name.tag.js\",\"entity.name.tag\",\"meta.tag.js\",\"meta.tag.tsx\",\"meta.tag.html\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Tag attribute\",\"scope\":[\"entity.other.attribute-name\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Entity Name Tag Custom\",\"scope\":[\"entity.name.tag.custom\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Library (function & constant)\",\"scope\":[\"support.function\",\"support.constant\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Support Constant Property Value meta\",\"scope\":[\"support.constant.meta.property-value\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Library class/type\",\"scope\":[\"support.type\",\"support.class\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Support Variable DOM\",\"scope\":[\"support.variable.dom\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Invalid\",\"scope\":[\"invalid\"],\"settings\":{\"foreground\":\"#bb2060\"}},{\"name\":\"Invalid deprecated\",\"scope\":[\"invalid.deprecated\"],\"settings\":{\"foreground\":\"#b23834\"}},{\"name\":\"Keyword Operator\",\"scope\":[\"keyword.operator\"],\"settings\":{\"foreground\":\"#096e72\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Relational\",\"scope\":[\"keyword.operator.relational\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Assignment\",\"scope\":[\"keyword.operator.assignment\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Arithmetic\",\"scope\":[\"keyword.operator.arithmetic\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Bitwise\",\"scope\":[\"keyword.operator.bitwise\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Increment\",\"scope\":[\"keyword.operator.increment\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Ternary\",\"scope\":[\"keyword.operator.ternary\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Double-Slashed Comment\",\"scope\":[\"comment.line.double-slash\"],\"settings\":{\"foreground\":\"#5d6376\"}},{\"name\":\"Object\",\"scope\":[\"object\"],\"settings\":{\"foreground\":\"#58656a\"}},{\"name\":\"Null\",\"scope\":[\"constant.language.null\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Meta Brace\",\"scope\":[\"meta.brace\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Meta Delimiter Period\",\"scope\":[\"meta.delimiter.period\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Punctuation Definition String\",\"scope\":[\"punctuation.definition.string\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Punctuation Definition String Markdown\",\"scope\":[\"punctuation.definition.string.begin.markdown\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Boolean\",\"scope\":[\"constant.language.boolean\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Object Comma\",\"scope\":[\"object.comma\"],\"settings\":{\"foreground\":\"#646464\"}},{\"name\":\"Variable Parameter Function\",\"scope\":[\"variable.parameter.function\"],\"settings\":{\"foreground\":\"#096e72\",\"fontStyle\":\"\"}},{\"name\":\"Support Type Property Name & entity name tags\",\"scope\":[\"support.type.vendor.property-name\",\"support.constant.vendor.property-value\",\"support.type.property-name\",\"meta.property-list entity.name.tag\"],\"settings\":{\"foreground\":\"#096e72\",\"fontStyle\":\"\"}},{\"name\":\"Entity Name tag reference in stylesheets\",\"scope\":[\"meta.property-list entity.name.tag.reference\"],\"settings\":{\"foreground\":\"#286d70\"}},{\"name\":\"Constant Other Color RGB Value Punctuation Definition Constant\",\"scope\":[\"constant.other.color.rgb-value punctuation.definition.constant\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Constant Other Color\",\"scope\":[\"constant.other.color\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Keyword Other Unit\",\"scope\":[\"keyword.other.unit\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Meta Selector\",\"scope\":[\"meta.selector\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Entity Other Attribute Name Id\",\"scope\":[\"entity.other.attribute-name.id\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Meta Property Name\",\"scope\":[\"meta.property-name\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Doctypes\",\"scope\":[\"entity.name.tag.doctype\",\"meta.tag.sgml.doctype\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Punctuation Definition Parameters\",\"scope\":[\"punctuation.definition.parameters\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Keyword Control Operator\",\"scope\":[\"keyword.control.operator\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Keyword Operator Logical\",\"scope\":[\"keyword.operator.logical\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"\"}},{\"name\":\"Variable Instances\",\"scope\":[\"variable.instance\",\"variable.other.instance\",\"variable.readwrite.instance\",\"variable.other.readwrite.instance\",\"variable.other.property\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Variable Property Other object property\",\"scope\":[\"variable.other.object.property\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Variable Property Other object\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Entity Name Function\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Keyword Operator Comparison, imports, returns and Keyword Operator Ruby\",\"scope\":[\"keyword.operator.comparison\",\"keyword.control.flow.js\",\"keyword.control.flow.ts\",\"keyword.control.flow.tsx\",\"keyword.control.ruby\",\"keyword.control.module.ruby\",\"keyword.control.class.ruby\",\"keyword.control.def.ruby\",\"keyword.control.loop.js\",\"keyword.control.loop.ts\",\"keyword.control.import.js\",\"keyword.control.import.ts\",\"keyword.control.import.tsx\",\"keyword.control.from.js\",\"keyword.control.from.ts\",\"keyword.control.from.tsx\",\"keyword.operator.instanceof.js\",\"keyword.operator.expression.instanceof.ts\",\"keyword.operator.expression.instanceof.tsx\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Control Conditional\",\"scope\":[\"keyword.control.conditional.js\",\"keyword.control.conditional.ts\",\"keyword.control.switch.js\",\"keyword.control.switch.ts\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"\"}},{\"name\":\"Support Constant, `new` keyword, Special Method Keyword, `debugger`, other keywords\",\"scope\":[\"support.constant\",\"keyword.other.special-method\",\"keyword.other.new\",\"keyword.other.debugger\",\"keyword.control\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Support Function\",\"scope\":[\"support.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Invalid Broken\",\"scope\":[\"invalid.broken\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Invalid Unimplemented\",\"scope\":[\"invalid.unimplemented\"],\"settings\":{\"foreground\":\"#486e26\"}},{\"name\":\"Invalid Illegal\",\"scope\":[\"invalid.illegal\"],\"settings\":{\"foreground\":\"#984e4d\"}},{\"name\":\"Language Variable\",\"scope\":[\"variable.language\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Support Variable Property\",\"scope\":[\"support.variable.property\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Variable Function\",\"scope\":[\"variable.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Variable Interpolation\",\"scope\":[\"variable.interpolation\"],\"settings\":{\"foreground\":\"#a64348\"}},{\"name\":\"Meta Function Call\",\"scope\":[\"meta.function-call\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Punctuation Section Embedded\",\"scope\":[\"punctuation.section.embedded\"],\"settings\":{\"foreground\":\"#b23834\"}},{\"name\":\"Punctuation Tweaks\",\"scope\":[\"punctuation.terminator.expression\",\"punctuation.definition.arguments\",\"punctuation.definition.array\",\"punctuation.section.array\",\"meta.array\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"More Punctuation Tweaks\",\"scope\":[\"punctuation.definition.list.begin\",\"punctuation.definition.list.end\",\"punctuation.separator.arguments\",\"punctuation.definition.list\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Template Strings\",\"scope\":[\"string.template meta.template.expression\"],\"settings\":{\"foreground\":\"#b23834\"}},{\"name\":\"Backtics(``) in Template Strings\",\"scope\":[\"string.template punctuation.definition.string\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Italics\",\"scope\":[\"italic\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"italic\"}},{\"name\":\"Bold\",\"scope\":[\"bold\"],\"settings\":{\"foreground\":\"#3b61b0\",\"fontStyle\":\"bold\"}},{\"name\":\"Quote\",\"scope\":[\"quote\"],\"settings\":{\"foreground\":\"#5c6285\"}},{\"name\":\"Raw Code\",\"scope\":[\"raw\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"CoffeScript Variable Assignment\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#186e73\"}},{\"name\":\"CoffeScript Parameter Function\",\"scope\":[\"variable.parameter.function.coffee\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"CoffeeScript Assignments\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"C# Readwrite Variables\",\"scope\":[\"variable.other.readwrite.cs\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"C# Classes & Storage types\",\"scope\":[\"entity.name.type.class.cs\",\"storage.type.cs\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"C# Namespaces\",\"scope\":[\"entity.name.type.namespace.cs\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Tag names in Stylesheets\",\"scope\":[\"entity.name.tag.css\",\"entity.name.tag.less\",\"entity.name.tag.custom.css\",\"support.constant.property-value.css\"],\"settings\":{\"foreground\":\"#984e4d\",\"fontStyle\":\"\"}},{\"name\":\"Wildcard(*) selector in Stylesheets\",\"scope\":[\"entity.name.tag.wildcard.css\",\"entity.name.tag.wildcard.less\",\"entity.name.tag.wildcard.scss\",\"entity.name.tag.wildcard.sass\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"CSS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Attribute Name for CSS\",\"scope\":[\"meta.attribute-selector.css entity.other.attribute-name.attribute\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Elixir Classes\",\"scope\":[\"source.elixir support.type.elixir\",\"source.elixir meta.module.elixir entity.name.class.elixir\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir Functions\",\"scope\":[\"source.elixir entity.name.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir Constants\",\"scope\":[\"source.elixir constant.other.symbol.elixir\",\"source.elixir constant.other.keywords.elixir\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir String Punctuations\",\"scope\":[\"source.elixir punctuation.definition.string\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir\",\"scope\":[\"source.elixir variable.other.readwrite.module.elixir\",\"source.elixir variable.other.readwrite.module.elixir punctuation.definition.variable.elixir\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir Binary Punctuations\",\"scope\":[\"source.elixir .punctuation.binary.elixir\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Closure Constant Keyword\",\"scope\":[\"constant.keyword.clojure\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Go Function Calls\",\"scope\":[\"source.go meta.function-call.go\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Go Keywords\",\"scope\":[\"source.go keyword.package.go\",\"source.go keyword.import.go\",\"source.go keyword.function.go\",\"source.go keyword.type.go\",\"source.go keyword.struct.go\",\"source.go keyword.interface.go\",\"source.go keyword.const.go\",\"source.go keyword.var.go\",\"source.go keyword.map.go\",\"source.go keyword.channel.go\",\"source.go keyword.control.go\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Go Constants e.g. nil, string format (%s, %d, etc.)\",\"scope\":[\"source.go constant.language.go\",\"source.go constant.other.placeholder.go\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"C++ Functions\",\"scope\":[\"entity.name.function.preprocessor.cpp\",\"entity.scope.name.cpp\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"C++ Meta Namespace\",\"scope\":[\"meta.namespace-block.cpp\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"C++ Language Primitive Storage\",\"scope\":[\"storage.type.language.primitive.cpp\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"C++ Preprocessor Macro\",\"scope\":[\"meta.preprocessor.macro.cpp\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"C++ Variable Parameter\",\"scope\":[\"variable.parameter\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Powershell Variables\",\"scope\":[\"variable.other.readwrite.powershell\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Powershell Function\",\"scope\":[\"support.function.powershell\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"ID Attribute Name in HTML\",\"scope\":[\"entity.other.attribute-name.id.html\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"HTML Punctuation Definition Tag\",\"scope\":[\"punctuation.definition.tag.html\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"HTML Doctype\",\"scope\":[\"meta.tag.sgml.doctype.html\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"JavaScript Classes\",\"scope\":[\"meta.class entity.name.type.class.js\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"JavaScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.js\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"JavaScript Terminator\",\"scope\":[\"terminator.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Meta Punctuation Definition\",\"scope\":[\"meta.js punctuation.definition.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Entity Names in Code Documentations\",\"scope\":[\"entity.name.type.instance.jsdoc\",\"entity.name.type.instance.phpdoc\"],\"settings\":{\"foreground\":\"#4d667b\"}},{\"name\":\"Other Variables in Code Documentations\",\"scope\":[\"variable.other.jsdoc\",\"variable.other.phpdoc\"],\"settings\":{\"foreground\":\"#3e697c\"}},{\"name\":\"JavaScript module imports and exports\",\"scope\":[\"variable.other.meta.import.js\",\"meta.import.js variable.other\",\"variable.other.meta.export.js\",\"meta.export.js variable.other\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Variable Parameter Function\",\"scope\":[\"variable.parameter.function.js\"],\"settings\":{\"foreground\":\"#555ea2\"}},{\"name\":\"JavaScript[React] Variable Other Object\",\"scope\":[\"variable.other.object.js\",\"variable.other.object.jsx\",\"variable.object.property.js\",\"variable.object.property.jsx\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Variables\",\"scope\":[\"variable.js\",\"variable.other.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Entity Name Type\",\"scope\":[\"entity.name.type.js\",\"entity.name.type.module.js\"],\"settings\":{\"foreground\":\"#111111\",\"fontStyle\":\"\"}},{\"name\":\"JavaScript Support Classes\",\"scope\":[\"support.class.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JSON Property Names\",\"scope\":[\"support.type.property-name.json\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"JSON Support Constants\",\"scope\":[\"support.constant.json\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"JSON Property values (string)\",\"scope\":[\"meta.structure.dictionary.value.json string.quoted.double\"],\"settings\":{\"foreground\":\"#7c5686\"}},{\"name\":\"Strings in JSON values\",\"scope\":[\"string.quoted.double.json punctuation.definition.string.json\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Specific JSON Property values like null\",\"scope\":[\"meta.structure.dictionary.json meta.structure.dictionary.value constant.language\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"JavaScript Other Variable\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Ruby Variables\",\"scope\":[\"variable.other.ruby\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Ruby Class\",\"scope\":[\"entity.name.type.class.ruby\"],\"settings\":{\"foreground\":\"#984e4d\"}},{\"name\":\"Ruby Hashkeys\",\"scope\":[\"constant.language.symbol.hashkey.ruby\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Ruby Symbols\",\"scope\":[\"constant.language.symbol.ruby\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"LESS Tag names\",\"scope\":[\"entity.name.tag.less\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"LESS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Attribute Name for LESS\",\"scope\":[\"meta.attribute-selector.less entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Markdown Headings\",\"scope\":[\"markup.heading.markdown\",\"markup.heading.setext.1.markdown\",\"markup.heading.setext.2.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Markdown Italics\",\"scope\":[\"markup.italic.markdown\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"italic\"}},{\"name\":\"Markdown Bold\",\"scope\":[\"markup.bold.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\",\"fontStyle\":\"bold\"}},{\"name\":\"Markdown Quote + others\",\"scope\":[\"markup.quote.markdown\"],\"settings\":{\"foreground\":\"#5c6285\"}},{\"name\":\"Markdown Raw Code + others\",\"scope\":[\"markup.inline.raw.markdown\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Markdown Links\",\"scope\":[\"markup.underline.link.markdown\",\"markup.underline.link.image.markdown\"],\"settings\":{\"foreground\":\"#954f5a\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Link Title and Description\",\"scope\":[\"string.other.link.title.markdown\",\"string.other.link.description.markdown\"],\"settings\":{\"foreground\":\"#403f53\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Punctuation\",\"scope\":[\"punctuation.definition.string.markdown\",\"punctuation.definition.string.begin.markdown\",\"punctuation.definition.string.end.markdown\",\"meta.link.inline.markdown punctuation.definition.string\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Markdown MetaData Punctuation\",\"scope\":[\"punctuation.definition.metadata.markdown\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Markdown List Punctuation\",\"scope\":[\"beginning.punctuation.definition.list.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Markdown Inline Raw String\",\"scope\":[\"markup.inline.raw.string.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"PHP Variables\",\"scope\":[\"variable.other.php\",\"variable.other.property.php\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Support Classes in PHP\",\"scope\":[\"support.class.php\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Punctuations in PHP function calls\",\"scope\":[\"meta.function-call.php punctuation\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"PHP Global Variables\",\"scope\":[\"variable.other.global.php\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Declaration Punctuation in PHP Global Variables\",\"scope\":[\"variable.other.global.php punctuation.definition.variable\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Language Constants in Python\",\"scope\":[\"constant.language.python\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Python Function Parameter and Arguments\",\"scope\":[\"variable.parameter.function.python\",\"meta.function-call.arguments.python\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Python Function Call\",\"scope\":[\"meta.function-call.python\",\"meta.function-call.generic.python\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Punctuations in Python\",\"scope\":[\"punctuation.python\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Decorator Functions in Python\",\"scope\":[\"entity.name.function.decorator.python\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Python Language Variable\",\"scope\":[\"source.python variable.language.special\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Python import control keyword\",\"scope\":[\"keyword.control\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"SCSS Variable\",\"scope\":[\"variable.scss\",\"variable.sass\",\"variable.parameter.url.scss\",\"variable.parameter.url.sass\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Attribute Name for SASS\",\"scope\":[\"meta.attribute-selector.scss entity.other.attribute-name.attribute\",\"meta.attribute-selector.sass entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Tag names in SASS\",\"scope\":[\"entity.name.tag.scss\",\"entity.name.tag.sass\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"SASS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.scss\",\"keyword.other.unit.sass\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"TypeScript[React] Variables and Object Properties\",\"scope\":[\"variable.other.readwrite.alias.ts\",\"variable.other.readwrite.alias.tsx\",\"variable.other.readwrite.ts\",\"variable.other.readwrite.tsx\",\"variable.other.object.ts\",\"variable.other.object.tsx\",\"variable.object.property.ts\",\"variable.object.property.tsx\",\"variable.other.ts\",\"variable.other.tsx\",\"variable.tsx\",\"variable.ts\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"TypeScript[React] Entity Name Types\",\"scope\":[\"entity.name.type.ts\",\"entity.name.type.tsx\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"TypeScript[React] Node Classes\",\"scope\":[\"support.class.node.ts\",\"support.class.node.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"TypeScript[React] Entity Name Types as Parameters\",\"scope\":[\"meta.type.parameters.ts entity.name.type\",\"meta.type.parameters.tsx entity.name.type\"],\"settings\":{\"foreground\":\"#4d667b\"}},{\"name\":\"TypeScript[React] Import/Export Punctuations\",\"scope\":[\"meta.import.ts punctuation.definition.block\",\"meta.import.tsx punctuation.definition.block\",\"meta.export.ts punctuation.definition.block\",\"meta.export.tsx punctuation.definition.block\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.decorator punctuation.decorator.ts\",\"meta.decorator punctuation.decorator.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.tag.js meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"YAML Entity Name Tags\",\"scope\":[\"entity.name.tag.yaml\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"JavaScript Variable Other ReadWrite\",\"scope\":[\"variable.other.readwrite.js\",\"variable.parameter\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Support Class Component\",\"scope\":[\"support.class.component.js\",\"support.class.component.tsx\"],\"settings\":{\"foreground\":\"#aa0982\",\"fontStyle\":\"\"}},{\"name\":\"Text nested in React tags\",\"scope\":[\"meta.jsx.children\",\"meta.jsx.children.js\",\"meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"TypeScript Classes\",\"scope\":[\"meta.class entity.name.type.class.tsx\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"TypeScript Entity Name Type\",\"scope\":[\"entity.name.type.tsx\",\"entity.name.type.module.tsx\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"TypeScript Class Variable Keyword\",\"scope\":[\"meta.class.ts meta.var.expr.ts storage.type.ts\",\"meta.class.tsx meta.var.expr.tsx storage.type.tsx\"],\"settings\":{\"foreground\":\"#76578b\"}},{\"name\":\"TypeScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.ts\",\"meta.method.declaration storage.type.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"normalize font style of certain components\",\"scope\":[\"meta.property-list.css meta.property-value.css variable.other.less\",\"meta.property-list.scss variable.scss\",\"meta.property-list.sass variable.sass\",\"meta.brace\",\"keyword.operator.operator\",\"keyword.operator.or.regexp\",\"keyword.operator.expression.in\",\"keyword.operator.relational\",\"keyword.operator.assignment\",\"keyword.operator.comparison\",\"keyword.operator.type\",\"keyword.operator\",\"keyword\",\"punctuation.definintion.string\",\"punctuation\",\"variable.other.readwrite.js\",\"storage.type\",\"source.css\",\"string.quoted\"],\"settings\":{\"fontStyle\":\"\"}}],\"styleOverrides\":{\"frames\":{\"editorBackground\":\"var(--sl-color-gray-7)\",\"terminalBackground\":\"var(--sl-color-gray-7)\",\"editorActiveTabBackground\":\"var(--sl-color-gray-7)\",\"terminalTitlebarDotsForeground\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"terminalTitlebarDotsOpacity\":\"0.75\",\"inlineButtonForeground\":\"var(--sl-color-text)\",\"frameBoxShadowCssValue\":\"none\"},\"textMarkers\":{\"markBackground\":\"#0000001a\",\"markBorderColor\":\"#00000055\"}}}],\"defaultLocale\":\"en\",\"cascadeLayer\":\"starlight.components\",\"styleOverrides\":{\"borderRadius\":\"16px\",\"borderWidth\":\"1.5px\",\"codePaddingBlock\":\"16px\",\"codePaddingInline\":\"24px\",\"codeFontFamily\":\"var(--__sl-font-mono)\",\"codeFontSize\":\"16px\",\"codeLineHeight\":\"var(--sl-line-height)\",\"uiFontFamily\":\"var(--__sl-font)\",\"textMarkers\":{\"lineDiffIndicatorMarginLeft\":\"0.25rem\",\"defaultChroma\":\"45\",\"backgroundOpacity\":\"60%\"},\"borderColor\":\"rgba(255, 255, 255, 0.05)\",\"uiPaddingBlock\":\"24px\",\"frames\":{\"terminalTitlebarBackground\":\"rgba(255, 255, 255, 0.03)\"}},\"plugins\":[{\"name\":\"Starlight Plugin\",\"hooks\":{}},{\"name\":\"astro-expressive-code\",\"hooks\":{}}]}]],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false},\"legacy\":{\"collections\":false},\"i18n\":{\"defaultLocale\":\"en\",\"locales\":[\"en\"],\"routing\":{\"prefixDefaultLocale\":false,\"redirectToDefaultLocale\":false,\"fallbackType\":\"redirect\"}}}","blog",["Map",11,12,23,24,31,32,39,40,47,48,55,56,63,64,71,72,79,80,87,88],"release/2.0",{"id":11,"data":13,"body":19,"filePath":20,"digest":21,"deferredRender":22},{"title":14,"slug":11,"author":15,"description":18},"Release: Yarn 2.0 ",{"id":16,"collection":17},"arcanis","authors","","Hi everyone! After exactly 365 days of _very_ intensive development, I'm extremely happy to unveil the first stable release of Yarn 2. In this post I will explain what this release will mean for our community. Buckle up!\n\n_If you're interested to know more about what will happen to Yarn 1, keep reading as we detail our plans later down this post: [Future Plans](#what-will-happen-to-the-legacy-codebase). If you just want to start right now with Yarn 2, check out the [Getting Started](https://next.yarnpkg.com/getting-started/install) or [Migration](https://next.yarnpkg.com/advanced/migration) guides._\n\n{/* truncate */}\n\n## **Release Overview**\n\nDescribing this release is particularly difficult - it contains core, fundamental changes, shipped together with new features born from our own usage.\n\n## **Highlights**\n\n- [The output got redesigned for improved readability](#cli-output)\n- [designed for improved readability](#cli-output)\n- [Our CLI commands (`yarn add`, ...) are now aware of workspaces](#workspaceaware-cli)\n- [Running `yarn install` can be made optional on per-repo basis](#zeroinstalls)\n- [A safer `npx` counterpart called `yarn dlx` to run one-shot tools](#new-command-raw-yarn-dlx-endraw-)\n- [Run commands on all workspaces with `yarn workspaces foreach`](#new-command-raw-yarn-workspaces-foreach-endraw-)\n- [Packages can be modified in-place through the `patch:` protocol](#new-protocol-raw-patch-endraw-)\n- [Local packages can be referenced through the new `portal:` protocol](#new-protocol-raw-portal-endraw-)\n- [A new workflow has been designed to efficiently release workspaces](#workspace-releases)\n- [Workspaces can now be declaratively linted and autofixed](#workspace-constraints)\n\n### **But also...**\n\n- [Package builds are now only triggered when absolutely needed](#build-dependency-tracking)\n- [Package builds can now be enabled or disabled on a per-package basis](#perpackage-build-configuration)\n- [Scripts now execute within a normalized shell](#normalized-shell)\n- [Peer dependencies now work even through `yarn link`](#improved-peer-dependency-links)\n- [The lockfile is now proper YAML](#new-lockfile-format)\n- [The codebase is now full TypeScript](#typescript-codebase)\n- [Yarn can now be extended through plugins](#modular-architecture)\n\n### **Breaking changes...**\n\n- [Configuration settings have been normalized](#normalized-configuration)\n- [Packages must respect their boundaries](#strict-package-boundaries)\n- [Bundle dependencies aren't supported anymore](#deprecating-bundle-dependencies)\n- [Packages are stored in read-only archives](#readonly-packages)\n\nThose highlights are only a subset of all the changes and improvements; a more detailed changelog can be found [here](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md), and the upgrade instructions are available [here](https://next.yarnpkg.com/advanced/migration).\n\n## **Frequently Asked Questions**\n\n### **Who should we thank for this release?**\n\nA significant amount of work has been done by [larixer](https://twitter.com/larixer) from [SysGears](https://sysgears.com/), who crawled deep into the engine with the mission to make the transition to Yarn 2 as easy as possible. In particular he wrote the whole `node_modules` compatibility layer, which I can tell you is no easy feat!\n\nMy thanks also go to everyone who spontaneously joined us for a week or a month during the development. In particular [embraser01](https://github.com/Embraser01) for the initial Windows support, [bgotink](https://github.com/bgotink) for typing our filesystem API, [deini](https://github.com/deini) for his contributions to the CLI, and [Daniel](https://twitter.com/daniel15) for his help on the infrastructure migration.\n\nThis work couldn't have been possible without the support from many people from the open-source community - I think in particular to [Nicol](https://twitter.com/NicoloRibaudo) from Babel and [Jordan](https://twitter.com/ljharb) from Browserify, but they're far from being the only ones: the teams of Gatsby, Next, Vue, Webpack, Parcel, Husky, ... your support truly made all the difference in the world.\n\nAnd finally, the project lead and design architect for Yarn 2 has been yours truly, [Mal Nison](https://twitter.com/arcanis). My time was sponsored in large part by [Datadog](https://www.datadoghq.com/), which is a super dope place to develop JS (which [is hiring](https://www.datadoghq.com/careers/) ), and by my fianc and our cats. Never forget that behind all open-source projects are maintainers and their families.\n\n### **How easy will it be to migrate to Yarn 2?**\n\nThanks to our beta testers and the general support of the ecosystem we've been able to soften a lot the pain associated with such a major upgrade. A [Migration Guide](https://next.yarnpkg.com/advanced/migration) is available that goes into more detail, but generally speaking as long as you use the latest versions of your tools (ESLint, Babel, TypeScript, Gatsby, etc), things should be fine.\n\nOne particular caveat however: **Flow and React-Native cannot be used at the moment under PlugnPlay (PnP) environments**. We're looking forward to working with their respective teams to figure out how to make our technologies compatible. In the meantime you can choose to remain on Yarn 1 for as long as you need, or to use the [`node_modules` plugin](https://github.com/yarnpkg/berry/tree/master/packages/plugin-node-modules), which aims to provide a graceful degradation path for smoother upgrade (note that it's still a work in progress - expect dragons). More details [here](https://next.yarnpkg.com/advanced/migration#if-required-install-the-node-modules-plugin).\n\n> **If you don't want to upgrade all of your projects**, just run `yarn policies set-version ^1` in the repositories that need to stay on Yarn 1, and commit the result. Yarn will always prefer the checked-in binaries over the global ones, making it the best way to ensure that everyone in your team shares the exact same release!\n\n### **What will happen to the legacy codebase?**\n\nYarn 1.22 will be released next week. Once done, the 1.x branch will officially enter maintenance mode - meaning that it won't receive further releases from me except when absolutely required to patch vulnerabilities. New features will be developed exclusively against Yarn 2. In practical terms:\n\n- The classic repository (`yarnpkg/yarn`) will move over to `yarnpkg/classic` to reflect its maintenance status. It will be kept open for the time being, but we'll likely archive it in a year or two.\n\n- The modern repository will **not** be renamed into `yarnpkg/yarn`, as that would break a significant amount of backlink history. It will remain [`yarnpkg/berry`](https://github.com/yarnpkg/berry) for the foreseeable future.\n\n- The old website will move over to classic.yarnpkg.com, and the new website (currently [next.yarnpkg.com](https://next.yarnpkg.com)) will be migrated to the main domain name.\n\n- The `yarn` package on npm will not change; we will distribute further version using the new [`yarn set version`](https://yarnpkg.com/cli/set/version) command.\n\nWe expect most of those changes to be completed by February 1, 2020.\n\n## **In Depth**\n\n### **CLI Output**\n\nBack when Yarn was released its CLI output was a good step forward compared to other solutions (plus it had emojis! ), but some issues remained. In particular lots of messages were rather cryptic, and the colours were fighting against the content rather than working with it. Strong from this experience, we decided to try something different for Yarn 2:\n\n![](https://i.imgur.com/qetNioL.png)\n\nAlmost all messages now have their own error codes that can be searched within our [documentation](https://next.yarnpkg.com/advanced/error-codes). Here you'll find comprehensive explanations of the in-and-outs of each message - including suggested fixes. The colours are now used to support the important parts of each message, usually the package names and versions, rather than on a per-line basis.\n\nWe expect some adjustments to be made during the following months (in particular with regard to colour blindness accessibility), but over time I think you'll come to love this new display!\n\n### **Workspace-aware CLI**\n\nWorking with workspaces can sometimes be overwhelming. You need to keep the state of your whole project in mind when adding a new dependency to one of your workspaces. \"Which version should I use? Whats already used by my other workspaces?\", etc.\n\nYarn now facilitates the maintenance of such setups through various means:\n\n- `yarn up \u003Cname>` will upgrade a package in all workspaces at once\n- `yarn add -i \u003Cname>` will offer to reuse the same version as the ones used by your other workspaces (and some other choices)\n- The [version plugin](https://next.yarnpkg.com/features/release-workflow) will give you a way to check that all the relevant workspaces are bumped when one of them is released again.\n\nThose changes highlight the new experience that we want to bring to Yarn: the tool becomes an ally rather than a burden.\n\n![](https://i.imgur.com/fVY7EAs.png)\n\n### **Zero-Installs**\n\nWhile not a feature in itself, the term \"Zero Install\" encompasses a lot of Yarn features tailored around one specific goal - to make your projects as stable and fast as possible by removing the main source of entropy from the equation: Yarn itself.\n\nTo make it short, because Yarn now reads the vendor files directly from the cache, if the cache becomes part of your repository then you never need to run yarn install again. It has a repository size impact, of course, but on par with the [offline mirror feature](https://yarnpkg.com/blog/2016/11/24/offline-mirror/) from Yarn 1 - very reasonable.\n\nFor more details (such as \"why is it different from checking in the `node_modules` directory\"), refer to this [documentation page](https://next.yarnpkg.com/features/zero-installs).\n\n### **New Command: `yarn dlx`**\n\nYarn 2 introduces a new command called [`yarn dlx`](https://next.yarnpkg.com/cli/dlx) (dlx stands for _download and execute_) which basically does the same thing as [`npx`](https://www.npmjs.com/package/npx) in a slightly less dangerous way. Since `npx` is meant to be used for both local and remote scripts, there is a decent risk that a typo could open the door to an attacker:\n\n```\n$ npx serv # Oops, should have been \"serve\"\n```\n\nThis isn't a problem with dlx, which exclusively downloads and executes remote scripts - never local ones. Local scripts are always runnable through yarn run or directly by their name:\n\n```\n$ yarn dlx terser my-file.js\n$ yarn run serve\n$ yarn serve\n```\n\n### **New Command: `yarn workspaces foreach`**\n\nRunning a command over multiple repositories is a relatively common use case, and until now you needed an external tool in order to do it. This isn't the case anymore as the [workspace-tools plugin](https://github.com/yarnpkg/berry/tree/master/packages/plugin-workspace-tools) extends Yarn, allowing you to do just that:\n\n```\n$ yarn workspaces foreach run build\n```\n\nThe command also supports options to control the execution which allow you to tell Yarn to follow dependencies, to execute the commands in parallel, to skip workspaces, and more. Check out the full list of options [here](https://next.yarnpkg.com/cli/workspaces/foreach).\n\n### **New Protocol: `patch:`**\n\nYarn 2 features a new protocol called `patch:`. This protocol can be used whenever you need to apply changes to a specific package in your dependency tree. Its format is similar to the following:\n\n```json\n{\n  \"dependencies\": {\n    \"left-pad\": \"patch:left-pad@1.3.0#./my-patch.patch\"\n  }\n}\n```\n\nTogether with the [`resolutions`](https://next.yarnpkg.com/configuration/manifest#resolutions) field, you can even patch a package located deep within your dependency tree. And since the `patch:` protocol is just another data source, it benefits from the same mechanisms as all other protocols - including caching and checksums!\n\n### **New Protocol: `portal:`**\n\nYarn 2 features a new protocol called `portal:`. You can see `portal:` as a package counterpart of the existing `link:` protocol. Where the `link:` protocol is used to tell Yarn to create a symlink to any folder on your local disk, the `portal:` protocol is used to create a symlink to any _package_ folder.\n\n```json\n{\n  \"dependencies\": {\n    \"@my/app\": \"link:./src\",\n    \"eslint-plugin-foo\": \"portal:./pkgs/eslint-plugin-foo\"\n  }\n}\n```\n\nSo what's the difference you say? Simple: portals follow transitive dependencies, whereas links don't. Even better, portals properly follow peer dependencies, regardless of the location of the symlinked package.\n\n### **Workspace Releases**\n\nWorking with workspaces brings its own bag of problems, and scalable releases may be one of the largest one. Most of large open-source projects around here use [Lerna](https://github.com/lerna/lerna) or a similar tool in order to automatically keep track of changes applied to the workspaces.\n\nWhen we started releasing the beta builds for Yarn 2, we quickly noticed we would be hitting the same walls. We looked around, but existing solutions seemed to have significant requirements - for example, using Lerna you would have to either release all your packages every time, or to keep track yourself of which packages need to be released. Some of that work can be automated, but it becomes even more complex when you consider that a workspace being released may require unrelated packages to be released again too (for example because they use it in their prepack steps)!\n\nTo solve this problem, we've designed a whole new workflow available through a plugin called [`version`](https://github.com/yarnpkg/berry/tree/master/packages/plugin-version). This workflow, documented [here](https://next.yarnpkg.com/features/release-workflow), allows you to delegate part of the release responsibility to your contributors. And to make things even better, it also ships with a visual interface that makes managing releases a walk in the park!\n\n![](https://i.imgur.com/cusXKDV.png)\n\nThis workflow is sill experimental, but it works well enough for us that we think it'll quickly prove an indispensable part of your toolkit when building large projects using workspaces.\n\n### **Workspace Constraints**\n\nWorkspaces quickly proved themselves being one of our most valuable features. Countless projects and applications switched to them during the years. Still, they are not flawless. In particular, it takes a lot of care to keep the workspace dependencies synchronized.\n\nYarn 2 ships with a new concept called [Constraints](https://next.yarnpkg.com/features/constraints). Constraints offer a way to specify generic rules (using [Prolog](https://en.wikipedia.org/wiki/Prolog), a declarative programming language) that must be met in all of your workspaces for the validation to pass. For example, the following will prevent your workspaces from ever depending on underscore - and will be autofixable!\n\n```prolog\ngen_enforced_dependency(WorkspaceCwd, 'underscore', null, DependencyType) :-\n  workspace_has_dependency(WorkspaceCwd, 'underscore', _, DependencyType).\n```\n\nThis other constraint will require that all your workspaces properly describe the repository field in their manifests:\n\n```prolog\ngen_enforced_field(WorkspaceCwd, 'repository.type', 'git') :-\n  workspace(WorkspacedCwd).\n\ngen_enforced_field(WorkspaceCwd, 'repository.url', 'ssh://git@github.com/yarnpkg/berry.git') :-\n  workspace(WorkspacedCwd).\n```\n\nConstraints are definitely one of our most advanced and powerful features, so don't fret yourself if you need time to wrap your head around it. We'll follow up with blog posts to explore them into details - watch this space!\n\n### **Build Dependency Tracking**\n\nA recurrent problem in Yarn 1, native packages used to be rebuilt much more than they should have. For example, running `yarn remove` used to completely rebuild all packages in your dependency tree.\n\nStarting from Yarn 2 we now keep track of the individual dependency trees for each package that lists postinstall scripts, and only run them when those dependency trees changed in some way:\n\n```\n YN0000:  Link step\n YN0007:  sharp@npm:0.23.0 must be rebuilt because its dependency tree changed\n YN0000:  Completed in 16.92s\n YN0000: Done with warnings in 21.07s\n```\n\n### **Per-Package Build Configuration**\n\nYarn 2 now allows you to specify whether a build script should run or not on a per-package basis. At the moment the default is to run everything, so by default you can choose to disable the build for a specific package:\n\n```json\n{\n  \"dependenciesMeta\": {\n    \"core-js\": {\n      \"built\": false\n    }\n  }\n}\n```\n\nIf you instead prefer to disable everything by default, just toggle off [`enableScripts`](https://next.yarnpkg.com/configuration/yarnrc#enableScripts) in your settings then explicitly enable the [`built`](https://next.yarnpkg.com/configuration/manifest#dependenciesMeta.built) flag in `dependenciesMeta`.\n\n### **Normalized Shell**\n\nBack when Yarn 2 was still young, the very first external PR we received was about Windows support. As it turns out Windows users are fairly numerous, and compatibility is important to them. In particular they often face problems with the scripts field which is typically only tested on Bash.\n\nYarn 2 ships with a rudimentary shell interpreter that knows just enough to give you 90% of the language structures typically used in the scripts field. Thanks to this interpreter, your scripts will run just the same regardless of whether they're executed on OSX or Windows:\n\n```json\n{\n  \"scripts\": {\n    \"redirect\": \"node ./something.js > hello.md\",\n    \"no-cross-env\": \"NODE_ENV=prod webpack\"\n  }\n}\n```\n\nEven better, this shell allows us to build tighter integrations, such as exposing the command line arguments to the user scripts:\n\n```json\n{\n  \"scripts\": {\n    \"lint-and-build\": \"yarn lint \\\"$@\\\" && yarn build \\\"$@\\\"\"\n  }\n}\n```\n\n### **Improved Peer Dependency Links**\n\nBecause Node calls realpath on all required paths (unless --preserve-symlinks is on, which is rarely the case), peer dependencies couldn't work through yarn link as they were loaded from the perspective of the true location of the linked package on the disk rather than from its dependent.\n\nThanks to PlugnPlay which can force Node to instantiate packages as many times as needed to satisfy all of their dependency sets, Yarn is now able to properly support this case.\n\n### **New Lockfile Format**\n\nBack when Yarn was created, it was decided that the lockfile would use a format very similar to YAML but with a few key differences (for example without colons between keys and their values). It proved fairly annoying for third-party tools authors, as the parser was custom-made and the grammar was anything but standard.\n\nStarting from Yarn 2, the format for both lockfile and configuration files changed to pure YAML:\n\n```yaml\n\"@yarnpkg/parsers@workspace:^2.0.0-rc.6, @yarnpkg/parsers@workspace:packages/yarnpkg-parsers\":\n  version: 0.0.0-use.local\n  resolution: \"@yarnpkg/parsers@workspace:packages/yarnpkg-parsers\"\n  dependencies:\n    js-yaml: ^3.10.0\n    pegjs: ^0.10.0\n  languageName: unknown\n  linkType: soft\n```\n\n### **TypeScript Codebase**\n\nWhile it might not directly impact you as a user, we've fully migrated from Flow to TypeScript. One huge advantage is that our tooling and contribution workflow is now easier than ever. And since we now allow building Yarn plugins, you'll be able to directly consume our types to make sure your plugins are safe between updates.\n\n```ts\nexport interface Package extends Locator {\n  version: string | null;\n  languageName: string;\n  linkType: LinkType;\n  dependencies: Map\u003CIdentHash, Descriptor>;\n  peerDependencies: Map\u003CIdentHash, Descriptor>;\n  dependenciesMeta: Map\u003Cstring, Map\u003Cstring | null, DependencyMeta>>;\n  peerDependenciesMeta: Map\u003Cstring, PeerDependencyMeta>;\n}\n```\n\n### **Modular Architecture**\n\nI recently wrote a whole [blog post](https://dev.to/arcanis/plugin-systems-when-why-58pp) on the subject so I won't delve too much into it, but Yarn now follows a very modular architecture.\n\nIn particular, this means two interesting things:\n\n- You can write plugins that Yarn will load at runtime, and that will be able to access the true dependency tree as Yarn sees it; this allows you to easily build tools such as [Lerna](https://lerna.js.org/), [Femto](https://fable.io/blog/Introducing-Femto.html), [Patch-Package](https://github.com/ds300/patch-package), ...\n\n- You can have a dependency on the Yarn core itself and instantiate the classes yourself (note that this part is still a bit experimental as we figure out the best way to include the builtin plugins when operating under this mode).\n\nTo give you an idea, we've built a [typescript plugin](https://github.com/yarnpkg/berry/tree/master/packages/plugin-typescript) which will automatically add the relevant `@types/` packages each time you run `yarn add`. Plugins are easy to write - we even have a [tutorial](https://next.yarnpkg.com/advanced/plugin-tutorial) -, so give it a shot sometime!\n\n### **Normalized Configuration**\n\nOne very common piece of feedback we got regarding Yarn 1 was about our configuration pipeline. When Yarn was released we tried to be as compatible with npm as possible, which prompted us to for example try to read the npm configuration files etc. This made it fairly difficult for our users to understand where settings should be configured.\n\n```yml\ninitScope: yarnpkg\nnpmPublishAccess: public\nyarnPath: scripts/run-yarn.js\n```\n\nIn Yarn 2, the whole configuration has been revamped and everything is now kept within a single source of truth named `.yarnrc.yml`. The settings names have changed too in order to become uniform (no more `experimental-pack-script-packages-in-mirror` vs `workspaces-experimental`), so be sure to take a look at our shiny new [documentation](https://next.yarnpkg.com/configuration/yarnrc).\n\n### **Strict Package Boundaries**\n\nPackages aren't allowed to require other packages unless they actually list them in their dependencies. This is in line with the changes we made back when we introduced Plug'n'Play [more than a year ago](https://github.com/yarnpkg/rfcs/pull/101), and we're happy to say that the work we've been doing with the top maintainers of the ecosystem have been fruitful. Nowadays, very few packages still have compatibility issues with this rule.\n\n```ts\n// Error: Something that got detected as your top-level application\n// (because it doesn't seem to belong to any package) tried to access\n// a package that is not declared in your dependencies\n//\n// Required package: not-a-dependency (via \"not-a-dependency\")\n// Required by: /Users/mael/my-app/\nrequire(`not-a-dependency`);\n```\n\n### **Deprecating Bundle Dependencies**\n\nBundle dependencies are an artefact of another time, and all support for them has been dropped. The installs will gracefully degrade and download the packages as originally listed in the dependencies field.\n\n```json\n{\n  \"bundleDependencies\": [\"not-supported-anymore\"]\n}\n```\n\nShould you use bundle dependencies, please check the [Migration Guide](https://next.yarnpkg.com/advanced/migration) for suggested alternatives.\n\n### **Read-Only Packages**\n\nPackages are now kept within their cache archives. For safety and to prevent cache corruptions, those archives are mounted as read-only drives and cannot be modified under normal circumstances:\n\n```ts\nconst { writeFileSync } = require(`fs`);\nconst lodash = require.resolve(`lodash`);\n\n// Error: EROFS: read-only filesystem, open '/node_modules/lodash/lodash.js'\nwriteFileSync(lodash, `module.exports = 42;`);\n```\n\nIf a package needs to modify its own source code, it will need to be [unplugged](https://next.yarnpkg.com/advanced/lexicon#unplugged-package) - either explicitly in the [`dependenciesMeta` field](https://next.yarnpkg.com/configuration/manifest#dependenciesMeta.unplugged), or implicitly by listing a postinstall script.\n\n## **Conclusion**\n\nWow. That's a lot of material, isn't it? I hope you enjoy this update, it's the culmination of literally years of preparation and obstinacy.\n\nEverything I believe package management should be, you'll find it here. The result is for sure more opinionated than it used to be, but I believe this is the way going forward - a careful planning of the long term user experience we want to provide, rather than a toolbox without directions.\n\nAs for me, working on Yarn has been an incredible experience. I'm simultaneously project manager, staff engineer, lead designer, developer relations, and user support. There are ups and downs, but every time I hear someone sharing their Yarn success story my heart is internally cheering a little bit. So do this: [tell me what you like](https://discord.gg/yarnpkg), and help fix what you don't.\n\nHappy 2020! ","src/content/blog/2020-01-24-release-2.0.mdx","a2839fd401c009cd",true,"release/2.1",{"id":23,"data":25,"body":28,"filePath":29,"digest":30,"deferredRender":22},{"title":26,"slug":23,"author":27,"description":18},"Release: Yarn 2.1 ",{"id":16,"collection":17},"How are you doing since [January](https://dev.to/arcanis/introducing-yarn-2-4eh1)? So many things happened since then. I hope you're all safe, wherever you are.\n\nAs for today, we'll be here to talk about Yarn. And as far as Yarn goes I'm happy to report that our work continued at a very good pace! So good in fact that it's now time to release the next minor build, the 2.1 \n\nStill, don't let this little number trick you: more than **350** pull requests were merged since the previous release! This is an incredible pace for our project, only made possible by the dedicated community that gathered around our favorite tool \n\nSo what's in the 2.1? Many, many things! We'll go over the main items, but a more detailed list can be found in [our repository](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md). You should check it out too, there's a lot of interesting tidbits!\n\n> **Don't know how to upgrade?** It's easy: just run `yarn set version berry` in your project, and you'll get the latest build. Want to skip the upgrade? Just revert the changes!\n\n{/* truncate */}\n\n## Linker improvements\n\n#### Node-modules linker\n\nSome people can't migrate to Plug'n'Play installs just yet. That's fine! Some of our contributors don't use it! [**Yarn supports `node_modules` installs too!**](https://yarnpkg.com/configuration/yarnrc#nodeLinker) And thanks to [Larixer](https://twitter.com/larixer)'s impressive work, we're happy to report that even large and complex repositories have successfully upgraded to Yarn 2. And when I say large, I mean [freaking massive ones](https://github.com/babel/babel/tree/next-8-dev) \n\nIn fact, our position is now that the node_modules linker in Yarn 2 is a **strict improvement over the v1**. Multiple hoisting issues have been identified and fixed, and the workspace support has also been improved significantly.\n\nTo give you an idea, back in the v1, Babel had never been able to use the stock Yarn workspaces. We all wanted it to happen, but because of the very tricky nature of self-hosted compiler repositories, it proved very challenging. Until now! **The Babel and Jest repositories are now powered by Yarn 2,** and that's frankly the best seal of quality we could hope for.\n\nSo if you're still on the fence about Plug'n'Play ... don't use it for now! Just migrate for all the other speed and stability and UX improvements \n\n#### Loose mode\n\nThe Plug'n'Play linker also improved, with the introduction of the Loose Mode. In Loose Mode, Yarn will simply warn should the runtime make an unsafe module access, avoiding to throw hard exceptions. This works because we generate at install-time the hoisting map that would have been generated by the node-modules linker, then we use that as a fallback pool for any unspecified dependency. It's still unsafe, but now you can quickly get a bird's eye view of all the potential problems without having to fix them all immediately.\n\nNote that the loose mode **isn't enabled by default** because, somewhat ironically, it may lead to more verbose executions than the strict mode depending on various factors. In particular, packages that wrapped optional require calls between `try/catch` blocks won't be able to prevent the warnings from being emitted, thus causing false positive.\n\n## Major improvements to the `git:` protocol\n\n#### Workspace cloning\n\nFor the past years, most projects have typically followed an \"edit, commit, push, release\" workflow - the first three parts happening on GitHub while the fourth one was being delegated to the npm registry. Downloading dependencies from Git was always an option, of course, but it didn't always received the attention it deserved. In particular, cloning specific packages from monorepos was still an unsolved problem.\n\nWith Yarn 2.1, this situation changes. **Yarn is now able to clone any workspace from any Yarn project.** Note that this only works with Yarn projects at the moment due to the lack of `yarn workspace \u003Cname> run build` counterparts on current npm and pnpm releases.\n\n#### Respectful builds\n\nSee, there's a very important misconception that we (as in, the package manager authors, collectively speaking) have failed to address during the past years. **They are not interchangeable.** You cannot use X instead of Y and expect a reproducible build. Regardless of what the advertisement says, each package manager has its own feature set, and to expect them all to be in sync is fruitless. We sometimes implement features we like from other package managers, of course, but when all is said, each project still has its own characteristics that others will never truly replicate. And that's fine!\n\nSo what does that mean for Git builds in particular? Imagine, you want to use a project that's maintained by someone using pnpm. That's fair. Well, until now, if you were referencing this project with a `git:` dependency, Yarn would clone it, then run `yarn install`, then `yarn pack`. All good! But wait ... did it run `yarn install`? Why not `pnpm install`? Turns out, there were no good reasons. Package managers aren't interchangeable, as I was saying. If a project is configured with a `pnpm-lock.yaml`, then using Yarn to install it is wrong, and would lead to unpredictable builds. Clearly, that's not an acceptable behaviour.\n\nAnd so we fixed it! **Yarn will now properly detect which packages managers are meant to be used by projects cloned from git dependencies.** If there's a `yarn.lock`, it'll be Yarn. If there's a `pnpm-lock.yaml`, it'll be pnpm. And if there's a `package-lock.json`, npm it is.\n\n## CLI Improvements\n\n#### Readability\n\nThe output was very verbose, sometimes hiding important information (especially on CI, where the cache is either always there or never there). Various changes were made to streamline the output and make it easier to digest.\n\n- On terminals, only five fetch notifications will be displayed at a time. The sixth one will cause the removal of the oldest one, and so forth.\n\n- On CI, Yarn will now print a one-line summary instead of the whole definition (unless configured otherwise).\n\n- A new optional setting, `preferTruncatedLines`, will ensure that infos and warnings only take a single line each, keeping your output clean and tidy.\n\n- Most CI systems will offer fold groups on each Yarn step. We're still tweaking a bit this behaviour, and we encourage CI maintainers to reach out to us if you wish to discuss better integrations in this area.\n\n#### Focused workspaces\n\nThe [`yarn workspaces focus` command](https://yarnpkg.com/cli/workspaces/focus) is a new addition inspired by a 1.x feature of the same name. **It allows you to only install the dependencies from one specific workspace** (plus its own workspace dependencies), thereby decreasing the install size by a significant factor. Coupled to the `--production` flag, it's a great tool for developers looking to integrate monorepos with Docker images.\n\nBy the way, the focus implementation takes exactly 99 lines of code. If you're curious what a plugin looks like, [it's a prime example](https://github.com/yarnpkg/berry/blob/master/packages/plugin-workspace-tools/sources/commands/focus.ts) to keep in mind \n\n#### Deep accesses from `yarn config get/set`\n\nThe `yarn config get/set` commands now accept deep paths (ie `foo.bar`), allowing you to access settings with different levels of granularity.\n\nAdditionally, the configuration will now always be redacted before being printed (unless requested otherwise), thereby preventing secrets from accidental leaks.\n\n## Meta improvements\n\n#### Cache filenames\n\nOur cache filenames used to be versioned using a global cache key. As a result, each time we had to bump the cache key (for example because we fixed an issue in the tarball conversion algorithm), all file names changed and were causing a fairly large noise in the Git history for people using [zero-installs](https://yarnpkg.com/features/zero-installs).\n\nThis isn't the case anymore, as we made the cache content-indexed. Each file will only ever change if the archive content actually changes! \n\n#### Playground\n\nOne of our contributors put CodeSandbox and Yarn together in an impressive [playground](https://yarnpkg.com/playground). Through it, you can easily build reproduction cases for bugs you encounter, decreasing the time needed for us to understand and fix them.\n\n#### Documentation index\n\nThanks to [Algolia](https://www.algolia.com/), the Yarn website is now indexed and can be searched from the status bar. We hope this will allow you to quickly find any information you're looking for - whether it's authentication configuration, gitignore examples, or lexicon entries.\n\n#### VSCode Zip Filesystem\n\nWe've published the Zip FS extension on the [VSCode Marketplace](https://marketplace.visualstudio.com/items?itemName=arcanis.vscode-zipfs). Thanks to the work from [Matt Penrice](https://github.com/elmpp), using the Jump to Definition feature with the extension installed will properly send you to the right files, opened straight from the zip archive.\n\nNote that VSCode has an internal limitation preventing the TypeScript server to cover the files located within zip archives (ie you can Jump to Definition from your sources to zip files, but TypeScript won't show its types once you get there). Please upvote the [following issue](https://github.com/microsoft/vscode/issues/59650) to raise the ticket's priority (we already made a PR, but it unfortunately got rejected).\n\n## Other improvements\n\n### Performances\n\n- The Plug'n'Play runtime has been further optimized, which may yield significant boost in some cases (in particular ESLint when using the `eslint-plugin-import` package).\n\n- The binary size also received a lot of attention, and the 2.1 Yarn binary now takes 2.35MB, vs 2.91MB for the 2.0.\n\n###Ecosystem\n\n- Packages can now declare they _need_ to be unpacked in order to be functional using the new `\"preferUnplugged\": true` field in the manifest. **This will hurt the experience of your users** (your project will require hard installs, meaning a heavier footprint and slower installs), so please refrain using this field unless there's absolutely no other choice.\n\n## What's to come?\n\nWe'll try to make more regular minor releases from now on, shipping exactly one minor per month (eventually leading up to the release of Yarn 3 in January 2021). Some topics we have in mind for the next one (come help us! we have a lot of [Good First Issues](https://github.com/yarnpkg/berry/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22)!):\n\n- Add a new `dedupe` command to optimize dependency trees\n- Add changelog support to the builtin release workflow\n- Add support for the `exports` field\n- Add `yarn list` & `yarn fund`\n- Add the telemetry support ([RFC](https://github.com/yarnpkg/berry/issues/1250))\n- And more...!\n\nOf course that's only on the top of my head, so it's possible our objectives shift during the next weeks depending on our own priorities - and of course depending on whether you help us or not \n\nUntil then stay safe, wear a mask, and see you next month!","src/content/blog/2020-07-09-release-2.1.mdx","d661a81fc35f7de3","release/2.2",{"id":31,"data":33,"body":36,"filePath":37,"digest":38,"deferredRender":22},{"title":34,"slug":31,"author":35,"description":18},"Release: Yarn 2.2 ",{"id":16,"collection":17},"I hope you enjoyed the summer! As for us, we've been hard at work, and this update comes with its good chunk of improvements in various aspects. As usual we keep a detailed list in [our repository](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md), but let's go over the highlights!\n\n> **Don't know how to upgrade?** It's easy: just run `yarn set version berry` in your project, and you'll get the latest build. Want to skip the upgrade? Just revert the changes!\n\n{/* truncate */}\n\n## Dedupe command\n\nOne of Yarn's core values is predictability. We want you to be confident that your project won't suddenly change in unexpected ways. The lockfile is a large part of this, ensuring that you always get the same dependencies during install, now or in the future.\n\nTo explain what the dedupe command is, I first need to explain a bit the lockfile format. In Yarn, we have [descriptors](https://yarnpkg.com/advanced/lexicon#descriptor) (a combination of package name and range), and we associate them with [references](https://yarnpkg.com/advanced/lexicon#reference) (versions). A lockfile essentially stores which reference is linked to a specific range.\n\nSo what happens when you add new ranges? For example if you already have `lodash@^4.0.0` in your lockfile, resolved to `4.0.0`, and suddenly add `lodash@^4.1.0`? Since this new range isn't compatible with the old one, Yarn will need to resolve it on its own - let's say to `4.1.0`. And now is the interesting part - remember when I said that Yarn tries to be predictable, and thus avoid to update things unless ordered to do so? In this case, it means that `lodash@^4.0.0` will **not** be updated to use `4.1.0`, even if they'd be compatible. Instead, it will keep using whatever else it was using before, meaning that you'll end up with both `4.0.0` and `4.1.0` in your tree.\n\nFunctionally this isn't a problem, because both ranges will use versions compatible with what they advertise. In practice however, it may cause your lockfile to grow needlessly over time as it starts referencing multiple copies of packages, despite the fact that they would have been compatible if the lockfile had been allowed to make wider changes.\n\nThe new [`yarn dedupe` command](https://yarnpkg.com/cli/dedupe) is our solution to that. By default, it will apply a resolution pass that will go over each range and use the highest compatible version that's already in the lockfile. This has various advantages:\n\n- It doesn't require the network, so very fast\n- In the end, most duplicates will be removed\n- It's very predictable: the highest version wins\n\nOf course, if you have incompatible ranges (for example `^1` and `^2`), they won't be deduped together, since that would lead to invalid trees. In this case, you'll have to fix your dependencies to remove references to the older range.\n\nFinally, if you want this kind of check to happen on your CI, the `-c,--check` option will cause the dedupe algorithm to report an error if optimizations would be possible.\n\n## Performances\n\nBetter performances lead to better UX, and Yarn is a lot about a good UX. To this end, we've done various improvements in the 2.2 to improve the performances on real-world projects. For instance, Gatsby on cold cache went 92s  83s, and 17s  13s on hot cache.\n\nAnd because we think we should do better than flaunt about perf increases without live numbers to back them up and publicly track regressions, we've setup a [live dashboard](https://p.datadoghq.eu/sb/d2wdprp9uki7gfks-c562c42f4dfd0ade4885690fa719c818) with our friends at [Datadog](https://www.datadoghq.com/) that shows the results of the daily benchmarks we run against most common package managers. We're pretty happy about the results!\n\n![Yarn's Live Benchmarks](https://dev-to-uploads.s3.amazonaws.com/i/d47lr3ndqr657ls5xf7w.png)\n\nNote that Yarn currently does a bit more work than its siblings on cold cache installs because we need to convert the registry archives in zip format, more suitable for the usage we have. As registries get better at this, we expect cold cache performances to drastically improve \n\n## Size\n\nSince we're recommending checking-in the Yarn binary in your repository, we better be careful about how large we are. Our team made various improvements in this regard, and Yarn 2.2 is now exactly 1.8MB large. To give you an idea:\n\n- Yarn Classic is ~5MB large\n- pnpm is 35MB\n- npm is 61MB\n\nSo, yeah. 1.8MB is nice, isn't it? \n\n## Telemetry\n\nOne interesting change in the v2 is that we're going to enable basic opt-out telemetry. The full details are [here](https://yarnpkg.com/advanced/telemetry), but the gist is that we hope this will allow us to spend more time working on Yarn itself, and with a better understanding of how it's used in our community at large - which will then help inform the tradeoffs we make.\n\nThe telemetry payload is easily [opt-out](https://yarnpkg.com/advanced/telemetry#how-can-i-disable-it), and we're committed to send as little information as possible. As soon as the data starts flowing we plan to build public dashboards (similar to our [benchmarks](https://p.datadoghq.eu/sb/d2wdprp9uki7gfks-c562c42f4dfd0ade4885690fa719c818)) that will help everyone get a better picture of the project.\n\n## Other works\n\n#### Smaller Improvements\n\nThis is only a very short list, as always please look at our [official changelog](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md) for a comprehensive list, but the 2.2 also ships with:\n\n- The shell script language now supports more syntaxes (shell groups `{ echo foo; echo bar } > bar`, basic arithmetic `$(($RANDOM + 10))`)\n\n- The `--immutable` flag now accepts an [`immutablePatterns`](https://yarnpkg.com/configuration/yarnrc#immutablePatterns) settings that you can use to define additional paths that aren't allowed to change during an install - useful to prevent changes to `.pnp.js` or other artifacts\n\n- Packages referenced via the `file:` protocol will now update when running `yarn add` again (they're still stored in the cache - prefer `portal:` if you want a symlink-like behavior).\n\n- The new [`publishConfig.executableFiles` field](https://yarnpkg.com/configuration/manifest#publishConfig.executableFiles) lets you define paths in your package that should be flagged as executable. By default, since Windows has no way to express the executable flag, only files referenced in the `bin` field will be marked as such, but sometimes you might need others.\n\n- Error messages have been clarified in various contexts, such as when accessing Node builtin within Webpack's browser context, when running `yarn add` on unknown packages, or when a lingering package.json exists in a parent directory.\n\n#### Website\n\nMultiple improvements were made on the website. In particular:\n\n- The migration guide now features a [step-by-step section](https://yarnpkg.com/advanced/migration#step-by-step) that should help migrate without having to read the entire documentation beforehand.\n\n- The search engine now covers both the [manifest](https://yarnpkg.com/configuration/manifest) and [yarnrc](https://yarnpkg.com/configuration/yarnrc) pages, making it easier to find information about specific fields.\n\n#### \"Package manager manager\"\n\nWe are [starting discussions](https://github.com/nodejs/TSC/issues/904) with the Node TSC to bundle Yarn with Node in some capacity (the current plan is to ship a shim that would, in turn, install Yarn transparently the first time you call it). The full proposal can be found on the following repository: [arcanis/pmm](https://github.com/arcanis/pmm). We strongly advise that you play with it and let us know what you think!\n\nAs often, this kind of change benefits from wide support, so if you use Yarn (or pnpm), please feel free to follow the discussion and contribute when relevant. If you don't use either, remember that others do, and shutting the proposal down purely because you wouldn't directly benefit from it may not be representative of an inclusive community.\n\n## What's to come?\n\nWe'll try to make more regular minor releases from now on, shipping exactly one minor per month (eventually leading up to the release of Yarn 3 in January 2021). Some topics we have in mind for the next one (come help us! we have a lot of [Good First Issues](https://github.com/yarnpkg/berry/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22)!):\n\n- [All-new `yarn info`](https://twitter.com/arcanis/status/1298193746614312960)\n- New changelog generation capabilities\n- PnP support for the `exports` field, and ESM in general\n- And more...!\n\nOf course that's only on the top of my head, so it's possible our objectives shift during the next weeks depending on our own priorities - and of course depending on whether you help us or not \n\nOne very long-term topic we're starting to explore are package support for non-\nJavaScript languages (think C++, Python, Rust, PHP, ...). We already have a few ideas (we have an [experimental branch](https://github.com/yarnpkg/berry/pull/1697) generating CMake files, and another contributor played with Python), and we'll keep evaluating the work needed to get there during the next few months. If you're familiar with any of those ecosystems and are interested in helping Yarn become the universal package manager, please contact us on [Discord](https://discord.com/invite/yarnpkg)!\n\nUntil then stay safe, wear a mask, and see you next month ","src/content/blog/2020-08-28-release-2.2.mdx","3aa7cc9f2f98cf96","release/2.3",{"id":39,"data":41,"body":44,"filePath":45,"digest":46,"deferredRender":22},{"title":42,"slug":39,"author":43,"description":18},"Release: Yarn 2.3 ",{"id":16,"collection":17},"Howdy! Another big month just went by, 2020 confirming being a very weird year for everyone. I hope things will be ok for you, wherever you are.\n\nAs for Yarn itself, we're happy to meet you again to talk a bit about the highlights for the work we've done in the third minor of the Yarn 2 release line! Remember that we try to limit these blog posts to about three core items, and that the exhaustive list will always be in [our repository](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md). Check it out sometime, there's some very good stuff there too! \n\n> **Don't know how to upgrade?** It's easy: just run yarn set version berry in your project, and you'll get the latest build. Want to skip the upgrade? Just revert the changes!\n\n{/* truncate */}\n\n## Info command\n\nEvery now and then, we have this dependency that we want to know more about. We want to know its authors, we want to know its license, we want to know its size ... there's a lot of thing we want to know! And sometimes, we want to retrieve those information from many different packages at once.\n\nYarn already provides the [`yarn npm info` command](https://yarnpkg.com/cli/npm/info), but this command is a bit special in that it prints by default the latest info from the npm registry ... and that's not necessarily what we are using!\n\nTo address some of the problem with this command, we're now introducing a [new top-level command, `yarn info`](https://yarnpkg.com/cli/info). It looks like this:\n\n![image](https://user-images.githubusercontent.com/1037931/94694323-02cbe900-0335-11eb-8166-c21b1c66ffe9.png)\n\nFirst, wow, that's pretty! But there are a few interesting things we can note about this display:\n\n- It prints by default the information based on what's currently used by the active workspace. I could use the `-A,--all` or `-R,--recursive` flags to change that, though!\n\n- It prints less information than `yarn npm info`. For instance, there's little point in printing the README content as a raw single-line string, so we removed it. By default, `yarn info` will only print the most relevant information.\n\n- But it prints _more_ information than `yarn npm info` as well! For instance, because we passed the `--cache` flag, it also reported the size of the package in the cache, and its exact location.\n\nThere are many other gems in the command. By passing the `--manifest` flag you also get additional fields like the license or the homepage. By passing the `--json` flag you generate a stream of data that can be easily transformed using [jq](https://stedolan.github.io/jq/). You can even add your own data sections if you want, by using our plugin system! Ever wanted a place to show the number of downloads for your dependencies? Their CVEs? Their maintainers? Just use the provided hook, and all those information are yours to give!\n\n## Option Documentation\n\nYou might not be aware of it, but Yarn uses a pretty unique CLI framework: [Clipanion](https://github.com/arcanis/clipanion). Very few tools have as much requirements as we do, and it was very important for us to be able to fix bugs and implement features without decreasing our velocity.\n\nIn the latest Clipanion update, our contributors implemented a syntax to individually document options. Another one took this new feature, and went over every command, documenting each option one by one. The result looks absolutely great:\n\n![image](https://user-images.githubusercontent.com/1037931/94702462-162f8200-033e-11eb-965a-f08dadaf2064.png)\n\nBecause our CLI is the source of our website's documentation, you can find the exact same information [online](https://yarnpkg.com/cli/add). We hope this effort will prove useful to you, as you discover new features you weren't even aware of until now!\n\n## Nohoist\n\nAs package manager authors, we try to do our best to support the ecosystem, sometimes going as far as building features just to help one single large project migrating to better practices. In 2017, in order to let React Native users use our newly released [workspaces](https://yarnpkg.com/features/workspaces), we implemented a feature called [nohoist](https://classic.yarnpkg.com/blog/2018/02/15/nohoist/).\n\nNohoist was a bit weird. It accepted glob patterns, and presumably the paths matching this glob pattern couldn't be hoisted. But what if their ancestors were hoisted? Was it meant to support targeting deep packages? After all, it was really only meant to help React Native users in one specific case. Because the feature itself wasn't entirely clear, it suffered from many bugs over the years, where noone really knew what to do of it. In Yarn 2.0, we decided to completely remove it.\n\nNow, the problem is, React Native [still doesn't support workspaces without help](https://github.com/facebook/react-native/issues/20832). And we like React Native users. So we've been looking for a way to reintroduce something similar to `nohoist`, but in a way that actually made sense to us. That's where we introduce you to **hoisting limits**:\n\n```yaml\nnodeLinker: node-modules\nnmHoistingLimits: workspaces\n```\n\nBy configuring the [`nmHoistingLimits` setting](https://yarnpkg.com/configuration/yarnrc#nmHoistingLimits) to `workspaces` when using the node_modules linker, Yarn will prevent packages from being hoisted past the workspaces that transitively depends on them. In practice, it means that you don't need to care about the specific hoisting glob patterns: just declare where the hoisting limit is, and Yarn will take care of the rest.\n\nThis design is interesting, because it allows us to support one additional feature: \"safe hoisting\". See, one problem with the classic hoisting is that it makes it very likely that you're going to eventually start referring to dependencies without explicitly listing them. Then your users install your packages, and all hell breaks loose.\n\nBy configuring `nmHoistingLimits` on `dependencies`, Yarn will prevent packages from being hoist past their _transitive top-level dependent_. It may seem a bit arcane, said like this, but it's actually quite simple! Imagine the following project:\n\n![image](https://user-images.githubusercontent.com/1037931/94700298-943e5980-033b-11eb-95c7-564ab70e5fae.png)\n\nWith the default hoisting, it would turn into the following, [mistakenly](https://yarnpkg.com/advanced/rulebook#packages-should-only-ever-require-what-they-formally-list-in-their-dependencies) letting you access all dependencies as your own:\n\n![image](https://user-images.githubusercontent.com/1037931/94702122-b0db9100-033d-11eb-8cca-7d4071473441.png)\n\nWith `nmHoistingLimits` set on `dependencies`, Yarn will instead generate the following, ensuring that you won't ever be able to mistakenly require dependencies you don't list as your own:\n\n![image](https://user-images.githubusercontent.com/1037931/94701050-7c1b0a00-033c-11eb-8419-abd52b651da1.png)\n\nOf course it has its own drawbacks, since the imperfect deduplication also means an heavier disk footprint and slower installs, but it may provide a good safety valve until you can migrate to standard PnP installs.\n\n## What's to come?\n\nWith Hacktoberfest coming, now is as good a time as ever to let you know about our issues labelled [Good First Issues](https://github.com/yarnpkg/berry/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22)! In fact, we wrote a [whole article](https://dev.to/arcanis/yarn-hacktoberfest-ao7) about it a few days ago.\n\nAs for the features we're planning for Yarn 2.4, our focus are currently on:\n\n- Adding back `yarn audit` with revamped output\n- New changelog generation capabilities\n- PnP support for the `exports` field, and ESM in general\n- And more...!\n\nOf course that's only on the top of my head, so it's possible our objectives shift during the next weeks depending on our own priorities - and of course depending on whether you help us or not \n\nOne very long-term topic we're starting to explore are package support for non-\nJavaScript languages (think C++, Python, Rust, PHP, ...). We already have a few ideas (we have an [experimental branch](https://github.com/yarnpkg/berry/pull/1697) generating CMake files, and another contributor played with Python), and we'll keep evaluating the work needed to get there during the next few months. If you're familiar with any of those ecosystems and are interested in helping Yarn become the universal package manager, please contact us on [Discord](https://discord.com/invite/yarnpkg)!","src/content/blog/2020-09-02-release-2.3.mdx","c1bd99c3f897d155","release/3.1",{"id":47,"data":49,"body":52,"filePath":53,"digest":54,"deferredRender":22},{"title":50,"slug":47,"author":51,"description":18},"Release: Yarn 3.1 ",{"id":16,"collection":17},"Welcome to the release notes for **Yarn 3.1**! We're quite excited by this release, as it brings various improvements that we've all been looking forward to. Let's dig into that!\n\nAs always, keep in mind those are only the highlights, the [full changelog](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md) is much more comprehensive.\n\n{/* truncate */}\n\n## Sponsoring\n\nThe Yarn org needs your help to make our work more sustainable! Please take a look at our [OpenCollective](https://opencollective.com/yarnpkg) and [GitHub Sponsors](https://github.com/sponsors/yarnpkg) pages for more details \n\n## Table of content\n\n- [Node.js Corepack Integration](#nodejs-corepack-integration)\n- [ESM Support](#esm-support)\n- [New Install Mode: `pnpm`](#new-install-mode-raw-pnpm-endraw-)\n- [Conditional Packages](#conditional-packages)\n- [Smart Changeset Filters](#smart-changeset-filters)\n- [New Workspace Syntax: `workspace:^`](#new-workspace-syntax-raw-workspace-endraw-)\n\n## Improvements\n\n### Node.js Corepack Integration\n\nDid you know that Yarn now ships with Node? This is done via the Node.js [Corepack project](https://nodejs.org/api/corepack.html), which includes both the Yarn and pnpm binaries as shims. By adding the `packageManager` field to your `package.json`, you can enforce the use of a specific package manager & package manager version in a completely transparent way:\n\n```json\n{\n  \"packageManager\": \"yarn@3.1.0\"\n}\n```\n\nNote that Corepack is available starting from Node.js 16.9, but is currently opt-in. Don't forget to run `corepack enable` a single time to make sure the shims are globally installed!\n\nWe also improved in 3.1 the `init` command to properly support Corepack: running `yarn init -2` will now automatically setup a Yarn Modern project, setting its `packageManager` field as required \n\n### ESM Support\n\nESM has always been supported when using the [`node_modules` linker](https://yarnpkg.com/configuration/yarnrc#nodeLinker), since it's the same old install strategy that Node has always supported. However, with PnP taking ownership of the resolution pipeline, compatibility with ESM wasn't a given and had to be implemented using the [Loader Hook API](https://nodejs.org/dist/latest-v9.x/docs/api/esm.html#esm_loader_hooks).\n\nWhile the Loader Hook API isn't entirely stable yet, a large amount of work has been made lately and our team has been able to produce an initial experimental support for ESM modules. It should be enabled automatically if we detect that one of the packages in your dependency tree contains a `\"type\": \"module\"` field, but you can enable or disable it manually through your settings:\n\n```yaml\npnpEnableEsmLoader: true\n```\n\nBeing experimental, it's possible that some bugs may arise or that new Node releases bring some breaking changes around the API. Be sure to report issues on our [bug tracker](https://github.com/yarnpkg/berry)!\n\n### New Install Mode: `pnpm`\n\nThe [pnpm package manager](https://pnpm.io/) was one of the first tools to advocate for using symlinks when installing packages within the `node_modules` folder. While we went another way with PnP, we decided that the implementation cost was low enough that it would be worth adding support for this symlink-based install strategy as well.\n\nStarting from Yarn 3.1, you can try out symlink-based installs by adding the following setting to your `.yarnrc.yml` file:\n\n```yaml\nnodeLinker: pnpm\n```\n\n### Conditional Packages\n\n[Esbuild](https://esbuild.github.io/) and [swc](https://swc.rs/) are two native packages that gained a lot of attention lately thanks to their impressive performances over their competitors. They recently revamped how their packages are built to avoid complex postinstall scripts, but did so in a way that was less efficient than before for Yarn projects.\n\nYarn 3.1 features a new optimization that kicks in when a package is listed as `optionalDependencies` and lists `os` and/or `cpu` fields. When that happens, Yarn will skip fetching and installing those packages unless they match the current system parameters.\n\nIn case you need to manually configure a strict set of package architectures to support (for example like in a zero-install case, where you want to read from an immutable set of packages), you can use the `supportedArchitectures` setting:\n\n```yml\nsupportedArchitectures:\n  os: [linux, darwin]\n  cpu: [x64, arm64]\n```\n\n### Smart Changeset Filters\n\nThe `yarn workspaces foreach` and `yarn workspaces list` commands now ships with brand new `--since` flags. When set, those commands will only execute against the packages that changed when compared to the main branch (either `main` or `master`, depending on the branches in your repository).\n\nThis can come in handy if you wish to only run builds in some specific workspaces, or just get a list of the workspaces which changed for scripting purposes:\n\n```\nyarn workspaces foreach --since run eslint .\nyarn workspaces list --since\n```\n\nThe `--since` flag also accepts an optional argument (`--since=${commit-ish}`) to manually define a source from which the changes should be derived.\n\n### New Workspace Syntax: `workspace:^`\n\nWorkspaces supported a special syntax via `workspace:*`, with those ranges being replaced at publish-time by exact ranges corresponding to the real version of the target workspace. However, if you wanted to use a caret instead of an exact range, you had to use the verbose `workspace:^x.y.z` form, which Yarn updated repo-wide after each publish.\n\nYarn now supports `workspace:^` and `workspace:~` as well, making it much easier to cross-reference workspaces within a monorepo where most packages are intended to be published, by preventing a good amount of the merge conflicts that used to happen after Yarn updated the verbose ranges.\n\nAdditionally, as a special case, this syntax is now allowed in the `peerDependencies` field as well:\n\n```json\n{\n  \"peerDependencies\": {\n    \"@my/other-package\": \"workspace:^\"\n  }\n}\n```","src/content/blog/2021-09-25-release-3.1.mdx","3bdce3832feb3c1d","release/2.4",{"id":55,"data":57,"body":60,"filePath":61,"digest":62,"deferredRender":22},{"title":58,"slug":55,"author":59,"description":18},"Release: Yarn 2.4 ",{"id":16,"collection":17},"Hey everyone! It's this time of the year where everyone is slowly preparing for the holidays. This year will probably be slightly different, but I can't wait to at least take a well deserved time off. But before that, let's talk about our next minor Yarn release, and a little bit about the next-next release: **Yarn 3**!\n\n{/* truncate */}\n\n## Plugins\n\nWe'll try to reference external plugins made by our community in our release notes, so if you made one that you want to share, please ping us! We're also looking at adding a page on our website to list them all, improving discoverability \n\nFor now, let me present those two:\n\n- [yarn.build](https://yarn.build/) by [ojkelly](https://twitter.com/ojkelly) is a fast monorepo builder for Yarn. In a sense it's similar to [`yarn workspaces foreach`](https://yarnpkg.com/cli/workspaces/foreach) but more opinionated, and thus easier to adapt to existing workflows. It parallelises builds, shows what's being executed, and generates zipped archives suitable for AWS and similar platforms.\n\n- [prod-install](https://gitlab.com/Larry1123/yarn-contrib/-/tree/master/packages/plugin-production-install) by [Larry1123](https://gitlab.com/Larry1123) and [NETSVS](https://www.mynetsvs.com/) is a much more powerful version of [`yarn workspaces focus`](https://yarnpkg.com/cli/workspaces/focus) that copies the selected workspaces into a target location before transforming it to become self-sufficient - the final directory thus being ready to be efficiently cached and deployed via Docker layers.\n\n## Audits\n\nBoth Yarn 1 and npm had this handy little feature called `audit`. Originally developed by npm when they acquired [Lift](https://medium.com/npm-inc/npm-acquires-lift-security-258e257ef639), this command lets you quickly check whether some of your dependencies have known vulnerabilities, which may come in handy in some types of application. Unfortunately, since the audit endpoint isn't documented, its implementation wasn't entirely obvious.\n\nThanks to our contributors, Yarn 2.4 now includes proper audit, available via the [`yarn npm audit`](https://yarnpkg.com/cli/npm/audit) command! And to make up for the delay, we've implemented various interesting ways to run it, under the form of the `-A,--all` and `-R,--recursive` options - check the [examples](https://yarnpkg.com/cli/npm/audit#examples) for details!\n\nWe've also significantly improved the output to be more in line with the rest of the CLI, providing information in a more compact way:\n\n![image](https://user-images.githubusercontent.com/1037931/100546031-5ee0ba00-325f-11eb-8d6d-c6973571e099.png)\n\nThis new output is compatible with the `--json` flag, meaning that you can leverage the information obtained from `yarn npm audit --json` from any script you want - even the command-line itself, using tools like [jq](https://stedolan.github.io/jq/)!\n\n## Better Warnings\n\nPeer dependencies have always been a difficult concept to grasp. They are not that hard per se (a peer dependency is always satisfied by the exact package instance used by the parent of the package listing it), but various other factors played into it and caused typical installs to produce many rarely actionable warnings.\n\nNo more!, do we say. Starting from 2.4, you can expect the warnings produced by Yarn to become vastly better than what we used to report. For this first release with warnings being a focus, we've implemented a new range merging algorithm that lets us drastically decrease the amount of warnings we emit. The idea is simple: imaging the following dependency tree:\n\n```\n.\n your project/\n     @storybook/react/\n        (peer) react@^15\n        storybook-plugin-foo/\n           (peer) react@^15\n        storybook-plugin-bar/\n            (peer) react@^15\n     react@17\n```\n\nBefore, these are the warnings you'd have had:\n\n```\nyour project provides react@17 to @storybook/react, which isn't compatible with react@^15\nyour project provides react@17 to storybook-plugin-foo, which isn't compatible with react@^15\nyour project provides react@17 to storybook-plugin-bar, which isn't compatible with react@^15\n```\n\nFrom all those warnings, only one was truly actionable: the `@storybook/react` one. The two others were mere byproducts from the first, and were just making the output harder to read. This is now fixed, and Yarn will instead report:\n\n```\nyour project provides react@17 (pXYZ), which doesn't satisfy what @storybook-react and its dependents request\n```\n\nThe `pXYZ` is a hash that you can use with a new command, `yarn explain peer-requirements \u003Chash>`, to get the exact list of packages that contribute to the final peer dependency requirement, and whether they are met or not. For instance, this is what I get in one of my projects:\n\n![image](https://user-images.githubusercontent.com/1037931/100546016-3e186480-325f-11eb-8454-a44402a45494.png)\n\n## Log Filters\n\nEven if warnings will get smarter, there's always this one case where you really don't care about a specific message. For instance the message saying that a package wasn't in the cache is sometimes controversial, with half of our users liking it, and the other half wanting to hide it.\n\nWhile you could use [`preferAggregateCacheInfo `](https://yarnpkg.com/configuration/yarnrc/#preferAggregateCacheInfo) to tweak that, it's only about one message. What about others? Well, starting from 2.4 we introduce a new setting called [`logFilters`](https://yarnpkg.com/configuration/yarnrc#logFilters). It has the following syntax:\n\n```yaml\nlogFilters:\n  - code: YN0005\n    level: discard\n```\n\nWith this configuration, all messages matching the specified code (which would be builds being disabled, per [our documentation](https://yarnpkg.com/advanced/error-codes#yn0005---build_disabled)) will be removed from the output. And if you need to only remove a single line, it's possible as well:\n\n```yaml\nlogFilters:\n  - text: \"core-js@npm:2.6.11 lists build scripts, but its build has been explicitly disabled through configuration.\"\n    level: discard\n```\n\nWe hope this feature will let you tune your package managers to watch what you truly care about, which can be different from one person to the other.\n\n## And also\n\nAs always, these release notes focus exclusively on the big-picture stuff - as always, there's a lot more things that have been improved under the hood. Check our [changelog](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md) for a comprehensive list, but we can mention:\n\n- Updated our patches to account for TS 4.1 and FSEvents 2.1.2\n- Improved usability when using the [global cache](https://yarnpkg.com/configuration/yarnrc#enableGlobalCache)\n- Improved usability in the [VSCode ZipFS extension](https://marketplace.visualstudio.com/items?itemName=arcanis.vscode-zipfs)\n- Improved performances on recurrent installs\n- Improved Windows compatibility when running binaries\n- Improved the display for `yarn upgrade-interactive`\n- Fixed the `postinstall` scripts run by `yarn workspaces focus`\n- Fixed some edge cases with `||` and interpolation errors\n- Added support for proxy settings (`caFilePath`, ...)\n- [... and more!](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md)\n\n## What about Yarn 3?\n\nThis is a big news for us! Yarn 2.4 is expected to be the last minor release for the 2.x line! After a year of development, we now have put aside enough items to be worth addressing in a new major.\n\nWhile the 3.x branch will be much less disruptive than the jump from 1.x to 2.x (after all we won't need to rewrite the whole codebase this time! ), it'll include a few breaking changes. Most of those are listed [here](https://github.com/yarnpkg/berry/issues/1406) but, as you'll see, they are mostly about old workflows being deprecated, and are unlikely to affect most codebases.\n\nOne important note though: given that Node 10 will reach its end-of-life in April, it's likely that Yarn 3 will be Node 12+ only. So if you want to prepare for it, start considering upgrading to either Node 12 or, better yet, 14!","src/content/blog/2020-11-30-release-2.4.mdx","c7a245ecc3edb4a4","release/3.0",{"id":63,"data":65,"body":68,"filePath":69,"digest":70,"deferredRender":22},{"title":66,"slug":63,"author":67,"description":18},"Release: Yarn 3.0 ",{"id":16,"collection":17},"Hello! Long time no see! Back in December, we decided to start working on our next major release, the **3.0**. It took a bit of time to do everything we intended to do, but here we are! So let's talk a bit about what it changes, and what it brings. Note that these are only the highlights, the [full changelog](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md) is much more comprehensive.\n\n{/* truncate */}\n\n## Governance\n\nBack when the project was started in 2017, we didn't took the time to establish a formal governance document. This is now addressed, and our team composition can be found [here](https://github.com/yarnpkg/berry/blob/master/GOVERNANCE.md). It doesn't change anything in practice (this is how we worked for more than two years now), but we hope it may give you a better understanding as to how we work and reach consensus.\n\n## OpenCollective\n\nFrom 2017 to 2019 Yarn was mostly maintained by Facebook engineers. While it worked relatively well, the Yarn 1 -> 2 release also proved to be the right time to expand our active team to other horizons, and nowadays no two of our active contributors work at the same company - and none at Facebook.\n\nConsequently, we've decided to setup an [OpenCollective](https://opencollective.com/yarnpkg) (or [GitHub Sponsors](https://github.com/sponsors/yarnpkg)) to give our supporters a way to both express their thanks to our team, and give us resources we can then inject back into the project.\n\n## Breaking Changes\n\nWhile the migration from Yarn 1 to Yarn 2 brought some discomfort, the migration to Yarn 3 should prove easier - regardless of the version you come from. The user-facing breaking changes we made this season are mostly little details that may only affect you in very specific cases:\n\n- Node 10 isn't supported anymore\n- Plug'n'Play hooks are now called `.pnp.cjs` (vs `.pnp.js`)\n- Virtual folders are now called `__virtual__` (vs `$$virtual`)\n- The [editor SDKs](https://yarnpkg.com/getting-started/editor-sdks) have been moved to `@yarnpkg/sdks`\n- Etc; full list [here](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md)\n\nEven for Yarn 1 users, migrating from 1 to 3 should be easier: we made it so that Yarn will detect when this situation arises to then automatically enable the `node-modules` linker. That alone should address most of the problems you may have been hitting when attempting the upgrade - and for everything else, make sure to take a look at our [Migration Guide](https://yarnpkg.com/getting-started/migration#step-by-step) which got significantly improved over the past year.\n\n### Support for the `exports` field\n\nWhen using Yarn 3 w/ PnP, the [`exports`](https://nodejs.org/api/packages.html#packages_exports) field will be properly resolved _regardless of your Node version_. If you're not familiar with this field, you can see it as a way to:\n\n- Replace the `main` field\n- Soft-prevent accessing arbitrary files in the package\n- Conditionally remap files depending on the context (bundlers, ...)\n\n## Performances\n\nVarious tweaks have been made to address some of the largest resource consumptions in Yarn. Installs have been improved (turning us faster than pnpm in some scenarios, which is quite a feat!), but not only: script execution tends to have a natural overhead, but bugs in 2.4 and prior caused this overhead to grow relative to the size of the project itself. This is no longer the case, and the overhead should now be constant.\n\n## New `node_modules` linkers\n\nAs you may know, Yarn is built around a few interfaces. One of them is called a \"linker\", and tells Yarn how to install packages on disk. It's how we can support both PnP and node_modules installs without changing much code.\n\nOne advantage of this architecture is how it allows us to efficiently iterate on alternative install strategies. For this release, [larixer](https://github.com/larixer) implemented a new experimental `nmMode` setting that can be used to instruct the linker to use a specific copy scheme:\n\n- `hardlinks-local` will use hardlinks when the same package is found multiple times within the same project (but only if they have exactly the same version at the moment).\n\n- `hardlinks-global` will use hardlinks on identical files (even across different versions!), but will also make them point to a global content-addressable directory. This is similar to what pnpm does. Note that if the cache is corrupted (for example because you manually edited it), Yarn will automatically repair it on subsequent installs.\n\nI myself have been playing with a pnpm-style linker. It hasn't shipped yet since I'm cautious about adding complexity that could end up unmaintained, but given how small it is there's a decent chance we could add it in a later release as an experimental install mode.\n\n## Improved Shell\n\nAs you may know, given that system shells are rarely portable across Windows and Posix, Yarn no longer uses them to run your `scripts` entries. Instead, we use our very own shell interpreter.\n\nWe're happy to report that this shell just got smarter, and now provides two additional syntaxes that you can reliably use on both Windows and Posix:\n\n```\nbuild-js & build-css &    # Background jobs\nls 2>/dev/null            # File descriptor redirections\n```\n\nAdditionally, background jobs have their output color-coded, so you can clearly identify their output, even interlaced.\n\n## ESBuild support\n\nWe now use ESBuild to generate the Yarn bundles and as such worked to ensure good compatibility with Plug'n'Play installs. The result is the new [`@yarnpkg/esbuild-plugin-pnp`](https://github.com/yarnpkg/berry/tree/master/packages/esbuild-plugin-pnp) package which lets you transparently build your code using the default Yarn installation mode. It's still relatively young, so feel free to drop us an issue if you notice something strange!\n\nWhile it won't change much for most end-users, the move to ESBuild also provided decent build speed improvements (around 6x faster), making it less frustrating to [build Yarn from sources](https://yarnpkg.com/cli/set/version/from/sources) \n\n## New plugin APIs\n\nYarn supports writing plugins that can inject themselves into various places and leverage some of the builtin modules provided by the core. While we didn't get the chance to make all the improvements we hoped, we've still been able to upgrade the command line framework to [Clipanion 3](https://mael.dev/clipanion/), which lets you write intuitive type-checked commands with a minimal syntactic overhead.\n\n## Conclusion\n\nAccording to DEV.to, those change notes take about 5 minutes to read - by contrast, the [2.0 release post](https://dev.to/arcanis/introducing-yarn-2-4eh1) was a whopping 15 minutes! Of course, this time around we didn't need to fully rewrite Yarn, hence a lower amount of \"critical information\" we need you to be aware of  We expect that to be the norm from now on: majors won't have a lot of super impactful changes, mostly just some architecture cleaning and modernization, as new features will tend to land in minors.\n\nAs for our team, we're very happy of the work we've been doing! Working on the codebase still feels like a treat, and features are often constrained to a few identifiable files - proving that our initial redesign bet was right. Our stats suggest that the result are visible to our users as well, and while I remain cautious about popularity metrics it's certainly nice to see.\n\nFinally, remember that Yarn now has an [OpenCollective](https://opencollective.com/yarnpkg) / [GitHub Sponsors](https://github.com/sponsors/yarnpkg)! If your company benefits from our work, or would like to see particular fixes land, sponsoring the project is a good way to engage with us \n\n### What's to come?\n\nA few features initially slated for 3.0 have been pushed back to the next minor so that we have more time to properly incubate them. Some of the things we have in motion:\n\n- [Corepack](https://github.com/nodejs/corepack) integration\n- ESM support under PnP mode\n- Builtin CLI completion\n- Changelog generation\n- Improved performances\n- pnpm-style linker\n- And more...!\n\nOf course that's only on the top of my head, so it's possible our objectives shift during the next weeks depending on our own priorities - and of course depending on whether you help us or not ","src/content/blog/2021-07-26-release-3.0.mdx","aab876a86dde1a59","bun",{"id":71,"data":73,"body":76,"filePath":77,"digest":78,"deferredRender":22},{"title":74,"slug":71,"author":75,"description":18},"A word about Bun ",{"id":16,"collection":17},"I'm sure many of you are curious about our position regarding [Bun](https://bun.sh/), the product from Oven, the company behind Bun (we're going in cycles). It's so fast, is there any merits to using Yarn?\n\n{/* truncate */}\n\nFirst, we feel useful to point out that this sentence isn't particularly new. We heard the same (often from the same people) asking why use Yarn when npm/pnpm/whateverpm have all its features or outspeed it. Answering that is a little tough, because the premise is wrong: other package managers don't have its features[^1][^,2], and the speed differences are at best marginal. They are a good fight, but we believe Yarn ultimately has a unique position that no other package managers emulates today.\n\nBun is an interesting case, though. It's definitely much faster[^3]. Can Yarn compete? We believe so.\n\nFirst, remember today's iteration of Yarn was developed over the course of two years by a team already experienced in package managers. Those tools are fickle beasts, and many edge cases loom around[^4]. Bun may be fast, but is it correct? That's something the community will have to figure out over time.\n\nBut stability isn't everything: the feature set is an important facet of what makes a tool appealing. The developer experience (which includes the user interface) is another. The governance yet another. Yarn stills fits its niche: a complete tool that empowers its users, advocates for good practices, isn't afraid to explore uncharted territories, and is protected from perverse corporate incentives.\n\nWith that said, I believe there's a couple of things we can learn from Bun. Yarn was always intended to be distributed as a unique JS file for extreme portability across Node.js supported architectures. With [Corepack](https://nodejs.org/api/corepack.html) now being the preferred install strategy, does it still matter? Should we experiment with native modules for future releases, that Corepack would transparently fetch as needed? Bun proved untapped performances could be exploited.\n\nOf course it's not just a matter of being native - Oven's work follows [interesting code patterns](https://twitter.com/jarredsumner/status/1708650105828692054), and I'm curious how much of an impact they have on the resulting speed (at the cost of increased complexity, and making contributions harder).\n\nI always fought against the idea that one package manager was enough for every single project out there, Yarn included. Our users are engineers: they have different requirements, different priorities, and different sensibilities. I found Yarn the appropriate tool for my projects, but I'm sure Zoltan is perfectly happy with pnpm and Microsoft with npm.\n\nWill Bun reach some of your hearts? More than likely. Will it be a replacement? I can't imagine that.\n\n[^1]: For example the [portable shell](/features/scripting#portable-shell), the [constraints](/features/constraints), the [patching](/features/patching), ...\n[^,2]: Or delegate to Yarn; did you know pnpm's [hoisted linker](https://pnpm.io/npmrc#node-linker) is literally [using Yarn as a dependency](https://github.com/pnpm/pnpm/blob/ee6e0734e911d48f6ff786aa0f05b9b9926e4815/pkg-manager/real-hoist/src/index.ts#L7)?\n[^3]: Although [not as much as they pretend](https://twitter.com/arcanis/status/1702297503465611278), which is a bit of a letdown. Marketing corrupts, eh?\n[^4]: [Here be dragons](https://github.com/yarnpkg/berry/blob/master/packages/acceptance-tests/pkg-tests-specs/sources/dragon.test.js).","src/content/blog/2023-08-20-bun.mdx","7f657dccd0bf575c","release/4.0",{"id":79,"data":81,"body":84,"filePath":85,"digest":86,"deferredRender":22},{"title":82,"slug":79,"author":83,"description":18},"Release: Yarn 4.0 ",{"id":16,"collection":17},"Today is the day! After more than a year of work, our team is excited to finally put a fancy \"stable\" sticker on the first release from the 4.x release line! To celebrate, let's make together a tour of the major changes; should you look for a more itemized list, take a look at the [changelog](/advanced/changelog#400).\n\n{/* truncate */}\n\n## Breaking Changes\n\nHere's what you need to know when upgrading from 3.x projects:\n\n- We now require Node.js 18+.\n- New projects created with `yarn init` won't enable [Zero-Install](/features/caching#zero-installs) by default anymore.\n- New projects created with `yarn init` will use [Corepack](https://nodejs.org/api/corepack.html) rather than `yarnPath`.\n- All official plugins (`typescript`, `interactive-tools`, ...) are now included by default.\n- The `yarn workspaces foreach` command has a slightly altered syntax.\n\n## Installing Yarn\n\nEver since the 2.0 our recommendation has been to install Yarn on a per-project basis using the `yarnPath` setting (automatically set either of `yarn init -2` and `yarn set version`). We intentionally don't release modern releases on the npm `yarn` package, [so as not to break older projects which didn't migrate yet](/getting-started/qa#why-is-the-yarn-package-on-npm-still-on-1x).\n\nTo that end we used to recommend using the `yarnPath` setting pointing to a checked-in binary, but this pattern increased friction more than we liked - many people didn't like the idea of adding a binary to their repository, however small. We listened, and worked conjointely with Node.js on a project called [Corepack](https://nodejs.org/api/corepack.html). Corepack is a tool shipped with Node.js 16+ that will automatically select the right package manager version to run depending on the project you're working on.\n\nNow that Corepack is shipped with both Node 18 and 20 we no longer need to rely on `yarnPath`, and as a result we updated our [installation guide](/getting-started/install) to reflect that. The `yarn init -2` and `yarn set version` commands have been updated to favor updating the `packageManager` field when possible.\n\n:::note\nCorepack knows which package manager version to use thanks to the standard `packageManager` field in your `package.json`. This field will typically be set via one of `yarn init -2`, `yarn set version x.y.z`, or the more generic `corepack use yarn@x.y.z`.\n:::\n\n## Hardened Mode\n\nYarn attempts to protect you from common attacks, and this is pushed even further by the introduction of the Hardened Mode. When operating under this mode, Yarn will perform two extra validations:\n\n- It will validate the resolutions stored in the lockfile are consistent with what the ranges could resolve to.\n- It will validate that the package metadata stored in the lockfile are consistent the remote registry metadata.\n\nTogether, those checks will prevent any attacker from surreptitiously modifying your lockfiles when making PRs to your project using Yarn (https://snyk.io/blog/why-npm-lockfiles-can-be-a-security-blindspot-for-injecting-malicious-modules/).\n\n:::tip\nThe Hardened Mode is enabled by toggling on `enableHardenedMode`, but it's also automatically enabled when Yarn detects that it runs within a GitHub pull request on a public repository. This can be disabled by explicitly toggling off `enableHardenedMode` in your yarnrc file.\n:::\n\n:::caution\nInstalls operating under Hardened Mode constraints are significantly slower than usual as they need to perform many network requests that would be skipped otherwise. We don't recommend enabling it by default - if you need it in a specific CI job, toggle it on via an environment variable:\n\n```bash\nexport YARN_ENABLE_HARDENED_MODE=1\n```\n\n:::\n\n## JavaScript Constraints\n\nYarn is the only package manager to implement a [constraints engine](/features/constraints). If you don't know it, this feature lets you define a set of rules that your project must satisfy. For instance, the Yarn repository enforces that no two workspaces depend on different versions of any given dependencies, unless explicitly allowed.\n\nOur constraints engine used to be powered by Tau-Prolog, a JavaScript [Prolog](https://en.wikipedia.org/wiki/Prolog#Rules_and_facts) implementation. Unlike imperative languages like JavaScript, Prolog uses a different model called logic programming - you define that something exists if a rule is true. It's a very interesting pattern that integrates well with the concept of rule-based linting. Unfortunately, Prolog proved very complex to use, increasing the learning curve of constraints past the threshold we were comfortable with.\n\nAs a result, Prolog constraints are deprecated starting from Yarn 4, and **they have been superseded by a shiny new JavaScript-based engine, with optional TypeScript support!** We have been writing our own rules at [Datadog](https://www.datadoghq.com/) with this framework for a couple of months now, with great success. You can also check the public [Yarn repository](https://github.com/yarnpkg/berry/blob/c3b319a8943dcc35e689ebff4051c112bfc598f5/yarn.config.cjs#L17-L43) for a practical example of the kind of rules you can enforce at the repository level, and the [newly revamped documentation](/features/constraints) is there to help you quickly get up to speed.\n\n:::tip\nThe new optional `enableConstraintsChecks` setting will make Yarn run your constraints as part of `yarn install`. It's a handy way to surface errors before having to wait for the remote CI to raise them, and since the new engine is so fast, it has almost no impact on your install time \n:::\n\n## TypeScript Integration, Interactive Tools, ...\n\nVarious features in Yarn used to be shipped as sideloaded plugins that needed to be managed separately from the main bundle. While this helped us build a plugin ecosystem, it also proved challenging to manage for our users. We implemented some features to make that easier (auto-upgrade plugins when you auto-update Yarn), but in the end the few KiBs we gained by not shipping all the features by default weren't worth the confusion and friction they caused.\n\nAs a result, while Yarn still supports third-party plugins (and will continue to in the future), **all the features and commands we build are now available as part of the main distribution**. You can now use `yarn upgrade-interactive` and `yarn stage` without plugins and, if you have TypeScript configured in your project, Yarn will now auto-add and remove `@types` packages as needed whenever you update your dependencies with `yarn add` and `yarn remove`.\n\n## Improved User Interface\n\nVarious pieces of the UI got revamped to better convey information. For example, `yarn install` now tells you the packages you added, and their total weight. You will also notice it doesn't print as much warnings around peer dependencies, as we now try to only print warnings for actionable situations:\n\nimport addNextTerm from \"./release-4.0--add-next.term.dat?raw\";\nimport TerminalRender from \"../../components/TerminalRender.astro\";\n\n\u003CTerminalRender content={addNextTerm} />\n\nAnother example is the `yarn config` command, which sports a new tree display and now also accepts an arbitrary number of settings as positional arguments, letting you select what you wish to see:\n\nimport configTerm from \"./release-4.0--config.term.dat?raw\";\n\n\u003CTerminalRender content={configTerm} />\n\n## Performances\n\nThe 4.0 isn't lagging behind in performance improvements, and shows to be significantly faster at installs than the 3.6. For instance, here's the difference in time to install Gatsby and its ~350MiB dependency tree from a cold cache. The 3x improved performances are due to a new package metadata cache which significantly improves performances of repeated installs:\n\n```\nhyperfine -L v stable,canary --prepare 'rm -rf ~/.yarn/berry/cache' 'cd $(mktemp -d) && yarn init -2 && yarn set version {v} && yarn && yarn add gatsby --mode=skip-build'\n```\n\n```js\nBenchmark 1: 3.6.0\n  Time (mean  ):     65.599 s   2.214 s    [User: 82.952 s, System: 8.638 s]\n  Range (min  max):   62.167 s  68.277 s    10 runs\n\nBenchmark 2: 4.0.0\n  // highlight-next-line\n  Time (mean  ):     16.724 s   0.928 s    [User: 14.622 s, System: 5.743 s]\n  // highlight-next-line\n  Range (min  max):   15.318 s  18.110 s    10 runs\n\nSummary\n  4.0.0 ran 3.92  0.25 times faster than 3.6.0\n```\n\nThese changes make Yarn [as fast as pnpm in most scenarios](/features/performances), although competition is still fierce \n\n## Fancy Website\n\nAs you probably noticed, our website received a major overhaul, both style and content! We worked on this new iteration for more than a year now, and we hope it'll help you find better information, faster than before.\n\nSome particular improvements:\n\n- All referenced commands now link to their documentation (`yarn install`)\n- All referenced options now have a tooltip explaining their goal (`yarn --immutable-cache`)\n- Most pages were rewritten to be both simplified & clarified when needed\n- The package page now shows various configurable checks, like whether a package supports CJS, ESM, has types, ...\n\nOur expertise lies in tooling more than building websites, so I'm sure various hanging fruits remain - especially around loading time. If you're interested to help us, check the [sources](https://github.com/yarnpkg/berry/tree/master/packages/docusaurus) and please feel free to send PRs our way!\n\n## Closing Words\n\nThe journey to transition from Yarn 3 to Yarn 4 was a lengthy one, with a whopping 53 release candidates along the way, but we finally made it! Our aim for this new iteration has been to both decrease Yarn's learning curve and improve your user experience, without the migration feeling overwhelming. We made concerted efforts to avoid making significant breaking changes unless we also had ways to automatically migrate projects, so if you encounter any issues that you believe the software should have addressed, share your feedback with us on [Discord](https://discord.gg/yarnpkg).\n\nAs for what lies ahead, it's a bit too early to provide a definitive answer, but I can tell you I'm particularly intrigued by the potential for native Yarn builds. Performances has been under the spotlight lately, and I sometimes wonder how much overhead may have Node.js on the overall execution time. That being said, we don't plan on undertaking another complete rewrite of the codebase, nor do we want to compromise the factors that make Yarn so contributor-friendly, so the specifics, as well as the timeline, are still under consideration.\n\nIn the meantime we'll continue to build upon our existing foundations for the time being. From CLI completion and UI commands to reducing the learning curve and general upkeep, we have a broad array of improvements on our radar. So see you next time!","src/content/blog/2023-10-23-release-4.0.mdx","cc225d9940eed3b4","release/3.2",{"id":87,"data":89,"body":92,"filePath":93,"digest":94,"deferredRender":22},{"title":90,"slug":87,"author":91,"description":18},"Release: Yarn 3.2 ",{"id":16,"collection":17},"Welcome to the release notes for **Yarn 3.2**! This release is a little smaller than the 3.0 and 3.1, as we've hold off on some changes in preparation for our next major ... but more on that later \n\nAs always, keep in mind those are only the highlights, the [full changelog](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md) is much more comprehensive.\n\n{/* truncate */}\n\n## Sponsoring\n\nThe Yarn org needs your help to make our work more sustainable! Please take a look at our [OpenCollective](https://opencollective.com/yarnpkg) and [GitHub Sponsors](https://github.com/sponsors/yarnpkg) pages for more details \n\n## Libc Field\n\nWe implemented in 3.1 a feature we call \"conditional dependencies\". The idea is simple: if a package is listed in the `optionalDependencies` field and its `os` / `cpu` fields don't match the current machine, we don't install them at all. This pattern is today used by various tools like Esbuild or SWC to avoid overfetching dependencies that systems wouldn't needed.\n\nOne problem however is that while `os` and `cpu` are useful at differentiating systems, they aren't the only parameters at play. In particular, knowing the standard C library against which native modules are built is critical: using a module linked against the glibc with a Node release built against [musl](https://musl.libc.org/) would promptly crash.\n\nTo avoid this, Yarn now supports a `libc` array field in the `package.json` that currently accepts any of two values: `glibc` and `musl`. Just like `os` and `cpu`, packages will be skipped if they don't match the host libc.\n\nThis isn't the final iteration; while `libc` is a good improvement, more parameters could be taken into account. Both Yarn and npm have open proposals to address this situation, and we'll see what we decide to implement.\n\n## New Command: `yarn explain`\n\nIt can be difficult to know how to react when facing errors. Our website tries to help with that by providing [detailed explanations](https://yarnpkg.com/advanced/error-codes), but when you're in your terminal this might not be the first thing you have in mind.\n\nThe new `yarn explain` command will let you get all the details about an error, right from your terminal:\n\n![Explain Output](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/brt0umb2jvfkkjeu2kv9.png)\n\nIn the future we'll expand the documentation to cover more error messages, and may use `yarn explain` to aggregate some of the other similar mechanisms we already have (such as [`yarn explain peer-requirements`](https://yarnpkg.com/cli/explain/peer-requirements)).\n\n## UI Improvements\n\nEvery version we look for little UI annoyances to fix. This time is no exception with a couple of neat improvements:\n\n- The resolution step will now have a spinning wheel; we can't show a percent-based progress since we don't know how many packages we'll have to resolve until the end, but a spinner will at least let you know the process isn't stuck.\u003Cbr/>\u003Cbr/>\n\n- Errors thrown when cloning Git repositories were previously reported as regular stack traces. They will now have dedicated output.\n\n![Improved Git Error](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/m4zkw674viqnuqc7c8fr.png)\n\n## Next Major\n\nWith 3.2 out of the door, we'll now start working on the next major release: Yarn 4! We have an [issue](https://github.com/yarnpkg/berry/issues/3591) highlighting the things we currently have in mind, but generally speaking expect us to decrease the friction when starting new projects. Some highlights:\n\n- We'll drop support for Node 12, as it will reach EOL in April\u003Cbr/>\u003Cbr/>\n\n- We'll be exploring a new resolution algorithm that will prevent most of the attacks similar to the recent [`color.js` hijacking](https://news.ycombinator.com/item?id=29851065).\u003Cbr/>\u003Cbr/>\n\n- More commands will be integrated with Git; we used to refrain from doing so due to some related projects using Mercurial, but this isn't the case anymore. Projects not using Git will still be able to use Yarn, but some features may not be available there.\n\n  - To give you an idea of the kind of integration we have in mind, the `yarn stage` command (already available as a plugin) allows to automatically commit all dependency-related changes without impacting any other.\n\n  \u003Cbr />\n  \u003Cbr />\n\n- The **official** plugins will be shipped by default, to reduce the friction. In practice the Yarn binary is very small, so we have some leeway to bundle everything together so that you don't have to download more subparts.\n\n  - Even if bundled by default they'll technically remain plugins, so it doesn't change anything for third-party plugin authors: our plugin API will remain a focus for us, and will keep improve.\n\nAnd more!  We have plenty of other ideas to improve Yarn, so expect to see a significant amount of improvements in our next major - including lower friction when starting new projects or migrating older ones.","src/content/blog/2022-02-21-release-3.2.mdx","a91b4daf25030607","autoSidebar",["Map",97,98,106,107,113,114,119,120,126,127,133,134,139,140,145,146,151,152,157,158,163,164,169,170,175,176],"advanced/pnp/_meta",{"id":97,"data":99,"filePath":104,"digest":105},{"collapsed":100,"hidden":100,"label":101,"order":102,"sort":103},false,"Working with Yarn PnP",3,"slug","src/content/docs/advanced/pnp/_meta.yml","8e1c0b991e66c827","advanced/package-management/_meta",{"id":106,"data":108,"filePath":111,"digest":112},{"collapsed":100,"hidden":100,"label":109,"order":110,"sort":103},"Package management",2,"src/content/docs/advanced/package-management/_meta.yml","c82be26d7798a962","cli/_meta",{"id":113,"data":115,"filePath":117,"digest":118},{"collapsed":100,"hidden":100,"label":116,"sort":103},"CLI Commands","src/content/docs/cli/_meta.yml","73de033e248bd342","advanced/technical/_meta",{"id":119,"data":121,"filePath":124,"digest":125},{"collapsed":100,"hidden":100,"label":122,"order":123,"sort":103},"Working with Yarn",4,"src/content/docs/advanced/technical/_meta.yml","af7d3dbc2f6a9164","advanced/general-reference/_meta",{"id":126,"data":128,"filePath":131,"digest":132},{"collapsed":100,"hidden":100,"label":129,"order":130,"sort":103},"General reference",1,"src/content/docs/advanced/general-reference/_meta.yml","586c7c85d801b058","cli/pnpify/_meta",{"id":133,"data":135,"filePath":137,"digest":138},{"collapsed":100,"hidden":100,"label":136,"order":102,"sort":103},"@yarnpkg/pnpify","src/content/docs/cli/pnpify/_meta.yml","1c6be3bd38e15c65","cli/sdks/_meta",{"id":139,"data":141,"filePath":143,"digest":144},{"collapsed":100,"hidden":100,"label":142,"order":123,"sort":103},"@yarnpkg/sdks","src/content/docs/cli/sdks/_meta.yml","cce811ecc3d5b505","cli/builder/_meta",{"id":145,"data":147,"filePath":149,"digest":150},{"collapsed":100,"hidden":100,"label":148,"order":130,"sort":103},"@yarnpkg/builder","src/content/docs/cli/builder/_meta.yml","1a6448fed302a8dc","getting-started/basics/_meta",{"id":151,"data":153,"filePath":155,"digest":156},{"collapsed":100,"hidden":100,"label":154,"order":130,"sort":103},"Starting with Yarn","src/content/docs/getting-started/basics/_meta.yml","32d09612a8a0dfe7","cli/cli/_meta",{"id":157,"data":159,"filePath":161,"digest":162},{"collapsed":100,"hidden":100,"label":160,"order":110,"sort":103},"@yarnpkg/cli","src/content/docs/cli/cli/_meta.yml","9896b8e956b53db4","getting-started/extra/_meta",{"id":163,"data":165,"filePath":167,"digest":168},{"collapsed":100,"hidden":100,"label":166,"order":102,"sort":103},"Good to Know","src/content/docs/getting-started/extra/_meta.yaml","81d3e8c503247ff4","advanced/general-reference/protocols/_meta",{"id":169,"data":171,"filePath":173,"digest":174},{"collapsed":100,"hidden":100,"label":172,"sort":103},"Protocols","src/content/docs/advanced/general-reference/protocols/_meta.yml","3733c3069b4aad10","getting-started/migrating/_meta",{"id":175,"data":177,"filePath":179,"digest":180},{"collapsed":100,"hidden":100,"label":178,"order":110,"sort":103},"Migrating from 1.x / npm","src/content/docs/getting-started/migrating/_meta.yaml","a0bbddb2589bfeff","docs",["Map",183,184,195,196,206,207,217,218,228,229,239,240,250,251,261,262,272,273,283,284,294,295,305,306,316,317,327,328,338,339,349,350,360,361,371,372,382,383,391,392,402,403,413,414,424,425,435,436,446,447,457,458,468,469,479,480,490,491,501,502,513,514,523,524,534,535,545,546,556,557,567,568,578,579,589,590,600,601,611,612,622,623,633,634,644,645,655,656,666,667,677,678,688,689,698,699,708,709,717,718,728,729,739,740,750,751,761,762,772,773,781,782,792,793,803,804,814,815,825,826,836,837,847,848,858,859,869,870,880,881,891,892,902,903,913,914,924,925,935,936,946,947,955,956,966,967,977,978,987,988,998,999,1009,1010,1020,1021,1031,1032,1042,1043,1053,1054,1064,1065,1075,1076,1084,1085,1093,1094,1102,1103,1111,1112,1122,1123,1131,1132,1140,1141,1151,1152,1162,1163,1173,1174,1184,1185,1193,1194,1204,1205,1215,1216,1226,1227,1235,1236,1246,1247,1257,1258,1268,1269,1277,1278,1288,1289,1297,1298,1308,1309,1319,1320,1328,1329,1339,1340,1350,1351,1359,1360,1370,1371,1381,1382,1390,1391,1399,1400,1408,1409,1419,1420,1430,1431,1441,1442,1452,1453,1461,1462,1472,1473,1481,1482,1490,1491,1499,1500,1510,1511,1519,1520,1530,1531,1541,1542,1550,1551,1561,1562,1572,1573,1583,1584,1594,1595,1603,1604,1613,1614],"configuration/manifest",{"id":183,"data":185,"body":192,"filePath":193,"digest":194,"deferredRender":22},{"title":186,"description":187,"editUrl":22,"head":188,"template":189,"sidebar":190,"pagefind":22,"draft":100},"Manifest (package.json)","Allowed fields in package.json files",[],"doc",{"hidden":100,"attrs":191},{},"import manifestSchema from \"@/utils/configuration/manifest.json\";\nimport JsonToDoc from \"@/components/JsonToDoc\";\n\n\u003CJsonToDoc client:only=\"preact\" json={manifestSchema} />","src/content/docs/configuration/manifest.mdx","3b62e1b4b8558498","configuration/yarnrc",{"id":195,"data":197,"body":203,"filePath":204,"digest":205,"deferredRender":22},{"title":198,"description":199,"editUrl":22,"head":200,"template":189,"sidebar":201,"pagefind":22,"draft":100},"Settings (.yarnrc.yml)","Allowed fields in .yarnrc.yml files",[],{"hidden":100,"attrs":202},{},"import yarnrc from \"@/utils/configuration/yarnrc.json\";\nimport JsonToDoc from \"@/components/JsonToDoc\";\n\n\u003CJsonToDoc client:only=\"preact\" json={yarnrc} />","src/content/docs/configuration/yarnrc.mdx","ccb801045332787c","features/caching",{"id":206,"data":208,"body":214,"filePath":215,"digest":216,"deferredRender":22},{"title":209,"description":210,"editUrl":22,"head":211,"template":189,"sidebar":212,"pagefind":22,"draft":100},"Cache strategies","How to ensure your installs perform the absolute minimal amount of work.",[],{"hidden":100,"attrs":213},{},"## Overview\n\nYarn boasts a wide set of cache settings, letting you tweak depending on your preferred workflows or CI platforms. This documentation goes over some of the most interesting patterns to know.\n\n:::tip\nYarn will by default cache everything you install and mutualize them for all other projects on your machine; this improves both installation speed and disk footprint, just like if you were using hardlinks.\n:::\n\n## Major patterns\n\n### Offline mirror\n\nWhen installed for the first time on a machine, packages are usually retrieved from the npm registry. While it usually works fine, it's not _always_ the case - the registry is known to experience issues from time to time that often result in failed installs. If you're not prepared, it may be a significant disruption for your developers, as switching branches and performing deploys can be much harder or unstable.\n\nSome companies try to avoid this problem by configuring their registry to a mirror they control (for example by having a server run [Verdaccio](https://verdaccio.org/), an open-source implementation of the npm registry). It however requires a specific setup that isn't always easy to deploy to both developers and CI, and those systems sometimes come with [risks](https://medium.com/%2540alex.birsan/dependency-confusion-4a5d60fec610).\n\nYarn provides a very simple but effective alternative: by setting `enableGlobalCache` to false, it will save the package cache into a folder local to your project (by default `.yarn/cache`) that can then be added to Git. Every given commit is thus guaranteed to be installable, even should the npm registry go under.\n\n### Zero-installs\n\nZero-installs are the combination of two Yarn features that allow you to skip having to think about running `yarn install` when switching branches - a requirement otherwise easy to forget until you see your tools crash.\n\nAs we saw, the offline mirror removes your project's dependency on the npm registry by keeping the Yarn cache within the repository. But can we go further, and directly make this cache the actual? The answer is yes!\n\nAs long as your project uses [Yarn PnP](/features/pnp) **and** the [offline mirror](#offline-mirror), all you have to do is add the loader files to Git, and you can forget `yarn install` most of the time. Since the PnP loaders have exactly the same content regardless of the machine that generated them, and since the offline cache will contain all the files that the loaders reference, the `git checkout` calls effectively double as `yarn install` of sort.\n\nOne caveat: adding or removing packages with native dependencies will still require `yarn install` to be run, as such packages depend on files that, unlike Node.js scripts, can't be evaluated directly from within their zip archives. Those packages are quite rare in practice, aren't frequently updated, and Yarn will display an helpful error message should you forget to do it, so this doesn't significantly impact the usefulness of the pattern.\n\n:::note\nZero-installs are technically possible by adding your `node_modules` folders to Git. The difference however is that `node_modules` folders contain multiple thousands of files that Git each has to diff individually, that the hoisting causes them to frequently be moved around, and that people have a bad tendency to make manual changes to their `node_modules` folder that end up committed.\n\nBy contrast, adding your cache to Git and using Yarn PnP gives you a single folder with exactly one zip archive for each package, plus the PnP loader file. This is vastly easier for Git to track, as we saw earlier.\n:::\n\n## Specific environments\n\n### GitHub Actions\n\n:::note\nWe're still investigating the exact set of defaults that make GH Action caching more efficient. It's likely that we'll provide an official `yarn-cache` action mid-term for this purpose.\n:::","src/content/docs/features/caching.mdx","a61743732b8057af","features/constraints",{"id":217,"data":219,"body":225,"filePath":226,"digest":227,"deferredRender":22},{"title":220,"description":221,"editUrl":22,"head":222,"template":189,"sidebar":223,"pagefind":22,"draft":100},"Constraints","An in-depth guide to Yarn's constraints, a feature that provides an easy way to enforce common rules across a project.",[],{"hidden":100,"attrs":224},{},":::note\nThis page documents the new JavaScript-based constraints. The older constraints, based on Prolog, are still supported but should be considered deprecated. Their documentation can be found [here](https://v3.yarnpkg.com/features/constraints).\n:::\n\n## Overview\n\nConstraints allow enforcement of rules across [workspace](/features/workspaces) packages. For example, these rules might include the following:\n\n- Ensuring the same version of dependencies across packages.\n- Prohibiting the use of specific dependencies in packages.\n\n## What can we enforce?\n\nOur constraint engine currently supports two main targets:\n\n- Workspace dependencies\n- Arbitrary package.json fields\n\nIt currently doesn't support the following, but might in the future (PRs welcome!):\n\n- Transitive dependencies\n- Project structure\n\n## Creating a constraint\n\nConstraints are created by adding a `yarn.config.cjs` file at the root of your project (repository). This file should export an object with a `constraints` method. This method will be called by the constraints engine, and must define the rules to enforce on the project, using the provided API.\n\nFor example, the following `yarn.config.cjs` will enforce that all `react` dependencies are set to `18.0.0`.\n\n```ts\nmodule.exports = {\n  async constraints({ Yarn }) {\n    for (const dep of Yarn.dependencies({ ident: \"react\" })) {\n      dep.update(`18.0.0`);\n    }\n  },\n};\n```\n\nAnd the following will enforce that the `engines.node` field is properly set in all workspaces:\n\n```ts\nmodule.exports = {\n  async constraints({ Yarn }) {\n    for (const workspace of Yarn.workspaces()) {\n      workspace.set(\"engines.node\", `20.0.0`);\n    }\n  },\n};\n```\n\n## Declarative model\n\nAs much as possible, constraints are defined using a declarative model: you declare what the expected state should be, and Yarn checks whether it matches the reality or not. If it doesn't, Yarn will either throw an error (when calling `yarn constraints` without arguments), or attempt to automatically fix the issue (when calling `yarn constraints --fix`).\n\nBecause of this declarative model, you don't need to check the actual values yourself. For instance, the `if` condition here is extraneous and should be removed:\n\n```ts\nmodule.exports = {\n  async constraints({ Yarn }) {\n    for (const dep of Yarn.dependencies({ ident: \"ts-node\" })) {\n      // No need to check for the actual value! Just always call `update`.\n      if (dep.range !== `18.0.0`) {\n        dep.update(`18.0.0`);\n      }\n    }\n  },\n};\n```\n\n## TypeScript support\n\nYarn ships types that make it easier to write constraints. To use them, add the dependency to your project:\n\n```\n$ yarn add @yarnpkg/types\n```\n\nThen, in your `yarn.config.cjs` file, import the types, in particular the `defineConfig` function which automatically type the configuration methods:\n\n```ts\n/** @type {import('@yarnpkg/types')} */\nconst { defineConfig } = require(\"@yarnpkg/types\");\n\nmodule.exports = defineConfig({\n  async constraints({ Yarn }) {\n    // `Yarn` is now well-typed \n  },\n});\n```\n\nYou can also retrieve the types manually, which can be useful if you extract some rules into helper functions:\n\n```ts\n/** @param {import('@yarnpkg/types').Yarn.Constraints.Workspace} dependency */\nfunction expectMyCustomRule(dependency) {\n  // ...\n}\n```\n\nYou can alias the types to make them a little easier to use:\n\n```ts\n/**\n * @typedef {import('@yarnpkg/types').Yarn.Constraints.Workspace} Workspace\n * @typedef {import('@yarnpkg/types').Yarn.Constraints.Dependency} Dependency\n */\n\n/** @param {Workspace} dependency */\nfunction expectMyCustomRule(dependency) {\n  // ...\n}\n```\n\n## Putting it all together\n\nThis section regroups a couple of constraint examples. We are thinking to provide some of them as builtin helpers later on, although they tend to often contain some logic unique to each team / company.\n\n### Restrict dependencies between workspaces\n\nThis code ensures that no two workspaces in your project can list the same packages in their `dependencies` or `devDependencies` fields but with different associated references.\n\n```ts\n// @ts-check\n\n/** @type {import('@yarnpkg/types')} */\nconst { defineConfig } = require(`@yarnpkg/types`);\n\n/**\n * This rule will enforce that a workspace MUST depend on the same version of\n * a dependency as the one used by the other workspaces.\n *\n * @param {Context} context\n */\nfunction enforceConsistentDependenciesAcrossTheProject({ Yarn }) {\n  for (const dependency of Yarn.dependencies()) {\n    if (dependency.type === `peerDependencies`) continue;\n\n    for (const otherDependency of Yarn.dependencies({\n      ident: dependency.ident,\n    })) {\n      if (otherDependency.type === `peerDependencies`) continue;\n\n      dependency.update(otherDependency.range);\n    }\n  }\n}\n\nmodule.exports = defineConfig({\n  constraints: async (ctx) => {\n    enforceConsistentDependenciesAcrossTheProject(ctx);\n  },\n});\n```","src/content/docs/features/constraints.mdx","2c7b430d53d9e084","features/extensibility",{"id":228,"data":230,"body":236,"filePath":237,"digest":238,"deferredRender":22},{"title":231,"description":232,"editUrl":22,"head":233,"template":189,"sidebar":234,"pagefind":22,"draft":100},"Extensibility","The strategies Yarn follows so you can always find a way to unblock yourself.",[],{"hidden":100,"attrs":235},{},"## Overview\n\nMany Yarn users have many different use cases, and while we try to find satisfying solutions to most common problems, our team may not have the bandwidth to research and maintain some of the most exotic ones. To avoid blocking you should you face a novel situation that Yarn doesn't support out of the box yet, we provide a very powerful API that you can leverage in your own custom plugins.\n\nPlugins are, in essence, small scripts listed in your configuration that Yarn will dynamically require at startup.\n\n## What can plugins do?\n\n- **Plugins can add new resolvers.** Resolvers are the components tasked from converting dependency ranges (for example `^1.2.0`) into fully-qualified package references (for example `npm:1.2.0`). By implementing a resolver, you can tell Yarn which versions are valid candidates to a specific range.\n\n- **Plugins can add new fetchers.** Fetchers are the components that take the fully-qualified package references we mentioned in the previous step (for example `npm:1.2.0`) and know how to obtain the actual package data they reference. Fetchers can work with remote sources (for example the npm registry), but can also find the packages directly from their location on the disk (or any other data source).\n\n- **Plugins can add new linkers.** Once all the packages have been located and are ready for installation, Yarn will call the linkers to generate the files needed for the install targets to work properly. As an example, the PnP linker generates a Node.js loader file, the node-modules linker generates a `node_modules` folder, and an hypothetical Python linker would generate a virtualenv.\n\n- **Plugins can add new commands.** Each plugin can ship as many commands as they see fit, which will be injected into our CLI (also making them available through `yarn --help`). Because the Yarn plugins are dynamically linked with the running Yarn process, they have access to the full Yarn API, just like any other official command. This lets you experiment with your own custom logic, should Yarn be missing something you need.\n\n- **Plugins can register to some events.** Yarn has a concept known as \"hooks\", where events are periodically triggered during the lifecycle of the package manager. Plugins can register to those hooks in order to add their own logic depending on what the core allows. For example, the `afterAllInstalled` hook will be called each time an install is performed.\n\n## How to write a plugin?\n\nWe have a tutorial for this! Head over to [Plugin Tutorial](/advanced/plugin-tutorial).\n\n:::tip\nYou'll want to use the Yarn API from your hooks and commands - learning it may look scary, but you have access to the best examples there is: Yarn itself!\n\nFor example, the implementation of `yarn workspaces focus` is only about [a hundred lines of code](https://github.com/yarnpkg/berry/blob/master/packages/plugin-workspace-tools/sources/commands/focus.ts), making it a good starting point if you wish to implement partial installs according to your own logic.\n:::","src/content/docs/features/extensibility.mdx","eb2096b3fde8d5d0","features/linkers",{"id":239,"data":241,"body":247,"filePath":248,"digest":249,"deferredRender":22},{"title":242,"description":243,"editUrl":22,"head":244,"template":189,"sidebar":245,"pagefind":22,"draft":100},"Install modes","The different ways to install your project.",[],{"hidden":100,"attrs":246},{},"Yarn supports three different ways to install your projects on disk. This document gives a quick overview of them all, along with the pros and cons of each.\n\n:::note\nAll install modes are **fully stable**. Yarn uses PnP installs by default, but the pnpm and node-modules linkers are first-class citizens as well, used in production settings.\n:::\n\n## `nodeLinker: pnp`\n\nPlug'n'Play installs are described in more details in their [dedicated documentation](/features/pnp), but for now you can think of them as generating a single Node.js loader file for each of your projects, which makes your tools directly access packages from a global store on your disk. No need for file copies, or even symlinks / hardlinks.\n\n| Pros | Cons |\n| --- | --- |\n| Extremely fast | Less idiomatic |\n| Content-addressable store | IDE integrations often require [SDKs](/getting-started/editor-sdks) |\n| Protects against ghost dependencies | Sometimes requires `packageExtensions` |\n| Semantic dependency errors | |\n| Perfect hoisting optimizations | |\n| Provides a [dependency tree API](/advanced/pnpapi) | |\n| Can be upgraded into [zero-installs](/features/caching#zero-installs) | |\n\n:::note\nYarn Plug'n'Play has been the default installation strategy in Yarn since 2019, and the compatibility story significantly improved along the years as we worked with tooling authors to smoothen the edges.\n:::\n\n## `nodeLinker: pnpm`\n\nUnder this mode, a flat folder is generated in `node_modules/.store` containing one folder for each dependency in the project. Each dependency folder is populated with hardlinks obtained from a central store common to all projects on the system (by default `$HOME/.yarn/berry/index`). Finally, symlinks to the relevant folders from the flat store are placed into the `node_modules` folders.\n\n| Pros | Cons |\n| --- | --- |\n| Slower than PnP, but still very fast | Symlinks aren't always supported by tools |\n| Content-addressable store | Hard links can lead to strange behaviors |\n| Protects against _some_ ghost dependencies | Generic dependency errors |\n| No need for IDE SDKs | Sometimes requires `packageExtensions` |\n\n:::note\nThe pnpm mode is an interesting middle ground between traditional `node_modules` installs and the more modern Yarn PnP installs; it doesn't decrease the performances much and provides a slightly better compatibility story, at the cost of losing a couple of interesting features.\n:::\n\n## `nodeLinker: node-modules`\n\nThis mode is the old tried and true way to install Node.js projects, supported natively by Node.js and virtually the entirety of the JavaScript ecosystem.\n\nWhile we tend to recommend trying one of the two other modes first, it remains a solid option in case you face problems with your dependencies that you don't have the time to address right now. Sure, your project may be a little more unstable as you won't notice if ghost dependencies creep in, but it may be a reasonable trade-off depending on the circumstances.\n\n| Pros | Cons |\n| --- | --- |\n| Perfect compatibility with the whole ecosystem | Average speed |\n| Optional support for hardlinks (`nmMode`) | No protection against ghost dependencies |\n| No need for IDE SDKs | Imperfect hoisting due to the filesystem reliance |","src/content/docs/features/install-modes.mdx","256b857a2fe8d37a","features/performances",{"id":250,"data":252,"body":258,"filePath":259,"digest":260,"deferredRender":22},{"title":253,"description":254,"editUrl":22,"head":255,"template":189,"sidebar":256,"pagefind":22,"draft":100},"Performances","What makes Yarn one of the fastest package managers around.",[],{"hidden":100,"attrs":257},{},"## Official benchmarks\n\nThe two following graphs show the time it took to run a full install on the GitHub Action runners, every day of the past week, on all major package managers, averaged over multiple runs performed during the day, with each run being itself averaged over multiple installs.\n\nThe first graph shows the install time of a Next.js project, and the second one of a Gatsby project. The two solid lines both represent the master branch of Yarn, with the light blue one being Yarn PnP installs, and the dark blue one being Yarn operating under `nodeLinker: node-modules`. The dotted blue line represents Yarn Classic.\n\n:::tip\nThis is only a small subset of the benchmarks we run every three hours on the latest version of each tool. To see all variants of those tests, consult our dedicated [Datadog dashboard](https://yarnpkg.com/benchmarks).\n:::\n\n\u003Ciframe\n  src=\"https://app.datadoghq.eu/graph/embed?token=417dae5b1bbcc11cddd9b4a86420ee808dd3e91f0c1d0f2ae67754c54ef3871c&height=300&width=600&legend=true\"\n  width=\"600\"\n  height=\"300\"\n  frameborder=\"0\"\n>\u003C/iframe>\n\n\u003Ciframe\n  src=\"https://app.datadoghq.eu/graph/embed?token=0668b77c5fd00c76a59378edea1c4a93e22cd2442c5854e3b0032aeede4037cc&height=300&width=600&legend=true\"\n  width=\"600\"\n  height=\"300\"\n  frameborder=\"0\"\n>\u003C/iframe>\n\n## Don't benchmark from pull requests\n\nOr at least use a private repository when doing that.\n\nYarn enables various security settings when it detects that the running environment is a pull request on a public repository. Amongst others (see [Hardened mode](/features/security#hardened-mode)), it will by default pull all metadata from the remote registry to confirm they match what's inside the lockfile. This makes installs much slower, but is important to protect our users against [lockfile poisoning](https://snyk.io/blog/why-npm-lockfiles-can-be-a-security-blindspot-for-injecting-malicious-modules/).\n\n## About diminishing returns\n\nKeep in mind when discussing package manager performances that those numbers are very relative. While major and minor releases often come with improvements in terms of install speed, shaving a couple of seconds doesn't have a significant impact - especially when those timings heavily depend on your exact environment (CI platform, cpu count, network speed, ...) and configuration (cache settings).\n\nWhether you plan to use Yarn or another package manager, make sure to not only base your decision on raw speed, but also on more structural reasons: features they each implement, settings they each offer, priorities they each set.","src/content/docs/features/performances.mdx","8b8cb0fd4f4bdc20","features/release-workflow",{"id":261,"data":263,"body":269,"filePath":270,"digest":271,"deferredRender":22},{"title":264,"description":265,"editUrl":22,"head":266,"template":189,"sidebar":267,"pagefind":22,"draft":100},"Release Workflow","An in-depth guide to Yarn's release workflow which helps with managing versions across a monorepo.",[],{"hidden":100,"attrs":268},{},":::note Experimental\nThis feature is still incubating, and we'll likely be improving it based on your feedback.\n:::\n\nWhen working with monorepos, a hard task often is to figure out which packages should receive a new version when starting a new release. Yarn offers a few tools that aim to make this workflow easier without the need for third-party tools (although it's possible you may prefer the workflow offered by different implementations, of course!).\n\n## Auto-updated dependencies\n\nWhen running the `yarn version` command to upgrade the version of a workspace, every other workspace that depend on the first one through a basic semver ranges (`^x.y.z`, `~x.y.z`, ...) will get auto-updated to reference the new version. For example, let's say we have the following workspaces:\n\n```\n/packages/common (1.0.0)\n/packages/server (depends on common@^1.0.0)\n/packages/client (depends on common@^1.0.0)\n```\n\nIn pre-2.0, upgrading `common` would have required you to run the command there, then go into each of `server` and `client` to manually upgrade their dependencies to reference the new version. But not anymore! If we run `yarn version 1.1.1` into `common`, the following changes will be applied:\n\n```\n/packages/common (1.1.1)\n/packages/server (depends on common@^1.1.1)\n/packages/client (depends on common@^1.1.1)\n```\n\nOf course it's not that important when the packages from the monorepo are always meant to be used as part of the monorepo, but it becomes much more interesting when you work with multiple packages meant to be published. Had you forgotten to update the range of either of your dependent packages, your users would have potentially downloaded an old version of `common` which wouldn't have been compatible with the newer one.\n\n## Deferred versioning\n\nStarting from the 2.0, the `yarn version` command now accepts a new flag: `--deferred`. When set, this flag will cause the command to not immediately change the `version` field of the local manifest, but to instead internally record an entry stating that the current package will need to receive an upgrade during the next release cycle. For example, the following:\n\n```\nyarn version minor --deferred\n```\n\nWill not cause the `package.json` file to change! Instead, Yarn will create (or reuse, if you're inside a branch) a file within the `.yarn/versions` directory. This file will record the requested upgrade:\n\n```yaml\nreleases:\n  my-package@1.0.0: minor\n```\n\nThen later on, once you're ready, just run `yarn version apply`. Yarn will then locate all the upgrade records it previously saved, and apply them all at once (including by taking care of upgrading inter-dependencies as we saw).\n\n## Checked-in deferred records\n\nWe've seen in the previous section that `yarn version patch` could store the future versions in an internal folder, `.yarn/versions`. But why is that? What good is it? To answer this question, consider a popular open-source project developed through a monorepo. This project receives many external pull requests, but they aren't released right away - they're often released as part of a batch. Every once in a while, the lead maintainer will take all the changes, convert them into new versions, and start the deployment.\n\nLet's focus on the part where changes have to be converted into versions. How does that work? This isn't easy. Taking Lerna, for example (the most popular version management tool for monorepos), you have two solutions:\n\n- With the fixed mode, all your packages have a single version. As such, they get upgraded all at once.\n\n- With the independent mode, you get to chose a version for each package whose sources changed.\n\nOne critical problem remains, though: even if you use the independent mode, how will you know which packages are meant to be upgraded? And, just as critical, should they be patch releases? Minor releases? Hard to know - large projects can receive dozens of PRs a week, and keeping track of which units need to be released and to which version is a pretty difficult task.\n\nWith Yarn's workflow, however, this all becomes very easy! Since the upgrades are kept in a file, and since this file is magically bound to a Git branch, it simply becomes a matter of committing the release folder - all expected releases will then become part of the project history until comes the time of `yarn version apply` - then Yarn will consume all the individual records, merge them (so that a PR requiring a minor will have higher precedence than the PR requiring a patch), and apply them simultaneously.\n\nAs an added bonus, you'll even be able to review the package upgrades as part of the typical PR review! This will have the effect of delegating more power to your community while being able to ensure that everyone follows rules.\n\n## Ensuring that versions are bumped (CI)\n\nOne problem with committing the deferred releases, however, is that it becomes important to make sure that the PRs you receive include the correct package release definitions. For example, you should be able to trust that the definition contains release strategies (patch, minor, major, ...) for each modified workspace.\n\nTo solve this problem in an automated way, the `yarn version check` command appeared. When run, this command will figure out which packages changed and whether they are listed in the release definition file. If they aren't, an error will be thrown and - assuming you integrate this into a CI system such as the GitHub Actions - the PR author will be asked to fill out the release definition file.\n\nWriting this file can be tedious; fortunately `yarn version check` implements a very handy flag named `--interactive`. When set (`yarn version check --interactive`), Yarn will print a terminal interface that will summarize all the changed files, all the changed workspaces, all relevant dependent workspaces, and checkboxes for each entry allowing you to pick the release strategies you want to set for each workspace.\n\nThe [`changesetIgnorePatterns`](/configuration/yarnrc#changesetIgnorePatterns) configuration option can be used to ignore files when checking which files have changed. It is useful for excluding files that don't affect the release process (e.g. test files).\n\n### Caveat\n\n#### Commit history\n\nThe [version plugin](https://github.com/yarnpkg/berry/tree/master/packages/plugin-version) requires access to the commit history in order to be able to correctly infer which packages require release specifications. In particular, when using GitHub Actions with `actions/checkout@v2` or greater the default behavior is for Git to fetch just the version being checked, which would cause problems. To correct this, you will need to override the `fetch-depth` configuration value to fetch the whole commit history:\n\n```yaml\n- uses: actions/checkout@v2\n  with:\n    fetch-depth: 0\n```","src/content/docs/features/release-workflow.mdx","ccacef1df934d618","features/pnp",{"id":272,"data":274,"body":280,"filePath":281,"digest":282,"deferredRender":22},{"title":275,"description":276,"editUrl":22,"head":277,"template":189,"sidebar":278,"pagefind":22,"draft":100},"Plug'n'Play","An overview of Plug'n'Play, a powerful and innovative installation strategy for Node.",[],{"hidden":100,"attrs":279},{},"## What is Yarn Plug'n'Play?\n\nYarn Plug'n'Play (generally referred to as Yarn PnP) is the default installation strategy in modern releases of Yarn. It can be swapped out for more traditional approaches (including `node_modules` installs, or pnpm-style symlink-based approaches), but we recommend it when creating new projects due to its numerous improvements.\n\n## How does it work?\n\nIf you look into the files in your project, you may notice the absence of a `node_modules` folder. This is unusual! We regularly get asked on Discord where the folder is, by people thinking `yarn install` silently failed.\n\nThe thing is, this is actually expected! The way Yarn PnP works, it tells Yarn to generate a single Node.js loader file in place of the typical `node_modules` folder. This loader file, named `.pnp.cjs`, contains all information about your project's dependency tree, informing your tools as to the location of the packages on the disk and letting them know how to resolve require and import calls.\n\n## What are the advantages?\n\nYarn PnP addresses various problems. It would be possible to address _some_ of them via smarter `node_modules` layout algorithms (that's for example what the pnpm-style symlink-based install strategy attempts to do), but PnP is the only strategy that can address them all:\n\n### Minimal install footprint\n\nA Yarn PnP install typically does one thing: generate the Node.js loader file (`.pnp.cjs`). In other package managers, a significant portion of the time is spent performing I/O operations to copy files from one location to another, be it on disk like npm, or via symlinks / hardlinks like pnpm.\n\n### Shared installs across disks\n\nRelated to the previous point, Yarn PnP allows to reuse the same package artifacts across all projects on the disk. Unlike pnpm, which uses a content-addressable store where each file from each package needs to be hardlinked into its final destination, the PnP loader directly references packages via their cache path, removing a lot of complexity.\n\n### Perfect and correct hoisting\n\nTypical `node_modules` installs attempt to optimize the resulting `node_modules` size by hoisting packages, at the cost of higher risks of ghost dependencies. Unfortunately, even these optimizations have limits! Some dependency patterns prevent safe hoisting, leading to package duplication and multiple instantiations.\n\n### Ghost dependencies protection\n\nBecause Yarn keeps a list of all packages and their dependencies, it can prevent accesses to dependencies unaccounted for during resolution, giving you the ability to quickly identify and fix those problems before they get deep into your codebase and jeopardize the stability of your application at deploy time.\n\n:::note\nThis is sometimes mentioned as a challenge to adopting Yarn PnP. It means errors may be reported when other package managers would seem to work out of the box - that is, until strange breakages start happening as you add, upgrade, or remove unrelated dependencies.\n\nWhile it does add a bit of friction, it's a critical part of what makes Yarn a **very** stable package manager. An application that works today won't suddenly break in the future, and your colleagues won't face seemingly random issues long after your PRs got merged.\n:::\n\n### Semantic erroring\n\nYou may never have noticed it, but when a Node.js import or require call is invalid, you only get a generic error in return, that doesn't really tell you what's the problem or how to address it:\n\n```\nUncaught Error: Cannot find module 'not-found'\n```\n\nYarn PnP not only tells you exactly _what_ the problem is, but also which packages are involved. For example, the two following error messages may be emitted depending on the circumstances:\n\n```\nError: Your application tried to access not-found, but it isn't declared in your dependencies; this makes the require call ambiguous and unsound.\n\nRequired package: not-found\nRequired by: /path/to/my-project/\n```\n\n```\nError: awesome-plugin tried to access awesome-core (a peer dependency) but it isn't provided by its ancestors; this makes the require call ambiguous and unsound.\n\nRequired package: awesome-plugin\nRequired by: awesome-core\n\nAncestor breaking the chain: awesome-template\n```\n\nSemantic erroring goes a long way into letting you understand and address problems caused by your dependencies.\n\n## Is it difficult to use?\n\n### When creating a new project\n\nIf you're creating a project from scratch, your project itself should work almost \"out of the box\". You may have to use `packageExtensions` from time to time to fix an occasional ghost dependency, but that remains uncommon, and this process is otherwise straightforward. Most tools in the ecosystem are designed and tested to work well in Yarn PnP environments, so problems are infrequent.\n\n:::danger\nA notable exception is React Native / Expo, which require using typical `node_modules` installs.\n:::\n\nReally, the main problem you will face will be around IDE integrations. All IDEs have some level of support for Yarn PnP, but in general you should expect having to follow one of the procedures from this guide to make sure all your imports are properly resolved.\n\n### When migrating an existing project\n\n:::note\nRunning `yarn install` in a project which used to be installed by Yarn Classic will cause Yarn PnP to be automatically disabled, to make the migration smoother. You'll still benefit from the enhanced stability and other features implemented in modern releases, and can decide whether to spend the time to migrate to PnP or not at a later time.\n:::\n\nExisting projects can be tougher to migrate to Yarn PnP for a couple of reasons:\n\n- You already start with a lot of dependencies, so there'll be a proportionally higher amount of packages that may list ghost dependencies\n- They may be locked on old versions of their respective packages, and thus have a higher chance to contain ghost dependencies\n- Your own scripts may inadvertently rely on some implementation details or ghost dependencies, sometimes even without you realizing it.\n\nNone of these are blockers, but they mean it can take a couple of days to migrate an existing project to Yarn PnP. We however provide tools to simplify some of this process, and taking a look at the footguns below will help you identify quicker what way cause something to break, so it's not impossible.\n\nRemember that migrating to Yarn PnP is optional: you can revert to `node_modules` installs at any time by setting the `nodeLinker: node-modules` setting in your project's `.yarnrc.yml` file.\n\n## Footguns\n\n### Peer dependencies\n\nPeer dependencies are powerful, but are very difficult to implement - even more so for non-PnP projects, which have to work within the limits of what the filesystem hierarchy allows.\n\nYarn PnP, on the other hand, doesn't have this limitation, and will accurately represent the peer dependencies of every project in your dependency tree - even workspaces. If a workspace has a peer dependency, and if this dependency is fulfilled by different versions depending on its grandparent, then the workspace will instantiated twice, once for each unique \"dependency set\".\n\nThis is the correct behaviour, but it may cause an accidental explosion of the number of instantiated workspaces if your project heavily uses peer dependencies without ensuring they are always fulfilled by the exact same versions.\n\n### Shared binaries\n\nYarn prevents ghost dependencies in the packages your project depends on, but also in your own code itself - this is to decrease the chances that a package would work on your development machine but break once published.\n\nIt however has a side effect when it comes to bins. If you have `typescript` listed at the root of your project, the `tsc` binary will be available in the root package _but only in the root project_. In other words, any workspace using the `tsc` binary in its scripts will need to declare it in its dependencies.\n\nA good recommendation to avoid this kind of issue is to have a \"tooling\" workspace to contain your infrastructure tools and scripts, and have all other workspaces depend on it.\n\n## Frequently asked questions\n\n### Compatibility with npm / pnpm\n\nYarn PnP was designed to use the exact same \"public interfaces\" as other package managers, with differences being kept to what already were implementation details. If a project works with Yarn PnP, it should work everywhere!\n\nOne caveat though: the opposite isn't always true. Since other package managers don't / can't enforce proper listing of dependencies, they are more vulnerable to shipping ghost dependencies by accident to their consumers. In that way, using Yarn PnP can be seen as a good practice for the health of the ecosystem! \n\n### How can I fix ghost dependencies?\n\nGhost dependencies can be solved using the `packageExtensions` setting, which allows you to add new dependencies to any package in your dependency tree. For example, should you face an error such as `@babel/core tried to access @babel/types, but it isn't declared in its dependencies`, you can easily fix it by adding the following to your `.yarnrc.yml` file:\n\n```yaml\npackageExtensions:\n  \"@babel/core@*\":\n    dependencies:\n      \"@babel/types\": \"*\"\n```\n\nIt may sometimes make sense to extend the `peerDependencies` field rather the `dependencies` field, this is to be addressed case-by-case.\n\n:::tip\nTo avoid you having to add too many `packageExtensions` entries, the Yarn team maintains a list of [known ghost dependencies in the ecosystem](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-extensions/sources/index.ts) that we automatically fix. This list is used by both Yarn and pnpm, and we're more than happy to merge contributions there.\n:::","src/content/docs/features/plugnplay.mdx","a6f0c9b8494e3da8","features/patching",{"id":283,"data":285,"body":291,"filePath":292,"digest":293,"deferredRender":22},{"title":286,"description":287,"editUrl":22,"head":288,"template":189,"sidebar":289,"pagefind":22,"draft":100},"Package patching","How to fix your dependencies without having to fork them entirely while waiting for an update.",[],{"hidden":100,"attrs":290},{},"## Overview\n\nIt sometimes happen that you need to make small changes to a dependency, just to workaround some small issue. The recommended action is to make a PR upstream, but it may take time until your changes get through review and end up in a release; what to do in the meantime? You have two options:\n\n- You can use the `git:` protocol, which will let you install a project straight from its development repository, provided it was correctly setup.\n\n- Or you can use the `patch:` protocol to make small changes to the dependencies straight from your project, while keeping them separated from the original code.\n\nNo more waiting around for pull requests to be merged and published, no more forking repos just to fix that one tiny thing preventing your app from working: the builtin patch mechanism will always let you unblock yourself.\n\n## Making patches\n\nTo create a patch, run the `yarn patch` command and pass it a package name to make Yarn extract the requested package in a temporary folder. You're then free to edit the files within the patch at your convenience.\n\nOnce you're done with your changes, run `yarn patch-commit -s` with the temporary folder as parameter: the patch will be generated in `.yarn/patches`, and applied to your project. Add it to Git, and you're set to go.\n\n## Maintaining patches\n\nBy default, `yarn patch` will always reset the patch. If you wish to add new changes, use the `yarn patch ! --update` flag and follow the same procedure as before - your patch will be regenerated.\n\n## Limitations\n\n- Because they're currently computed at fetch time rather than resolution time, the package dependencies have already been resolved and patches won't be able to alter them. Instead, use the `packageExtensions` mechanism which is specifically made to add new runtime dependencies to packages.\n\n- Patches are ill-suited for modifying binary files. Minified files are problematic as well, although we could improve the feature to automatically process such files through a Prettier-like tool.","src/content/docs/features/patching.mdx","a74fa2cd80e08b62","features/scripting",{"id":294,"data":296,"body":302,"filePath":303,"digest":304,"deferredRender":22},{"title":297,"description":298,"editUrl":22,"head":299,"template":189,"sidebar":300,"pagefind":22,"draft":100},"Scripting","Some of the features Yarn provides to help you write scripts.",[],{"hidden":100,"attrs":301},{},"import { Code } from '@astrojs/starlight/components';\n\n## Environment files\n\nYarn will automatically interpret the content of `.env.yarn` files, and inject them within all commands run by `yarn run`. This behavior can be configured through the use of the [`injectEnvironmentFiles`](/configuration/yarnrc#injectEnvironmentFiles) setting.\n\nNote that you can also configure files that will be loaded but *only if present*; making it possible to write conditional imports such as:\n\n```yaml\ninjectEnvironmentFiles:\n  - .env.yarn\n  - .env.local?\n```\n\nWhere `.env.local` will take precedence only if present, and ignored otherwise.\n\n## Parallel tasks\n\nYarn has a native integration for the background job syntax (`foo&`) within scripts defined in the `scripts` field. It will run them in parallel, and each line of the output will be prefixed by an identifier showing where they come from. For example, the following command will run linting and tests in parallel, and report once both are finished:\n\n\u003CCode code='yarn lint & yarn tes' />\n\n## Portable shell\n\nWindows portability can be troublesome with other package managers. Scripts can't expect a Posix shell to be available, so you have to rely on strange hacks to use semi-portable scripts - or drop them altogether and use Node.js scripts instead, defeating the point of small, non-intrusive scripts in the first place. That is, unless you use Yarn!\n\nYarn implements and maintains a Posix-like shell interpreter that supports all of the syntax you typically find within scripts, along with a couple of simple builtins like `cd` / `echo`. For instance, the following command will work just fine on both Windows and Linux despite assigning environment variables:\n\n\u003CCode code='NODE_ENV=production webpack' />\n\n:::note\nWe say it's a Posix-like interpreter rather than a Posix-compatible interpreter because it doesn't implement some of the most complex features that aren't useful in the context of the `scripts` field. For instance, multi-line flow control structures such as `while` aren't supported.\n:::\n\n## Script arguments\n\nBy default, any parameter following the name of the script in `yarn run` will be added to the evaluated command. It works well enough in simple cases, like this one where running `yarn test packages/lib` will lead to `jest packages/lib` being evaluated:\n\n```json\n{\n  \"scripts\": {\n    \"test\": \"jest\"\n  }\n}\n```\n\nIn more complex situations however, you may want to explicitly refer to those arguments. Yarn supports this by using the `$0`, `$1`, etc variables, which will be interpolated and will disable the automatic appending of the arguments:\n\n```json\n{\n  \"scripts\": {\n    \"get-latest\": \"curl https://registry.yarnpkg.com/$0 | jq .['dist-tags'].latest\"\n  }\n}\n```\n\nOf course, you can also use the `$@` array to retrieve the list of all arguments, which will let you reuse them in multiple commands:\n\n```json\n{\n  \"scripts\": {\n    \"build-and-test\": \"yarn build \\\"$@\\\" && yarn test \\\"$@\\\"\"\n  }\n}\n```","src/content/docs/features/scripting.mdx","5444c408202d6986","features/security",{"id":305,"data":307,"body":313,"filePath":314,"digest":315,"deferredRender":22},{"title":308,"description":309,"editUrl":22,"head":310,"template":189,"sidebar":311,"pagefind":22,"draft":100},"Security","Everything Yarn does to keep your installs secure.",[],{"hidden":100,"attrs":312},{},"## Audits\n\nYarn doesn't run audits by default when running `yarn install`, as this should rather be performed in a cron task. You can however perform audits whenever you want by running [`yarn npm audit`](/cli/npm/audit).\n\n:::note\nOur implementation has a couple of differences with the npm one. Like most other Yarn commands, `yarn npm audit`, by default, only applies on the direct dependencies from the current workspace. To get a report on the whole project, use the `-A,--all` and/or `-R,--recursive` flags.\n:::\n\n:::tip\nYou can exclude your `devDependencies` (and their transitive dependencies) from the report by running the command with `--environment production`.\n:::\n\n## Hardened mode\n\nThe hardened mode can be set (or disabled) using either the `enableHardenedMode` setting or by defining `YARN_ENABLE_HARDENED_MODE=1|0` in your environment variables, but in most cases you won't even have to think about it - the hardened mode is enabled by default when Yarn detects it runs in a pull request from a public GitHub repository.\n\nUnder this mode, Yarn will automatically enable the `--check-resolutions` and `--refresh-lockfile` flags when running `yarn install`, which should protect you against most attacks caused by [lockfile poisoning](https://snyk.io/blog/why-npm-lockfiles-can-be-a-security-blindspot-for-injecting-malicious-modules/), at the cost of a little bit of install speed.\n\n:::danger\nThe hardened mode makes installs significantly slower as Yarn has to query the registry to make sure the information contained in the lockfile are accurate. If your CI pipeline runs multiple jobs, we recommend disabling the hardened mode in all but one of them so as to limit the performance impact.\n:::","src/content/docs/features/security.mdx","d94c76da0505d5e9","features/workspaces",{"id":316,"data":318,"body":324,"filePath":325,"digest":326,"deferredRender":22},{"title":319,"description":320,"editUrl":22,"head":321,"template":189,"sidebar":322,"pagefind":22,"draft":100},"Workspaces","A tour of what Yarn has to offer to monorepo projects.",[],{"hidden":100,"attrs":323},{},"## What are workspaces?\n\nWorkspaces are the name of individual packages that are part of the same project and that Yarn will install and link together to simplify cross-references.\n\nThis pattern is often called monorepo when used in conjunction with a repository. Workspaces were initially popularized by projects like Lerna, but Yarn was the first package manager to provide native support for them - support which never stopped improving over years as we build more features around them.\n\n:::note\nWe always try to dogfood the features we offer, and workspaces are a prime example: Yarn is composed of a couple of dozens of packages that can each be deployed independently if needed!\n:::\n\n## When should I use workspaces?\n\nWorkspaces shine in many situations, with the main ones being:\n\n- When a project has a core package surrounded with various add-ons; this is for example the case for Babel.\n\n- When you need to publish multiple packages and want to avoid your contributors having to open PRs on many separate repositories whenever they want to make a change. This is for example the case for Jest.\n\n- Or when projects want to keep strict boundaries within their code and avoid becoming an entangled monolith. This is for example the case for Yarn itself, or many enterprise codebases.\n\nThere's been a significant amount of discussions about whether monorepos are good or bad, with decent arguments on both side. Our team worked with monorepos for years at this point, and with the tooling Yarn provides, the value has always outweighed the cons by a large margin. If you need to create another package for your project, consider whether grouping them together makes sense.\n\n:::tip\nYou don't need to split your code in many workspaces for them to become useful. For instance, the [Clipanion repository](https://github.com/arcanis/clipanion) uses only two workspaces, one for the library and one for its website. This patterns avoids mixing dependencies while also making it easy to author PRs that affect both the code and the documentation.\n:::\n\n## How are workspaces declared?\n\nTo declare a workspace, all you have to do is add a `workspaces` array to the root `package.json` file, and list relative glob patterns pointing to your workspaces' folders. In the following example, all subdirectories in the `packages` folder will become workspaces.\n\n```json\n{\n  \"workspaces\": [\n    \"packages/*\"\n  ]\n}\n```\n\n## Workspace-related features\n\n### Constraints\n\nConstraints are to monorepos what Eslint is to your source code. They let you declare rules that must apply to specific workspaces in your project. For example, you can use constraints to enforce that all dependencies in your project are synchronized, to prevent some dependencies from being used, or to enforce that some fields such as `license` or `engines.node` are properly set everywhere.\n\nFor more information and examples about constraints, check the [dedicated article](/features/constraints).\n\n### Cross-references\n\nPackages from monorepos often need to depend on each other - for example when you have an app package depending on a separate library. Yarn makes it very easy thanks to the special `workspace:` protocol, which lets you instruct Yarn to resolve the dependency using the workspace of the same name in the project. For example:\n\n```json\n{\n  \"dependencies\": {\n    \"@my-org/utils\": \"workspace:^\"\n  }\n}\n```\n\nThe `workspace:` protocol accepts either a regular semver range, or the special `^` / `~` / `*` tokens. Whatever the value is won't change how Yarn will resolve the dependency (it will only ever care about the dependency name), but it will affect what the dependency will look like after the package gets published via `yarn npm publish`. For example, if the following ranges are used against a workspace whose `version` field is set to `3.2.1`:\n\n| Initial range | Range after publish |\n| --- | --- |\n| `workspace:^3.0.0` | `^3.0.0` |\n| `workspace:^` | `^3.2.1` |\n| `workspace:~` | `~3.2.1` |\n| `workspace:*` | `=3.2.1` |\n\n### Focused installs\n\nA common concern when discovering workspaces is how you need to install all of their dependencies whenever you wish to work on a single one of them. Yarn provides a solution via `yarn workspaces focus`.\n\nThis command takes a list of workspaces, extend the list to include transitive dependencies, and exclude everything else from the install. For example, the following would let you install only the dependencies required for your main app to be built and deployed:\n\n```\nyarn workspaces focus @my-org/app\n```\n\nIf you wish to also skip installing `devDependencies`, set the `yarn workspaces focus ! --production` flag. In the following example, Yarn will install the dependencies from all workspaces, but only the production ones:\n\n```\nyarn workspaces focus -A --production\n```\n\n### Global scripts\n\nScripts defined in the `scripts` field from the `package.json` files can be run using `yarn run name`, but only if you run the command from within the workspaces that declare them. That is, unless they are global scripts.\n\nGlobal scripts are characterized by at least one colon (`:`) in the script name. They can be run from anywhere within the project, as long as there are no duplicates (if two workspaces define scripts with the same names, they won't be upgraded into global scripts).\n\n### Parallel execution\n\nScripts from multiple workspaces can be run in parallel if they share the same name, by using `yarn workspaces foreach`. The following example shows you how to publish all packages in your project in parallel, but respecting topological order (so that a workspace only gets published once all other workspaces it depends on did):\n\n```\nyarn workspaces foreach --all -pt npm publish\n```\n\nThe `yarn workspaces foreach ! --all` flag will run the provided command on every workspace in the project, but it can be tweaked. In this example we use the `yarn workspaces foreach ! --since` flag to instead only select workspaces that were modified in the current branch compared to the [main branch](/):\n\n```\nyarn workspaces foreach --since run lint\n```\n\nSimilarly, the `yarn workspaces foreach ! --from pattern` flag will instead select all workspaces matching the provided glob pattern. As for all other Yarn commands, this flag will be applied to both workspace names and paths relative to the current working directory. For example, this command will run the `build` script on the current workspace and all other workspaces it depends on:\n\n```\nyarn workspaces foreach --from . -R run build\n```","src/content/docs/features/workspaces.mdx","c458af14f9e968a8","advanced/lexicon",{"id":327,"data":329,"body":335,"filePath":336,"digest":337,"deferredRender":22},{"title":330,"description":331,"editUrl":22,"head":332,"template":189,"sidebar":333,"pagefind":22,"draft":100},"Lexicon","Definitions of common terms used throughout the documentation.",[],{"order":110,"hidden":100,"attrs":334},{},"### Build Scripts\n\nRefers to tasks executed right after the packages got installed; typically the `postinstall` scripts configured in the `scripts` field from the manifest.\n\nBuild scripts should be left to native dependencies, there is virtually no reason for pure JavaScript packages to use them. They have [significant side effects](/advanced/lifecycle-scripts#a-note-about-postinstall) on your user's projects, so weight carefully whether you really need them.\n\nSee also: [Lifecycle Scripts](/advanced/lifecycle-scripts)\n\n### Dependency\n\nA dependency (listed in the `dependencies` field of the manifest) describes a relationship between two packages.\n\nWhen a package A has a dependency B, Yarn guarantees that A will be able to access B if the install is successful. Note that this is the only promise we make regarding regular dependencies: in particular, there is no guarantee that package B will be the same version than the one used in other parts of the application.\n\nSee also: [Development Dependency](#development-dependency), [Peer Dependency](#peer-dependency)\n\n### Descriptor\n\nA descriptor is a combination of a package name (for example `lodash`) and a package \u003Cabbr>range\u003C/abbr> (for example `^1.0.0`). Descriptors are used to identify a set of packages rather than one unique package.\n\n### Development Dependency\n\nA dependency (listed in the `devDependencies` field of the manifest) describes a relationship between two packages.\n\nDevelopment dependencies are very much like regular dependencies except that they only matter for local packages. Packages fetched from remote registries such as npm will not be able to access their development dependencies, but packages installed from local sources (such as [workspaces](#workspaces) or the [`portal:` protocol](#portals)) will.\n\nSee also: [Dependency](#dependency), [Peer Dependency](#peer-dependency)\n\n### Fetcher\n\nFetchers are the components tasked with extracting the full package data from a \u003Cabbr>reference\u003C/abbr>. For example, the npm fetcher would download the package tarballs from the npm registry.\n\nSee also: [Architecture](/advanced/architecture), [Fetcher interface](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Fetcher.ts#L34)\n\n### Hoisting\n\nHoisting is the act of transforming the dependency tree to optimize it by removing as many nodes as possible. There isn't a single way to decide how to transform the tree, and different package managers make different tradeoffs (some optimize for package popularity, package size, highest versions, ...). For this reason, no guarantee can be made regarding the final hoisting layout - except that packages will always be able to access the dependencies they listed in their [manifests](#Manifest).\n\nBecause the hoisting is heavily connected to the filesystem and the Node resolution, its very design makes it easy to make an error and accidentally access packages without them being properly defined as dependencies - and thus without being accounted for during the hoisting process, making their very existence unpredictable. For this reason and others, hoisting got sidelined starting from Yarn 2 in favour of the [Plug'n'Play resolution](#plugnplay).\n\n### Linker\n\nLinkers are the components that consume both a dependency tree and a store of package data, and generate in return disk artifacts specific to the environment they target. For example, the \u003Cabbr>Plug'n'Play\u003C/abbr> linker generates a single `.pnp.cjs` file.\n\nSee also: [Architecture](/advanced/architecture), [Installer interface](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Installer.ts#L18), [Linker interface](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Linker.ts#L28)\n\n### Local Cache\n\nThe local cache, or offline mirror, is a way to protect your project against the package registry going down.\n\nWhen the local cache is enabled, Yarn generates a copy of all packages you install in the `.yarn/cache` folder that you can then add to your repository. Subsequent installs will then reuse packages from this folder rather than downloading them anew.\n\nWhile not always practical (it causes the repository size to grow, although we have ways to mitigate it significantly), it presents various interesting properties:\n\n- It doesn't require additional infrastructure, such as a [Verdaccio proxy](https://verdaccio.org/)\n- It doesn't require additional configuration, such as registry authentication\n- The install fetch step is as fast as it can be, with no data transfer at all\n- It lets you reach [zero-installs](/features/caching#zero-installs) if you also use the PnP linker\n\nTo enable the local cache, set `enableGlobalCache` to `false`, run an install, and add the new artifacts to your repository (you might want to [update your gitignore](/getting-started/qa#which-files-should-be-gitignored) accordingly).\n\n### Locator\n\nA locator is a combination of a package name (for example `lodash`) and a package \u003Cabbr>reference\u003C/abbr> (for example `1.2.3`). Locators are used to identify a single unique package (interestingly, all valid locators also are valid \u003Cabbr>descriptors\u003C/abbr>).\n\n### Manifest\n\nThe manifest is the file defining the metadata associated to a package (its name, version, dependencies...). In the JavaScript ecosystem, it's the `package.json` file.\n\n### Monorepo\n\nA monorepo is a repository that contains multiple packages. [Babel](https://github.com/babel/babel/tree/master/packages), [Jest](https://github.com/facebook/jest/tree/master/packages), and even [Yarn itself](https://github.com/yarnpkg/yarn/tree/master/packages) are examples of such repositories - they each contain dozen of small packages that depend on one another.\n\nYarn provides native support for monorepos via \"workspaces\". It makes it easy to install the dependencies of multiple local packages by running a single install, and to connect them all together so that they don't have to be published before their changes can be reused by other parts of your project.\n\nSee also: [Workspaces (feature)](/features/workspaces), [Workspace (lexicon)](#workspace).\n\n### Package\n\nPackages are nodes of the dependency tree. Simply put, a package is a bundle of source code usually characterized by a `package.json` at its root. Packages can define \u003Cabbr>dependencies\u003C/abbr>, which are other packages that need to be made available for it to work properly.\n\n### Peer Dependency\n\nA dependency (listed in the `peerDependencies` field of the manifest) describes a relationship between two packages.\n\nContrary to regular dependencies, a package A with a peer dependency on B doesn't guarantee that A will be able to access B - it's up to the package that depends on A to manually provide a version of B compatible with request from A. This drawback has a good side too: the package instance of B that A will access is guaranteed to be the exact same one as the one used by the ancestor of A. This matters a lot when B uses `instanceof` checks or singletons.\n\nSee also: [Development Dependency](#development-dependency), [Singleton Package](#singleton-package)\n\n### Peer-Dependent Package\n\nA peer-dependent package is a package that lists peer dependencies.\n\nSee also: [Virtual Packages](#virtual-package)\n\n### Plugin\n\nPlugins are a new concept introduced in Yarn 2+. Through the use of plugins, Yarn can be extended and made even more powerful - whether it's through the addition of new \u003Cabbr>resolvers\u003C/abbr>, \u003Cabbr>fetchers\u003C/abbr>, or \u003Cabbr>linkers\u003C/abbr>.\n\nSee also: [Plugins](/features/extensibility), [Plugin interface](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Plugin.ts#L67)\n\n### Plug'n'Play\n\nPlug'n'Play is an alternative installation strategy that, instead of generating the typical `node_modules` directories, generate one single file that is then injected into Node to let it know where to find the installed packages. Starting from the v2, Plug'n'Play becomes the default installation strategy for Javascript projects.\n\nSee also: [Plug'n'Play](/features/pnp)\n\n### PnP\n\nSee [Plug'n'Play](#plugnplay)\n\n### Portal\n\nA portal is a dependency that uses the `portal:` protocol, pointing to a package located on the disk.\n\nContrary to the `link:` protocol (which can point to any location but cannot have dependencies), Yarn will setup its dependency map in such a way that not only will the dependent package be able to access the file referenced through the portal, but the portal itself will also be able to access its own dependencies. Even peer dependencies!\n\n### Project\n\nThe term project is used to encompass all the \u003Cabbr>worktrees\u003C/abbr> that belong to the same dependency tree.\n\nSee also: [Workspaces](/features/workspaces)\n\n### Range\n\nA range is a string that, when combined with a package name, can be used to select multiple versions of a single package. Ranges typically follow \u003Cabbr>semver\u003C/abbr>, but can use any of the supported Yarn protocols.\n\nSee also: [Protocols](/protocols)\n\n### Reference\n\nA reference is a string that, when combined with a package name, can be used to select one single version of a single package. References typically follow \u003Cabbr>semver\u003C/abbr>, but can use any of the supported Yarn protocols.\n\nSee also: [Protocols](/protocols)\n\n### Resolver\n\nResolvers are the components tasked from converting \u003Cabbr>descriptors\u003C/abbr> into \u003Cabbr>locators\u003C/abbr>, and extracting the package \u003Cabbr>manifests\u003C/abbr> from the package \u003Cabbr>locators\u003C/abbr>. For example, the npm resolver would check what versions are available on the npm registry and return all the candidates that satisfy the \u003Cabbr>semver\u003C/abbr> requirements, then would query the npm registry to fetch the full metadata associated with the selected resolution.\n\nSee also: [Architecture](/advanced/architecture), [Resolver interface](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Resolver.ts#L45)\n\n### Scope\n\nScopes are a term linked inherited from the npm registry; they are used to describe a set of packages that all belong to the same entity. For example, all the Yarn packages related to the v2 belong to the `berry` scope on the npm registry. Scopes are traditionally prefixed with the `@` symbol.\n\n### Singleton Package\n\nA singleton package is a package which is instantiated a single time across the dependency tree.\n\nWhile singleton packages aren't a first-class citizen, they can be easily created using [peer dependencies](#peer-dependency) by using one of their properties: since packages depended upon by peer dependencies are guaranteed to be the exact same instance as the one used by their direct ancestor, using peer dependencies across the entire dependency branch all the way up to the nearest workspace will ensure that a single instance of the package is ever created - making it a de-facto singleton package.\n\nSee also: [Peer Dependency](#peer-dependency)\n\n### Transitive Dependency\n\nA transitive dependency is a dependency of a package you depend on.\n\nImagine the case of `react`. Your application depends on it (you listed it yourself in your manifest), so it's a direct dependency. But `react` also depends on `prop-types`! That makes `prop-types` a transitive dependency, in that you don't directly declare it.\n\n### Unplugged Package\n\nWith Yarn PnP, most packages are kept within their zip archives rather than being unpacked on the disk. The archives are then mounted on the filesystem at runtime, and transparently accessed. The mounts are read-only so that the archives don't get corrupted if something tries to write into them.\n\nIn some cases, however, keeping the package read-only may be difficult (such as when a package lists postinstall scripts - the build steps will often need to generate build artifacts, making read-only folders impractical). For those situations, Yarn can unpack specific packages and keep them into their own individual folders. Such packages are referred to as \"unplugged\".\n\nPackages are unplugged in a few scenarios:\n\n- explicitly by setting the `dependenciesMeta[].unplugged` field to `true`\n- explicitly when the package set its `preferUnplugged` field to `true`\n- implicitly when the package lists postinstall scripts\n- implicitly when the package contains native files\n\n### Virtual Package\n\nBecause [peer-dependent packages](#peer-dependent-package) effectively define an _horizon_ of possible dependency sets rather than a single static set of dependencies, a peer-dependent package may have multiple dependency sets. When this happens, the package will need to be instantiated at least once for each such set.\n\nSince in Node-land the JS modules are instantiated based on their path (a file is never instantiated twice for any given path), and since PnP makes it so that packages are installed only once in any given project, the only way to instantiate those packages multiple times is to give them multiple paths while still referencing to the same on-disk location. That's where virtual packages come handy.\n\nVirtual packages are specialized instances of the peer-dependent packages that encode the set of dependencies that this particular instance should use. Each virtual package is given a unique filesystem path that ensures that the scripts it references will be instantiated with their proper dependency set.\n\nIn the past virtual packages were implemented using symlinks, but this recently changed and they are now implemented through a virtual filesystem layer. This circumvents the need to create hundreds of confusing symlinks, improving compatibility with Windows and preventing issues that would arise with third-party tools calling `realpath`.\n\n### Workspace\n\nGenerally speaking workspaces are a Yarn features used to work on multiple projects stored within the same repository.\n\nIn the context of Yarn's vocabulary, workspaces are local \u003Cabbr>packages\u003C/abbr> that directly belong to a \u003Cabbr>project\u003C/abbr>.\n\nSee also: [Workspaces](/features/workspaces)\n\n### Worktree\n\nA worktree is a private workspace that adds new child workspaces to the current \u003Cabbr>project\u003C/abbr>.\n\nSee also: [Workspaces](/features/workspaces)\n\n### Yarn\n\nYarn is a command line tool used to manage programming environments. Written in Javascript, it is mostly used along with other Javascript projects but has capabilities that make it suitable to be used in various situations.\n\n### Zero-Install\n\nSee also: [Zero-Install](/features/caching#zero-installs)","src/content/docs/advanced/general-reference/lexicon.mdx","baaccc7b404d31bd","advanced/lifecycle-scripts",{"id":338,"data":340,"body":346,"filePath":347,"digest":348,"deferredRender":22},{"title":341,"description":342,"editUrl":22,"head":343,"template":189,"sidebar":344,"pagefind":22,"draft":100},"Lifecycle Scripts","An overview of Yarn's supported lifecycle scripts.",[],{"hidden":100,"attrs":345},{},"Packages can define in the `scripts` field of their manifest various actions that should be executed when the package manager executes a particular workflow.\n\n:::note\nNote that we don't support every single lifecycle script originally present in npm. This is a deliberate decision based on the observation that too many lifecycle scripts make it difficult to know which one to use in which circumstances, leading to confusion and mistakes. We are open to add the missing ones on a case-by-case basis if compelling use cases are provided.\n\nIn particular, we intentionally don't support arbitrary `pre` and `post` hooks for user-defined scripts (such as `prestart`). This behavior caused scripts to be implicit rather than explicit, obfuscating the execution flow. It also sometimes led to surprising behaviors, like `yarn serve` also running `yarn preserve`.\n:::\n\n## `prepack` and `postpack`\n\nThose script are called right at the beginning and the end of each call to `yarn pack`. They are respectively meant to turn your package from development into production, and cleanup any lingering artifact. For instance, a typical `prepack` script would call Babel or TypeScript on the source directory to turn `.ts` files into `.js` files.\n\n:::note\nAlthough rarely called directly, `yarn pack` is a crucial part of Yarn. Each time Yarn has to fetch a dependency from a \"raw\" source (such as a Git repository), it will automatically run `yarn install` and `yarn pack` to generate the package to use.\n:::\n\n## `prepublish`\n\nThis script is called before `yarn npm publish` before the package has even been packed. This is the place where you'll want to check that the project is in an ok state.\n\n:::caution\nBecause it's only called on prepublish, **the prepublish hook shouldn't have side effects.** In particular don't transpile the package sources in `prepublish`, as people consuming directly your repository (such as through the [`git:` protocol](/protocol/git)) wouldn't be able to use your project. Instead, use `prepack`.\n:::\n\n## `postinstall`\n\nThis script is called after the package dependency tree changed in any way -- usually after a dependency (or transitive dependency) got added, removed, or updated, but also sometimes when the project configuration or environment changed (for example when changing the Node.js version).\n\nIt is guaranteed to be called in topological order (in other words, your dependencies' `postinstall` scripts will always run before yours).\n\nFor backwards compatibility, the `preinstall` and `install` scripts, if presents, are called right before running the `postinstall` script from the same package. In general, prefer using `postinstall` over those two.\n\n:::caution\nPostinstall scripts should be avoided at all cost, as they make installs slower and riskier. Many users will refuse to install dependencies that have `postinstall` scripts. Additionally, since the output isn't shown out of the box, using them to print a message to the user will not work as you expect.\n:::\n\n## Environment variables\n\nWhen running scripts and binaries, some environment variables are usually made available:\n\n| Variable                 | Description                                                                                                                                      |\n| ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------ |\n| `$INIT_CWD`              | Directory from which the script has been invoked. This isn't the same as the cwd, which for scripts is always equal to the closest package root. |\n| `$PROJECT_CWD`           | Root of the project on the filesystem.                                                                                                           |\n| `$npm_package_name`      | Name of the running package.                                                                                                                     |\n| `$npm_package_version`   | Version of the running package.                                                                                                                  |\n| `$npm_package_json`      | Absolute path to the `package.json` of the running package.                                                                                      |\n| `$npm_execpath`          | Absolute path to the Yarn binary.                                                                                                                |\n| `$npm_node_execpath`     | Absolute path to the Node binary.                                                                                                                |\n| `$npm_config_user_agent` | String defining the Yarn version currently in use.                                                                                               |\n| `$npm_lifecycle_event`   | Name of the script or lifecycle event, if relevant.                                                                                              |","src/content/docs/advanced/package-management/lifecycle-scripts.mdx","21029addbc819ef6","advanced/rulebook",{"id":349,"data":351,"body":357,"filePath":358,"digest":359,"deferredRender":22},{"title":352,"description":353,"editUrl":22,"head":354,"template":189,"sidebar":355,"pagefind":22,"draft":100},"Rulebook","An in-depth rulebook of best-practices and recommendations regarding dependencies.",[],{"hidden":100,"attrs":356},{},"Writing portable packages is incredibly important, as it ensures that your users will benefit from an optimal experience regardless of their package manager.\n\nTo help with that, this page details the up-to-date collection of good practices you should follow in order to make your package work seamlessly on all three main package managers (Yarn, pnpm, and npm), and explanations if you want to learn more.\n\n## Packages should only ever require what they formally list in their dependencies\n\n**Why?** Because otherwise your package will be susceptible to unpredictable [hoisting](/advanced/lexicon#hoisting) that will lead some of your consumers to experience pseudo-random crashes, depending on the other packages they will happen to use.\n\nImagine that Alice uses Babel. Babel depends on an utility package which itself depends on an old version of Lodash. Since the utility package already depends on Lodash, Bob, the Babel maintainer, decided to use Lodash without formally declaring it in Babel itself.\n\n![](/2020-08-28-23-21-52.png)\n\nBecause of the hoisting, Lodash will be put at the top, the tree becoming something like this:\n\n![](/2020-08-29-16-38-30.png)\n\nSo far, everything is nice: the utility package can still require Lodash, but we no longer need to create sub-directories within Babel. Now, imagine that Alice also adds Gatsby to the mix, which we'll pretend also depends on Lodash, but this time on a modern release; the tree will look like this:\n\n![](/2020-08-29-16-34-13.png)\n\nThe hoisting becomes more interesting - since Babel doesn't formally declare the dependency, two different hoisting layouts can happen. The first one is pretty much identical to what we already had before, with the exception that we now have two copies of Lodash, with only a single one hoisted to the stop so we don't cause a conflict:\n\n![](/2020-08-29-16-43-25.png)\n\nBut a second layout is just as likely! And that's when things become trickier:\n\n![](/2020-08-29-16-46-00.png)\n\nFirst, let's check that this layout is valid: Gatsby still gets its Lodash 4 dependency, the Babel utility package still gets Lodash 1, and Babel itself still gets the utility package, just like before. But something else changed! Babel will no longer access Lodash 1! It'll instead retrieve the Lodash 4 copy that Gatsby provided, likely incompatible with whatever Babel originally expected. In the best case the application will crash, in the worst case it'll silently pass and generate incorrect results.\n\nIf Babel had instead defined Lodash 1 as its own dependency, the package manager would have been able to encode this constraint and ensure that the requirement would have been met regardless of the hoisting.\n\n**Solution:** In most cases (when the missing dependency is a utility package), the fix is really just to add the missing entry to the [`dependencies` field](/configuration/manifest#dependencies). While often enough, a few more complex cases sometimes arise:\n\n- If your package is a plugin (for example `babel-plugin-transform-commonjs`) and the missing dependency is the core (for example `babel-core`), you would need to instead register the dependency inside the [`peerDependencies` field](/configuration/manifest#peerDependencies).\n\n- If your package is something that automatically loads plugins (for example `eslint`), peer dependencies obviously aren't an option as you can't reasonably list all plugins. Instead, you should use the [`createRequire` function](https://nodejs.org/api/module.html#module_module_createrequire_filename) (or its [polyfill](https://github.com/nuxt-contrib/create-require)) to load plugins _on behalf of_ the configuration file that lists the plugins to load - be it the package.json or a custom one like the `.eslintrc.js` file.\n\n- If your package only requires the dependency in specific cases that the user control (for example `mikro-orm` which only depends on `sqlite3` if the consumer actually uses a SQLite3 database), use the [`peerDependenciesMeta` field](/configuration/manifest#peerDependenciesMeta.optional) to declare the peer dependency as optional and silence any warning when unmet.\n\n- If your package is a meta-package of utilities (for example Next.js, which itself depends on Webpack so that its consumers don't have to do it), the situation is a bit complicated and you have two different options:\n\n  - The preferred one is to list the dependency (in Next.js's case, `webpack`) as _both a regular dependency and a peer dependency_. Yarn will interpret this pattern as \"peer dependency with a default\", meaning that your users will be able to take ownership of the Webpack package if they need to, while still giving the package manager the ability to emit a warning if the provided version is incompatible with the one your package expects.\n\n  - An alternative is to instead re-export the dependency as part of your public API. For example, Next could expose a `next/webpack` file that would only contain `module.exports = require('webpack')`, and consumers would require that instead of the typical `webpack` module. This isn't the recommended approach, however, because it wouldn't play well with plugins that expect Webpack to be a peer dependency (they wouldn't know that they need to use this `next/webpack` module instead).\n\n## Modules shouldn't hardcode `node_modules` paths to access other modules\n\n**Why?** The hoisting makes it impossible to be sure that the layout of the `node_modules` folder will always be the same. In fact, depending on the exact install strategy, the `node_modules` folders may not even exist.\n\n**Solution:** If you need to access one of your dependencies' files through the `fs` API (for example to read a dependency's `package.json`), just use `require.resolve` to obtain the path without having to make assumptions about the dependency location:\n\n```ts\nconst fs = require(`fs`);\nconst data = fs.readFileSync(require.resolve(`my-dep/package.json`));\n```\n\nIf you need to access one of your dependencies' dependency (we really don't recommend that, but in some fringe cases it may happen), instead of hardcoding the `node_modules` path, use the [`createRequire`](https://nodejs.org/api/module.html#module_module_createrequire_filename) function:\n\n```ts\nconst { createRequire } = require(`module`);\nconst firstDepReq = createRequire(require.resolve(`my-dep/package.json`));\nconst secondDep = firstDepReq(`transitive-dep`);\n```\n\nNote that while `createRequire` is Node 12+, a polyfill exists under the name [`create-require`](https://github.com/nuxt-contrib/create-require).\n\n## User scripts shouldn't hardcode the `node_modules/.bin` folder\n\n**Why?** The `.bin` folder is an implementation detail, and may not exist at all depending on the install strategy.\n\n**Solution:** If you're writing a [script](/configuration/manifest#scripts), you can just refer to the binary by its name! So instead of `node_modules/.bin/jest -w`, prefer just writing `jest -w` which will work just fine. If for some reason `jest` isn't available, check that the current package properly [defines it as a dependency](#a-package-should-only-require-what-it-lists-in-its-dependencies).\n\nSometimes you may find yourself having slightly more complex needs, for example if you wish to spawn a script with specific Node flags. Depending on the context we recommend passing options via the [`NODE_OPTIONS` environment variable](https://nodejs.org/api/cli.html#cli_node_options_options) rather than the CLI, but if that's not an option you can use `yarn bin name` to get the specified binary path:\n\n```\nyarn node --inspect $(yarn bin jest)\n```\n\nNote that, in this particular case, `yarn run` also supports the `--inspect` flag so you could just write:\n\n```\nyarn run --inspect jest\n```\n\n## Published packages should avoid using `npm run` in their scripts\n\n**Why?** This is a tricky one ... basically, it boils down to: package managers are not interchangeable. Using one package manager on a project installed by another is a recipe for troubles, as they follow different configuration settings and rules. For example, Yarn offers a hook system that allows its users to track which scripts are executed and how much time they take. Because `npm run` wouldn't know how to call these hooks, they would get ignore, leading to frustrating experiences for your consumers.\n\n**Solution:** While not the most esthetically pleasing option, the most portable one at the moment is to simply replace `npm run name` (or `yarn run name`) in your postinstall scripts and derived by the following:\n\n```\n$npm_execpath run \u003Cname>\n```\n\nThe `$npm_execpath` environment variable will get replaced by the right binary depending on the package manager your consumers will use. Yarn also supports just calling `run \u003Cname>` without any mention of the package manager, but to this date no other package manager does.\n\n## Packages should never write inside their own folder outside of postinstall\n\n**Why?** Depending on the install strategy, packages may be kept in read-only data stores where write accesses will be rejected. This is particularly true when using \"system-global\" stores, where modifying the sources for one package would risk corrupting all the projects depending on it from the same machine.\n\n**Solution:** Just write in another directory rather than your own package. Anything would work, but a very common idiom is to use the `node_modules/.cache` folder in order to store cache data - that's for example what Babel, Webpack, and more do.\n\nIf you absolutely need to write into your package's source folder (but really, we never came across this use case before), you still have the option to use [`preferUnplugged`](/configuration/manifest#preferUnplugged) to instruct Yarn to disable optimizations on your package and store it inside its own project-local copy, where you'll be able to mutate it at will.\n\n## Packages should use the `prepack` script to generate dist files before publishing\n\n**Why?** The original npm supported [many different scripts](https://docs.npmjs.com/misc/scripts). So much, in fact, that it became very difficult to know which script one would want to use in which context. In particular, the very subtle differences between the `prepack`, `prepare`, `prepublish`, and `prepublish-only` scripts led many to use the wrong script in the wrong context. For this reason, Yarn 2 deprecated most of the scripts and consolidated them around a restricted set of portable scripts.\n\n**Solution:** Always use the `prepack` script if you wish to generate dist artifacts before publishing your package. It will get called before calling `yarn pack` (which itself is called before calling `yarn npm publish`), when cloning your git repository as a git dependency, and any time you will run `yarn prepack`. As for `prepublish`, never use it with side effects - its only use should be to run tests before the publish step.","src/content/docs/advanced/package-management/rulebook.mdx","88b65cbb910f660e","advanced/pnpapi",{"id":360,"data":362,"body":368,"filePath":369,"digest":370,"deferredRender":22},{"title":363,"description":364,"editUrl":22,"head":365,"template":189,"sidebar":366,"pagefind":22,"draft":100},"PnP API","In-depth documentation of the PnP API.",[],{"order":130,"hidden":100,"attrs":367},{},"## Overview\n\nEvery script running within a Plug'n'Play runtime environment has access to a special builtin module (`pnpapi`) that allows you to introspect the dependency tree at runtime.\n\n## Data Structures\n\n### `PackageLocator`\n\n```ts\nexport type PackageLocator = {\n  name: string;\n  reference: string;\n};\n```\n\nA package locator is an object describing one unique instance of a package in the dependency tree. The `name` field is guaranteed to be the name of the package itself, but the `reference` field should be considered an opaque string whose value may be whatever the PnP implementation decides to put there.\n\nNote that one package locator is different from the others: the top-level locator (available through `pnp.topLevel`, cf below) sets _both_ `name` and `reference` to `null`. This special locator will always mirror the top-level package (which is generally the root of the repository, even when working with workspaces).\n\n### `PackageInformation`\n\n```ts\nexport type PackageInformation = {\n  packageLocation: string;\n  packageDependencies: Map\u003Cstring, null | string | [string, string]>;\n  packagePeers: Set\u003Cstring>;\n  linkType: \"HARD\" | \"SOFT\";\n};\n```\n\nThe package information set describes the location where the package can be found on the disk, and the exact set of dependencies it is allowed to require. The `packageDependencies` values are meant to be interpreted as such:\n\n- If a string, the value is meant to be used as a reference in a locator whose name is the dependency name.\n\n- If a `[string, string]` tuple, the value is meant to be used as a locator whose name is the first element of the tuple and reference is the second one. This typically occurs with package aliases (such as `\"foo\": \"npm:bar@1.2.3\"`).\n\n- If `null`, the specified dependency isn't available at all. This typically occurs when a package's peer dependency didn't get provided by its direct parent in the dependency tree.\n\nThe `packagePeers` field, if present, indicates which dependencies have an enforced contract on using the exact same instance as the package that depends on them. This field is rarely useful in pure PnP context (because our instantiation guarantees are stricter and more predictable than this), but is required to properly generate a `node_modules` directory from a PnP map.\n\nThe `linkType` field is only useful in specific cases - it describes whether the producer of the PnP API was asked to make the package available through a hard linkage (in which case all the `packageLocation` field is reputed being owned by the linker) or a soft linkage (in which case the `packageLocation` field represents a location outside of the sphere of influence of the linker).\n\n## Runtime Constants\n\n### `process.versions.pnp`\n\nWhen operating under PnP environments, this value will be set to a number indicating the version of the PnP standard in use (which is strictly identical to `require('pnpapi').VERSIONS.std`).\n\nThis value is a convenient way to check whether you're operating under a Plug'n'Play environment (where you can `require('pnpapi')`) or not:\n\n```js\nif (process.versions.pnp) {\n  // do something with the PnP API ...\n} else {\n  // fallback\n}\n```\n\n### `require('module')`\n\nThe `module` builtin module is extended when operating within the PnP API with one extra function:\n\n```ts\nexport function findPnpApi(lookupSource: URL | string): PnpApi | null;\n```\n\nWhen called, this function will traverse the filesystem hierarchy starting from the given `lookupSource` in order to locate the closest `.pnp.cjs` file. It'll then load this file, register it inside the PnP loader internal store, and return the resulting API to you.\n\nNote that while you'll be able to resolve the dependencies by using the API returned to you, you'll need to make sure they are properly _loaded_ on behalf of the project too, by using `createRequire`:\n\n```ts\nconst { createRequire, findPnpApi } = require(`module`);\n\n// We'll be able to inspect the dependencies of the module passed as first argument\nconst targetModule = process.argv[2];\n\nconst targetPnp = findPnpApi(targetModule);\nconst targetRequire = createRequire(targetModule);\n\nconst resolved = targetPnp.resolveRequest(`eslint`, targetModule);\nconst instance = targetRequire(resolved); // \u003C-- important! don't use `require`!\n```\n\nFinally, it can be noted that `findPnpApi` isn't actually needed in most cases and we can do the same with just `createRequire` thanks to its `resolve` function:\n\n```ts\nconst { createRequire } = require(`module`);\n\n// We'll be able to inspect the dependencies of the module passed as first argument\nconst targetModule = process.argv[2];\n\nconst targetRequire = createRequire(targetModule);\n\nconst resolved = targetRequire.resolve(`eslint`);\nconst instance = targetRequire(resolved); // \u003C-- still important\n```\n\n### `require('pnpapi')`\n\nWhen operating under a Plug'n'Play environment, a new builtin module will appear in your tree and will be made available to all your packages (regardless of whether they define it in their dependencies or not): `pnpapi`. It exposes the constants a function described in the rest of this document.\n\nNote that we've reserved the `pnpapi` package name on the npm registry, so there's no risk that anyone will be able to snatch the name for nefarious purposes. We might use it later to provide a polyfill for non-PnP environments (so that you'd be able to use the PnP API regardless of whether the project got installed via PnP or not), but as of now it's still an empty package.\n\nNote that the `pnpapi` builtin is _contextual_: while two packages from the same dependency tree are guaranteed to read the same one, two packages from different dependency trees will get different instances - each reflecting the dependency tree they belong to. This distinction doesn't often matter except sometimes for project generator (which typically run within their own dependency tree while also manipulating the project they're generating).\n\n## API Interface\n\n### `VERSIONS`\n\n```ts\nexport const VERSIONS: { std: number; [key: string]: number };\n```\n\nThe `VERSIONS` object contains a set of numbers that detail which version of the API is currently exposed. The only version that is guaranteed to be there is `std`, which will refer to the version of this document. Other keys are meant to be used to describe extensions provided by third-party implementors. Versions will only be bumped when the signatures of the public API change.\n\n:::note\nThe current version is 3. We bump it responsibly and strive to make each version backward-compatible with the previous ones, but as you can probably guess some features are only available with the latest versions.\n:::\n\n### `topLevel`\n\n```ts\nexport const topLevel: { name: null; reference: null };\n```\n\nThe `topLevel` object is a simple package locator pointing to the top-level package of the dependency tree. Note that even when using workspaces you'll still only have one single top-level for the entire project.\n\nThis object is provided for convenience and doesn't necessarily needs to be used; you may create your own top-level locator by using your own locator literal with both fields set to `null`.\n\n:::note\nThese special top-level locators are merely aliases to physical locators, which can be accessed by calling `findPackageLocator`.\n:::\n\n### `getLocator(...)`\n\n```ts\nexport function getLocator(\n  name: string,\n  referencish: string | [string, string]\n): PackageLocator;\n```\n\nThis function is a small helper that makes it easier to work with \"referencish\" ranges. As you may have seen in the `PackageInformation` interface, the `packageDependencies` map values may be either a string or a tuple - and the way to compute the resolved locator changes depending on that. To avoid having to manually make a `Array.isArray` check, we provide the `getLocator` function that does it for you.\n\nJust like for `topLevel`, you're under no obligation to actually use it - you're free to roll your own version if for some reason our implementation wasn't what you're looking for.\n\n### `getDependencyTreeRoots(...)`\n\n```ts\nexport function getDependencyTreeRoots(): PackageLocator[];\n```\n\nThe `getDependencyTreeRoots` function will return the set of locators that constitute the roots of individual dependency trees. In Yarn, there is exactly one such locator for each workspace in the project.\n\n:::note\nThis function will always return the physical locators, so it'll never return the special top-level locator described in the `topLevel` section.\n:::\n\n### `getAllLocators(...)`\n\n```ts\nexport function getAllLocators(): PackageLocator[];\n```\n\n:::danger\nThis function is not part of the Plug'n'Play specification and only available as a Yarn extension. In order to use it, you first must check that the [`VERSIONS`](/advanced/pnpapi#versions) dictionary contains a valid `getAllLocators` property.\n:::\n\nThe `getAllLocators` function will return all locators from the dependency tree, in no particular order (although it'll always be a consistent order between calls for the same API). It can be used when you wish to know more about the packages themselves, but not about the exact tree layout.\n\n### `getPackageInformation(...)`\n\n```ts\nexport function getPackageInformation(\n  locator: PackageLocator\n): PackageInformation;\n```\n\nThe `getPackageInformation` function returns all the information stored inside the PnP API for a given package.\n\n### `findPackageLocator(...)`\n\n```ts\nexport function findPackageLocator(location: string): PackageLocator | null;\n```\n\nGiven a location on the disk, the `findPackageLocator` function will return the package locator for the package that \"owns\" the path. For example, running this function on something conceptually similar to `/path/to/node_modules/foo/index.js` would return a package locator pointing to the `foo` package (and its exact version).\n\n:::note\nThis function will always return the physical locators, so it'll never return the special top-level locator described in the `topLevel` section. You can leverage this property to extract the physical locator for the top-level package:\n:::\n\n```ts\nconst virtualLocator = pnpApi.topLevel;\nconst physicalLocator = pnpApi.findPackageLocator(\n  pnpApi.getPackageInformation(virtualLocator).packageLocation\n);\n```\n\n### `resolveToUnqualified(...)`\n\n```ts\nexport function resolveToUnqualified(\n  request: string,\n  issuer: string | null,\n  opts?: { considerBuiltins?: boolean }\n): string | null;\n```\n\nThe `resolveToUnqualified` function is maybe the most important function exposed by the PnP API. Given a request (which may be a bare specifier like `lodash`, or an relative/absolute path like `./foo.js`) and the path of the file that issued the request, the PnP API will return an unqualified resolution.\n\nFor example, the following:\n\n```\nlodash/uniq\n```\n\nMight very well be resolved into:\n\n```\n/my/cache/lodash/1.0.0/node_modules/lodash/uniq\n```\n\nAs you can see, the `.js` extension didn't get added. This is due to the difference between [qualified and unqualified resolutions](#qualified-vs-unqualified-resolutions). In case you must obtain a path ready to be used with the filesystem API, prefer using `resolveRequest` instead.\n\nNote that in some cases you may just have a folder to work with as `issuer` parameter. When this happens, just suffix the issuer with an extra slash (`/`) to indicate to the PnP API that the issuer is a folder.\n\nThis function will return `null` if the request is a builtin module, unless `considerBuiltins` is set to `false`.\n\n### `resolveUnqualified(...)`\n\n```ts\nexport function resolveUnqualified(\n  unqualified: string,\n  opts?: { extensions?: string[] }\n): string;\n```\n\nThe `resolveUnqualified` function is mostly provided as an helper; it reimplements the Node resolution for file extensions and folder indexes, but not the regular `node_modules` traversal. It makes it slightly easier to integrate PnP into some projects, although it isn't required in any way if you already have something that fits the bill.\n\nTo give you an example `resolveUnqualified` isn't needed with `enhanced-resolved`, used by Webpack, because it already implements its own way the logic contained in `resolveUnqualified` (and more). Instead, we only have to leverage the lower-level `resolveToUnqualified` function and feed it to the regular resolver.\n\nFor example, the following:\n\n```\n/my/cache/lodash/1.0.0/node_modules/lodash/uniq\n```\n\nMight very well be resolved into:\n\n```\n/my/cache/lodash/1.0.0/node_modules/lodash/uniq/index.js\n```\n\n### `resolveRequest(...)`\n\n```ts\nexport function resolveRequest(request: string, issuer: string | null, opts?: {considerBuiltins?: boolean, extensions?: string[]]}): string | null;\n```\n\nThe `resolveRequest` function is a wrapper around both `resolveToUnqualified` and `resolveUnqualified`. In essence, it's a bit like calling `resolveUnqualified(resolveToUnqualified(...))`, but shorter.\n\nJust like `resolveUnqualified`, `resolveRequest` is entirely optional and you might want to skip it to directly use the lower-level `resolveToUnqualified` if you already have a resolution pipeline that just needs to add support for Plug'n'Play.\n\nFor example, the following:\n\n```\nlodash\n```\n\nMight very well be resolved into:\n\n```\n/my/cache/lodash/1.0.0/node_modules/lodash/uniq/index.js\n```\n\nThis function will return `null` if the request is a builtin module, unless `considerBuiltins` is set to `false`.\n\n### `resolveVirtual(...)`\n\n```ts\nexport function resolveVirtual(path: string): string | null;\n```\n\n:::danger\nThis function is not part of the Plug'n'Play specification and only available as a Yarn extension. In order to use it, you first must check that the [`VERSIONS`](/advanced/pnpapi#versions) dictionary contains a valid `resolveVirtual` property.\n:::\n\nThe `resolveVirtual` function will accept any path as parameter and return the same path minus any [virtual component](/advanced/lexicon#virtual-package). This makes it easier to store the location to the files in a portable way as long as you don't care about losing the dependency tree information in the process (requiring files through those paths will prevent them from accessing their peer dependencies).\n\n## Qualified vs Unqualified Resolutions\n\nThis document detailed two types of resolutions: qualified and unqualified. Although similar, they present different characteristics that make them suitable in different settings.\n\nThe difference between qualified and unqualified resolutions lies in the quirks of the Node resolution itself. Unqualified resolutions can be statically computed without ever accessing the filesystem, but only can only resolve relative paths and bare specifiers (like `lodash`); they won't ever resolve the file extensions or folder indexes. By contrast, qualified resolutions are ready to be used to access the filesystem.\n\nUnqualified resolutions are the core of the Plug'n'Play API; they represent data that cannot be obtained any other way. If you're looking to integrate Plug'n'Play inside your resolver, they're likely what you're looking for. On the other hand, fully qualified resolutions are handy if you're working with the PnP API as a one-off and just want to obtain some information on a given file or package.\n\nTwo great options for two different use cases \n\n## Accessing the files\n\nThe paths returned in the `PackageInformation` structures are in the native format (so Posix on Linux/OSX and Win32 on Windows), but they may reference files outside of the typical filesystem. This is particularly true for Yarn, which references packages directly from within their zip archives.\n\nTo access such files, you can use the `@yarnpkg/fslib` project which abstracts the filesystem under a multi-layer architecture. For example, the following code would make it possible to access any path, regardless of whether they're stored within a zip archive or not:\n\n```ts\nconst { PosixFS, ZipOpenFS } = require(`@yarnpkg/fslib`);\nconst libzip = require(`@yarnpkg/libzip`).getLibzipSync();\n\n// This will transparently open zip archives\nconst zipOpenFs = new ZipOpenFS({ libzip });\n\n// This will convert all paths into a Posix variant, required for cross-platform compatibility\nconst crossFs = new PosixFS(zipOpenFs);\n\nconsole.log(crossFs.readFileSync(`C:\\\\path\\\\to\\\\archive.zip\\\\package.json`));\n```\n\n## Traversing the dependency tree\n\nThe following function implements a tree traversal in order to print the list of locators from the tree.\n\n:::danger\nThis implementation iterates over **all** the nodes in the tree, even if they are found multiple times (which is very often the case). As a result the execution time is way higher than it could be. Optimize as needed \n:::\n\n```ts\nconst pnp = require(`pnpapi`);\nconst seen = new Set();\n\nconst getKey = (locator) => JSON.stringify(locator);\n\nconst isPeerDependency = (pkg, parentPkg, name) =>\n  getKey(pkg.packageDependencies.get(name)) ===\n  getKey(parentPkg.packageDependencies.get(name));\n\nconst traverseDependencyTree = (locator, parentPkg = null) => {\n  // Prevent infinite recursion when A depends on B which depends on A\n  const key = getKey(locator);\n  if (seen.has(key)) return;\n\n  const pkg = pnp.getPackageInformation(locator);\n  console.assert(pkg, `The package information should be available`);\n\n  seen.add(key);\n\n  console.group(locator.name);\n\n  for (const [name, referencish] of pkg.packageDependencies) {\n    // Unmet peer dependencies\n    if (referencish === null) continue;\n\n    // Avoid iterating on peer dependencies - very expensive\n    if (parentPkg !== null && isPeerDependency(pkg, parentPkg, name)) continue;\n\n    const childLocator = pnp.getLocator(name, referencish);\n    traverseDependencyTree(childLocator, pkg);\n  }\n\n  console.groupEnd(locator.name);\n\n  // Important: This `delete` here causes the traversal to go over nodes even\n  // if they have already been traversed in another branch. If you don't need\n  // that, remove this line for a hefty speed increase.\n  seen.delete(key);\n};\n\n// Iterate on each workspace\nfor (const locator of pnp.getDependencyTreeRoots()) {\n  traverseDependencyTree(locator);\n}\n```","src/content/docs/advanced/pnp/pnp-api.mdx","2141c29cf7d072de","advanced/error-codes",{"id":371,"data":373,"body":379,"filePath":380,"digest":381,"deferredRender":22},{"title":374,"description":375,"editUrl":22,"head":376,"template":189,"sidebar":377,"pagefind":22,"draft":100},"Error Codes","A list of Yarn's error codes with detailed explanations.",[],{"order":130,"hidden":100,"attrs":378},{},"{/* \u003C!-- Never remove the entries in this file, as we want to support older releases --> */}\n\n:::note\nAre you a plugin author and want to declare your own error codes that don't match the semantic of the ones provided here? Please relinquish one character and use the `YNX` prefix (ex `YNX001`) instead of `YN0`!\n\nKeeping this convention will help our users to figure out which error codes can be found on this documentation and which ones should instead be checked against the individual documentation of the plugins they use.\n:::\n\n## YN0000 - `UNNAMED`\n\nThis code is used to log regular messages, mostly to align all the lines in the Yarn output. No worry!\n\n## YN0001 - `EXCEPTION`\n\nAn exception had be thrown by the program.\n\nThis error typically should never happen (it should instead point to a different error message from this page so that it can be properly documented), so it should be considered a bug in Yarn. Feel free to open an issue or, even better, a pull request aiming to fix it.\n\n## YN0002 - `MISSING_PEER_DEPENDENCY`\n\nA package requests a peer dependency, but one or more of its parents in the dependency tree doesn't provide it.\n\nNote that Yarn enforces peer dependencies at every level of the dependency tree. That is, if `D>` is a dependency and `P>` is a peer dependency,\n\n```sh\n# bad\nproject\nD> packagePeer\nD> packageA\n     P> packageB\n          P> packagePeer\n\n# good\nproject\nD> packagePeer\nD> packageA\n     P> packagePeer\n     D> packageB\n          P> packagePeer\n```\n\nDepending on your situation, multiple options are possible:\n\n- The author of `packageA` can fix this problem by adding a peer dependency on `packagePeer`. If relevant, they can use [optional peer dependencies](https://yarnpkg.com/configuration/manifest#peerDependenciesMeta.optional) to this effect.\n\n- The author of `packageB` can fix this problem by marking the `packagePeer` peer dependency as optional - but only if the peer dependency is actually optional, of course!\n\n- The author of `project` can fix this problem by manually overriding the `packageA` and/or `packageB` definitions via the [`packageExtensions` config option](/configuration/yarnrc#packageExtensions).\n\nTo understand more about this issue, check out [this blog post](https://dev.to/arcanis/implicit-transitive-peer-dependencies-ed0).\n\n## YN0003 - `CYCLIC_DEPENDENCIES`\n\nTwo packages with build scripts have cyclic dependencies.\n\nCyclic dependencies are a can of worms. They happen when a package `A` depends on a package `B` and vice-versa Sometime can arise through a chain of multiple packages - for example when `A` depends on `B`, which depends on `C`, which depends on `A`.\n\nWhile cyclic dependencies may work fine in the general Javascript case (and in fact Yarn won't warn you about it in most cases), they can cause issues as soon as build scripts are involved. Indeed, in order to build a package, we first must make sure that its own dependencies have been properly built. How can we do that when two packages reference each other? Since the first one to build cannot be deduced, such patterns will cause the build scripts of every affected package to simply be ignored (and a warning emitted).\n\nThere's already good documentation online explaining how to get rid of cyclic dependencies, the simplest one being to extract the shared part of your program into a third package without dependencies. So the first case we described would become `A` depends on `C`, `B` depends on `C`, `C` doesn't depend on anything.\n\n## YN0004 - `DISABLED_BUILD_SCRIPTS`\n\nA package has build scripts, but they've been disabled across the project.\n\nBuild scripts can be disabled on a global basis through the use of the `enableScripts` settings. When it happens, a warning is still emitted to let you know that the installation might not be complete.\n\nThe safest way to downgrade the warning into a notification is to explicitly disable build scripts for the affected packages through the use of the `dependenciesMeta[].built` key.\n\n## YN0005 - `BUILD_DISABLED`\n\nA package has build scripts, but they've been disabled through its configuration.\n\nBuild scripts can be disabled on a per-project basis through the use of the `dependenciesMeta` settings from the `package.json` file. When it happens, a notification is still emitted to let you know that the installation might not be complete.\n\n## YN0006 - `SOFT_LINK_BUILD`\n\nA package has build scripts, but is linked through a soft link.\n\nFor Yarn, a hard link is when a package is owned by the package manager. In these instances Yarn will typically copy packages having build scripts into a project-local cache so that multiple projects with multiple dependency trees don't use the same build artifacts. So what's the problem with so-called \"soft links\"?\n\nSoft links are when the package manager doesn't own the package source. An example is a workspace, or a dependency referenced through the `portal:` specifier. In these instances Yarn cannot safely assume that executing build scripts there is the intended behavior, because it would likely involve mutating your project or, even worse, an external location on your disk that might be shared by multiple projects. Since Yarn avoids doing anything unsafe, it cannot run build scripts on soft links.\n\nThere are a few workarounds:\n\n- Using `file:` instead of `portal:` will cause a hard link to be used instead of a soft link. The other side of the coin will be that the packages will be copied into the cache as well, meaning that changing the package source will require you to run `YARN_UPDATE_FILE_CACHE=1 yarn install` for your changes to be taken into account.\n\n- You can manually run `yarn run postinstall` (or whatever is named your build script) from the directory of the affected packages. This requires you to know in which order they'll have to be called, but is generally the safest option.\n\n- You can simply abstain from using build scripts with soft links. While this suggestion might seem like a bad case of \"fix a problem by not encountering the problem\", consider that build scripts in development might not be of the best effect from a developer experience perspective - they usually mean that you'll need to run a script before being able to see your changes, which is often not what you seek.\n\n## YN0007 - `MUST_BUILD`\n\nA package must be built.\n\nThis informational message occurs when Yarn wishes to let you know that a package will need to be built for the installation to complete. This usually occurs in only two cases: either the package never has been built before, or its previous build failed (returned a non-zero exit code).\n\n## YN0008 - `MUST_REBUILD`\n\nA package must be rebuilt.\n\nThis information message occurs when Yarn wishes to let you know that a package will need to be rebuilt in order for the installation to complete. This usually occurs in a single case: when the package's dependency tree has changed. Note that this also includes its transitive dependencies, which sometimes may cause surprising rebuilds (for example, if `A` depends on `B` that depends on `C@1`, and if Yarn decides for some reason that `C` should be bumped to `C@2`, then `A` will need to be rebuilt).\n\n## YN0009 - `BUILD_FAILED`\n\nA package build failed.\n\nThis problem typically doesn't come from Yarn itself, and simply means that a package described as having build directives couldn't get built successfully.\n\nTo see the actual error message, read the file linked in the report. It will contain the full output of the failing script.\n\n## YN0010 - `RESOLVER_NOT_FOUND`\n\nA resolver cannot be found for the given package.\n\nResolvers are the components tasked from converting ranges (`^1.0.0`) into references (`1.2.3`). They each contain their own logic to do so - the semver resolver is the most famous one but far from being the only one. The GitHub resolver transforms GitHub repositories into tarball urls, the Git resolver normalizes the paths sent to git, ... each resolver takes care of a different resolution strategy. A missing resolver means that one of those strategies is missing.\n\nThis error is usually caused by a Yarn plugin being missing.\n\n## YN0011 - `FETCHER_NOT_FOUND`\n\nA fetcher cannot be found for the given package.\n\nFetchers are the components that take references and fetch the source code from the remote location. A semver fetcher would likely fetch the packages from some registry, while a workspace fetcher would simply redirect to the location on the disk where the sources can be found.\n\nThis error is usually caused by a Yarn plugin being missing.\n\n## YN0012 - `LINKER_NOT_FOUND`\n\nA linker cannot be found for the given package.\n\nLinkers are the components tasked from extracting the sources from the artifacts returned by the fetchers and putting them on the disk in a manner that can be understood by the target environment. The Node linker would use the Plug'n'Play strategy, while a PHP linker would use an autoload strategy instead.\n\nThis error is usually caused by a Yarn plugin being missing.\n\n## YN0013 - `FETCH_NOT_CACHED`\n\nA package cannot be found in the cache for the given package and will be fetched from its remote location.\n\nWhen a package is downloaded from whatever its remote location is, Yarn stores it in a specific folder called then cache. Then, the next time this package was to be downloaded, Yarn simply check this directory and use the stored package if available. This message simply means that the package couldn't be found there. It's not a huge issue, but you probably should try to limit it as much as possible - for example by using [Zero-Installs](/features/caching#zero-installs).\n\n## YN0014 - `YARN_IMPORT_FAILED`\n\nA lockfile couldn't be properly imported from a v1 lockfile.\n\nThe v2 release contains major changes in the way Yarn is designed, and the lockfile format is one of them. In some rare cases, the data contained in the v1 lockfile aren't compatible with the ones we stored within the v2 files. When it happens, Yarn will emit this warning and resolve the package descriptor again. Only this package will be affected; all others will continue to be imported as expected.\n\n## YN0015 - `REMOTE_INVALID`\n\nThe remote source returned invalid data.\n\nThis error is thrown by the resolvers and fetchers when the remote sources they communicate with return values that aren't consistent with what we would expect (for example because they are missing fields).\n\n## YN0016 - `REMOTE_NOT_FOUND`\n\nThe remote source returned valid data, but told us the package couldn't be found.\n\nThis error is thrown by the resolvers and fetchers when the remote sources they communicate with inform them that the package against which have been made the request doesn't exist. This might happen if the package has been unpublished, and there's usually nothing Yarn can do.\n\n## YN0017 - `RESOLUTION_PACK`\n\nThis error code isn't used at the moment (it used to print the number of packages that took part in each pass of the resolution algorithm, but was deemed too verbose compared to its usefulness).\n\n## YN0018 - `CACHE_CHECKSUM_MISMATCH`\n\nThe checksum of a package from the cache doesn't match what the lockfile expects.\n\nThis situation usually happens after you've modified the zip archives from your cache by editing the files it contains for debug purposes. Use one of the three following commands in order to bypass it:\n\n- `YARN_CHECKSUM_BEHAVIOR=reset` will remove the files from the cache and download them again\n- `YARN_CHECKSUM_BEHAVIOR=update` will update the lockfile to contain the new checksum\n- `YARN_CHECKSUM_BEHAVIOR=ignore` will use the existing files but won't update the lockfile\n\n## YN0019 - `UNUSED_CACHE_ENTRY`\n\nA file from the cache has been detected unused while installing dependencies.\n\nRunning `yarn cache clean` will cause Yarn to remove everything inside `.yarn/cache`.\n\n## YN0020 - `MISSING_LOCKFILE_ENTRY`\n\nA package descriptor cannot be found in the lockfile.\n\nA lot of commands (for example `yarn run`) require the lockfile to be in a state consistent with the current project in order to behave properly. This error will be generated when Yarn detects that your project references a package that isn't listed within the lockfile (usually because you modified a `dependencies` field without running `yarn install`, or because you added a new workspace). Running `yarn install` will almost certainly fix this particular error.\n\n## YN0021 - `WORKSPACE_NOT_FOUND`\n\nA dependency uses a `workspace:` range that cannot be resolved to an existing workspace.\n\nThe `workspace:` protocol is a new feature that appeared in Yarn v2 that allows to target a specific workspace of the current project without risking to ever pull data from other sources in case the workspace doesn't exist. This error precisely means that the workspace doesn't exist for the reason described in the error message.\n\n## YN0022 - `TOO_MANY_MATCHING_WORKSPACES`\n\nThis error should be considered obsolete and not exist; open an issue if you have it.\n\n## YN0023 - `CONSTRAINTS_MISSING_DEPENDENCY`\n\nOne of your workspaces should depend on a dependency but doesn't.\n\nA [constraint](/features/constraints) has been put into effect that declares that the specified workspace must depend on the specified range of the specified dependency. Since it currently doesn't, Yarn emits this error when running `yarn constraints`. In order to fix it simply run `yarn constraints --fix` which will autofix all such errors.\n\n## YN0024 - `CONSTRAINTS_INCOMPATIBLE_DEPENDENCY`\n\nOne of your workspaces should depend on a specific version of a dependency but doesn't.\n\nA [constraint](/features/constraints) has been put into effect that declares that the specified workspace must depend on the specified range of the specified dependency. Since it currently doesn't, Yarn emits this error when running `yarn constraints`. In order to fix it simply run `yarn constraints --fix` which will autofix all such errors.\n\n## YN0025 - `CONSTRAINTS_EXTRANEOUS_DEPENDENCY`\n\nOne of your workspaces shouldn't depend on one of the dependencies it lists.\n\nA [constraint](/features/constraints) has been put into effect that declares that the specified workspace must depend on the specified range of the specified dependency. Since it currently doesn't, Yarn emits this error when running `yarn constraints`. In order to fix it simply run `yarn constraints --fix` which will autofix all such errors.\n\n## YN0026 - `CONSTRAINTS_INVALID_DEPENDENCY`\n\nOne of your workspaces lists an invalid dependency.\n\nA [constraint](/features/constraints) has been put into effect that declares that the specified workspace probably shouldn't depend on the specified dependency in its current state. Since it currently does, Yarn emits this error when running `yarn constraints`. Fixing this error require manual intervention as the fix is ambiguous from Yarn's point of view.\n\n## YN0027 - `CANT_SUGGEST_RESOLUTIONS`\n\nYarn cannot figure out proper range suggestions for the packages you're adding to your project.\n\nWhen running `yarn add` without adding explicit ranges to the packages to add, Yarn will try to find versions that match your intent. Generally it means that it will prefer project workspaces and, if it cannot find any, will instead try to query the npm registry for the list of published releases and use whatever is the highest one. This error means that this process failed and Yarn cannot successfully figure out which version of the package should be added to your project.\n\n## YN0028 - `FROZEN_LOCKFILE_EXCEPTION`\n\nYour lockfile would be modified if Yarn was to finish the install.\n\nWhen passing the `--immutable` option to `yarn install`, Yarn will ensure that the lockfile isn't modified in the process and will instead throw an exception if this situation was to happen (for example if a newly added package was missing from the lockfile, or if the current Yarn release required some kind of migration before being able to work with the lockfile).\n\nThis option is typically meant to be used on your CI and production servers, and fixing this error should simply be a matter of running `yarn install` on your local development environment and submitting a PR containing the updated lockfile.\n\n## YN0029 - `CROSS_DRIVE_VIRTUAL_LOCAL`\n\n> **Removed:** Virtuals aren't implemented using symlinks anymore.\n\n## YN0030 - `FETCH_FAILED`\n\nThis error code isn't used at the moment; we ideally want to explain **why** did the fetch fail rather than .\n\n## YN0031 - `DANGEROUS_NODE_MODULES`\n\nYarn is installing packages using [Plug'n'Play](/features/pnp), but a `node_modules` folder has been found.\n\nThis warning is emitted when your project is detected as containing `node_modules` folders that actually seem to contain packages. This is not advised as they're likely relicts of whatever package manager you used before, and might confuse your tools and lead you into \"works on my machine\" situations.\n\n## YN0032 - `NODE_GYP_INJECTED`\n\nIn some situation Yarn might detect that `node-gyp` is required by a package without this package explicitly listing the dependency. This behavior is there for legacy reason and should not be relied upon for the following reasons:\n\n- The main way to detect whether `node-gyp` is implicitly required is to check whether the package contains a `bindings.gyp` file. However, doing this check implies that the package listing is known at the time Yarn resolves the dependency tree. This would require to fetch all npm archives as part of the resolution step (rather than wait until the dedicated fetch step), and all that just for the sake of this problematic feature.\n\n- Implicit dependencies on `node-gyp` don't provide any hint to the package manager as to which versions of `node-gyp` are compatible with the package being built. Yarn does its best by adding an implicit dependency on `npm:*`, but it might be wrong and we'll have no way to know it - your installs will just crash unexpectedly when compiled with incompatible versions.\n\nPackages omitting `node-gyp` usually do so in order to decrease the amount of packages in the final dependency tree when building the package isn't required (prebuilt binaries). While a reasonable wish, doing this goes against the package manager rules and we would prefer to solve this through a dedicated feature rather than through such hacks. In the meantime we strongly recommend to consider prebuilding native dependencies via WebAssembly if possible - then the `node-gyp` problem completely disappears.\n\n## YN0046 - `AUTOMERGE_FAILED_TO_PARSE`\n\nThis error is triggered when Git conflict tokens are found within the `yarn.lock` file and one or both of the individual candidate lockfiles cannot be parsed. This typically happens because of one of those two situations:\n\n- If you're working on a branch with Yarn v2 and are trying to merge a branch using Yarn v1, this error will be triggered (the v1 lockfiles aren't Yaml, which prevents them from being parsed. Even if we could, they don't contain enough information compared to the v2 lockfiles).\n\n  - The easiest way to fix it is to use `git checkout --theirs yarn.lock`, and follow up with `yarn install` again (which can be followup by `yarn cache clean` to remove any file that wouldn't be needed anymore). This will cause the v1 lockfile to be re-imported. The v2 resolutions will be lost, but Yarn will detect it and resolve them all over again.\n\n- If you have multiple levels of conflicts. Yarn doesn't support such conflicts, and you'll have to figure out a way to only have two levels. This is typically done by first resolving the conflicts between two branches, and then resolving them again on the merge result of the previous step and the third branch.\n\n## YN0047 - `AUTOMERGE_IMMUTABLE`\n\nThis error is triggered when Git conflict tokens are found within the `yarn.lock` file while Yarn is executing under the immutable mode (`yarn install --immutable`).\n\nWhen under this mode, Yarn isn't allowed to edit any file, not even for automatically resolving conflicts. This mode is typically used on CI to ensure that your projects are always in a correct state before being merged into the trunk.\n\nIn order to solve this problem, try running `yarn install` again on your computer without the `--immutable` flag, then commit the changes if the command succeeded.\n\n## YN0048 - `AUTOMERGE_SUCCESS`\n\nThis informational message is emitted when Git conflict tokens were found within the `yarn.lock` file but were automatically fixed by Yarn. There's nothing else to do, everything should work out of the box!\n\n## YN0049 - `AUTOMERGE_REQUIRED`\n\nThis informational message is emitted when Git conflict tokens are found within the `yarn.lock` file. Yarn will then try to automatically resolve the conflict by following its internal heuristic.\n\nThe automerge logic is pretty simple: it will take the lockfile from the pulled branch, modify it by adding the information from the local branch, and run `yarn install` again to fix anything that might have been lost in the process.\n\n## YN0050 - `DEPRECATED_CLI_SETTINGS`\n\nThis error is triggered when passing options to a CLI command through its arguments (for example `--cache-folder`).\n\nStarting from the v2, this isn't supported anymore. The reason for this is that we've consolidated all of our configuration inside a single store that can be defined from a yarnrc file. This guarantees that all your commands run inside the same environments (which previously wasn't the case depending on whether you were using `--cache-folder` on all your commands or just the install). CLI options will now only be used to control the _one-time-behaviors_ of a particular command (like `--verbose`).\n\n**Special note for Netlify users:** Netlify currently [automatically passes](https://github.com/netlify/build-image/blob/f9c7f9a87c10314e4d65b121d45d68dc976817a2/run-build-functions.sh#L109) the `--cache-folder` option to Yarn, and you cannot disable it. For this reason we decided to make it a warning rather than an error when we detect that Yarn is running on Netlify (we still ignore the flag). We suggest upvoting [the relevant issue](https://github.com/netlify/build-image/issues/319) on their repository, as we're likely to remove this special case in a future major release.\n\n## YN0059 - `INVALID_RANGE_PEER_DEPENDENCY`\n\nA package requests a peer dependency, but the range provided is not a valid semver range. It is not possible to ensure the provided package meets the peer dependency request. The range must be fixed in order for the warning to go away. This will not prevent resolution, but may leave the system in an incorrect state.\n\n## YN0060 - `INCOMPATIBLE_PEER_DEPENDENCY`\n\nA package requests a peer dependency, but its parent in the dependency tree provides a version that does not satisfy the peer dependency's range. The parent should be altered to provide a valid version or the peer dependency range updated. This will not prevent resolution, but may leave the system in an incorrect state.\n\n## YN0061 - `DEPRECATED_PACKAGE`\n\nA package is marked as deprecated by the publisher. Avoid using it, use the alternative provided in the deprecation message instead.\n\n## YN0062 - `INCOMPATIBLE_OS`\n\n> **Removed:** Replaced by [`INCOMPATIBLE_ARCHITECTURE`](#yn0076---incompatible_architecture).\n\n## YN0063 - `INCOMPATIBLE_CPU`\n\n> **Removed:** Replaced by [`INCOMPATIBLE_ARCHITECTURE`](#yn0076---incompatible_architecture).\n\n## YN0068 - `UNUSED_PACKAGE_EXTENSION`\n\nA packageExtension is detected by Yarn as being unused, which means that the selector doesn't match any of the installed packages.\n\n## YN0069 - `REDUNDANT_PACKAGE_EXTENSION`\n\nA packageExtension is detected by Yarn as being unneeded, which means that the selected packages have the same behavior with and without the extension.\n\n## YN0071 - `NM_CANT_INSTALL_EXTERNAL_SOFT_LINK`\n\nAn external soft link (portal) cannot be installed, because incompatible version of a dependency exists in the parent package. This prevents portal representation for node_modules installs without a need to write files into portal's target directory, which is forbidden for security reasons.\n\n**Workarounds** If the ranges for conflicting dependencies overlap between portal target and portal parent, the workaround is to use `yarn dedupe foo` (where `foo` is the conflicting dependency name) to upgrade the conflicting dependencies to the highest available versions, if `yarn dedupe` is used without arguments, all the dependencies across the project will be upgraded to the highest versions within their ranges in `package.json`. Another alternative is to use `link:` protocol instead of `portal:` and install dependencies inside the target directory explicitly.\n\n## YN0072 - `NM_PRESERVE_SYMLINKS_REQUIRED`\n\nA portal dependency with subdependencies is used in the project. `--preserve-symlinks` Node option must be used\nto start the application in order for portal dependency to find its subdependencies and peer dependencies.\n\n## YN0074 - `NM_HARDLINKS_MODE_DOWNGRADED`\n\n`nmMode` has been downgraded to `hardlinks-local` due to global cache and install folder being on different devices. Consider changing `globalFolder` setting and place the global cache on the same device as your project, if you want `hardlinks-global` to take effect.\n\n## YN0075 - `PROLOG_INSTANTIATION_ERROR`\n\nThis error appears when a Prolog predicate is called with an invalid signature. Specifically, it means that some of the predicate parameters are non-instantiated (ie have no defined value), when the predicate would expect some. This doesn't mean that you need to hardcode a value, just that you need to assign one before calling the predicate. In the case of the `WorkspaceCwd` parameter from most of the Yarn predicates, it means that instead of calling:\n\n```\nworkspace_field(WorkspaceCwd, 'name', _).\n```\n\nYou would also use the `workspace/1` predicate to let Prolog \"fill\" the `WorkspaceCwd` parameter prior to using it in `workspace_field/3`:\n\n```\nworkspace(WorkspaceCwd), workspace_field(WorkspaceCwd, 'name', _).\n```\n\nFor more information about the parameters that must be instantiated when calling the predicate reported by the error message, consult the [dedicated page](/features/constraints#query-predicate) from our documentation.\n\n## YN0076 - `INCOMPATIBLE_ARCHITECTURE`\n\nA package is specified in its manifest (through the [`os`](/configuration/manifest#os) / [`cpu`](/configuration/manifest#cpu) / [`libc`](/configuration/manifest#libc) fields) as being incompatible with the system architecture. It will not be fetched, linked, and its postinstall scripts will not run on this system.\n\n## YN0077 - `GHOST_ARCHITECTURE`\n\nSome native packages may be excluded from the install if they signal they don't support the systems the project is intended for. This detection is typically based on your current system parameters, but it can be configured using the [`supportedArchitectures` config option](/configuration/yarnrc#supportedArchitectures). If your os or cpu are missing from this list, Yarn will skip the packages and raise a warning.\n\nNote that all fields from `supportedArchitectures` default to `current`, which is a dynamic value depending on your local parameters. For instance, if you wish to support \"my current os, whatever it is, plus linux\", you can set `supportedArchitectures.os` to `[\"current\", \"linux\"]`.\n\n## YN0078 - `RESOLUTION_MISMATCH`\n\nStarting from Yarn 4, Yarn will automatically enable the `--check-resolutions` flag on CI when it detects the current environment is a pull request. Under this mode, Yarn will check that the lockfile resolutions are consistent with what the initial range is. For example, given an initial dependency of `foo@npm:^1.0.0`:\n\n- `foo@npm:1.2.0` is a valid resolution\n- `foo@npm:2.0.0` isn't a valid resolution, because it doesn't match the expected semver range\n- `bar@npm:1.2.0` isn't a valid resolution either, because the name doesn't match\n\nThis error should never trigger under normal circumstances, as Yarn should always generate satisfying resolutions given a dependency. If you hit it nonetheless, it may be either of two things:\n\n- Yarn has a bug. It may happen! Review the mismatch to be sure and, in case you have a doubt, ping us on Discord and we'll tell you whether it's something to worry about (before doing that, take a quick look at our [repository issues](https://github.com/yarnpkg/berry/issues?q=is%3Aissue+is%3Aopen+YN0078) in case someone reported the same behaviour).\n\n- Or you might have someone doing strange things on your lockfile. It might be a mistake (for example someone manually modifying a lockfile for debug but forgetting to revert the changes), or a problem (for example a malicious users trying to perform some sort of [supply chain attack](https://en.wikipedia.org/wiki/Supply_chain_attack)).\n\nIf the use case appears legit (for example if the bug comes from Yarn), you can bypass the check on PRs by adding a `--no-check-resolutions` flag to your `yarn install` command. But be careful: this is a security feature; disabling it may have consequences.\n\n## YN0080 - `NETWORK_DISABLED`\n\nThe `enableNetwork` flag is set to `false`, preventing any request to be made.\n\nNote that the Yarn configuration allows [`enableNetwork`](/configuration/yarnrc#enableNetwork) to be set on a per-registry basis via `npmRegistries`.\n\n## YN0081 - `NETWORK_UNSAFE_HTTP`\n\nYarn will by default refuse to perform http (non-https) queries to protect you against accidental man-in-the-middle attacks.\n\nTo bypass this protection, add the specified hostname to [`unsafeHttpWhitelist`](/configuration/yarnrc#unsafeHttpWhitelist).\n\n## YN0082 - `RESOLUTION_FAILED`\n\nYarn failed to locate a package version that could satisfy the requested range. This usually happens with semver ranges that target versions not published yet (for example `^1.0.0` when the latest version is `0.9.0`), but can be also caused by a couple of other reasons:\n\n- The registry may not have been set properly (so Yarn is querying the public npm registry instead of your internal one)\n\n- The version may have been unpublished (although this shouldn't be possible for the public registry)\n\n## YN0083 - `AUTOMERGE_GIT_ERROR`\n\nWhen autofixing merge conflicts, Yarn needs to know what are the two lockfile versions it must merge together. To do that, it'll run `git rev-parse MERGE_HEAD HEAD` and/or `git rev-parse REBASE_HEAD HEAD`, depending on the situation. If both of those commands fail, the merge cannot succeed.\n\nThis may happen if someone accidentally committed the lockfile without first resolving the merge conflicts - should that happen, you'll need to revert the lockfile to an earlier working version and run `yarn install`.\n\n## YN0085 - `UPDATED_RESOLUTION_RECORD`\n\nThis message is printed when a lockfile entry is added or removed from a project.\n\n## YN0086 - `EXPLAIN_PEER_DEPENDENCIES_CTA`\n\nPeer dependencies are a little complex, and debugging them may require a lot of information. Since Yarn tries its best to keep messages on a single line, we provide a `yarn explain peer-requirements` command that goes into much more details than what we show on regular installs.\n\nTo use it, simply pass it the `p`-prefixed code provided in the original peer resolution error message:\n\n```\nyarn explain peer-requirements pf649c\n```\n\n## YN0087 - `MIGRATION_SUCCESS`\n\nWhen migrating from a major version to the next, some default values may change. When that's the case, Yarn will attempt to temporarily keep the old default by pinning their values in your configuration settings.\n\nTo see the exact changes applied when this message appears, check the content of the `.yarnrc.yml` file and any other file that may appear modified in your repository checkout.\n\n## YN0088 - `VERSION_NOTICE`\n\nOn local machines, Yarn will periodically check whether new versions are available. Should one be, an informational message will be printed once, then silenced until the next day.\n\nYou don't have to upgrade if you don't wish to - but keeping Yarn up-to-date is generally a good idea, as they tend to often come with a significant amount of performance improvements, bugfixes, and new features.\n\n## YN0089 - `TIPS_NOTICE`\n\nOur research showed that even our power users aren't always aware of some of the less obvious features in Yarn. To improve discoverability, on local machines, Yarn will display every day a tip about some of the nuggets it contains. Perhaps one of them will help you improve your infrastructure someday?\n\n## YN0090 - `OFFLINE_MODE_ENABLED`\n\nWhen enabled, the `enableOfflineMode` flag tells Yarn to ignore remote registries and only pull data from its internal caches. This is a handy mode when working from within network-constrained environments such as planes or trains.\n\nTo leave the offline work mode, check how it got enabled by running `yarn config --why`. If `\u003Cenvironment>`, run `unset YARN_ENABLE_OFFLINE_MODE` in your terminal. Otherwise, remove the `enableOfflineMode` flag from the relevant `.yarnrc.yml` files.\n\n## YN0091 - `INVALID_PROVENANCE_ENVIRONMENT`\n\nThis error is triggered when the [provenance statement](https://docs.npmjs.com/generating-provenance-statements) cannot be generated in the current environment. GitHub Actions and GitLab CI are the only supported environments at the moment, and this error is triggered when either running in another environment or when credentials are missing.\n\nOn GitHub Actions, you need to grant the `write-id` permission to your workflow. Here is an example of how to do that:\n\n```yaml\nname: Publish Package to npmjs\non:\n  push:\n    branches: [main]\njobs:\n  publish:\n    runs-on: ubuntu-latest # Must run on GitHub-hosted runners\n    permissions:\n      id-token: write\n    steps:\n      - uses: actions/checkout@v4\n      - run: npm install -g corepack && corepack enable\n      - run: yarn && yarn build\n      - run: yarn config set npmAuthToken '${{ secrets.NPM_TOKEN }}'\n      - run: yarn publish --provenance --tolerate-republish\n```\n\nOn GitLab CI, you need to produce a `SIGSTORE_ID_TOKEN` for your workflow. Here is an example of how to do that:\n\n```yaml\npublish:\n  image: \"node:22\"\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n  id_tokens:\n    SIGSTORE_ID_TOKEN:\n      aud: sigstore\n  script:\n    - npm install -g corepack && corepack enable\n    - yarn && yarn build\n    - yarn config set npmAuthToken $NPM_TOKEN\n    - yarn publish --provenance --tolerate-republish\n```","src/content/docs/advanced/general-reference/error-codes.mdx","ed216c6b66760699","protocols",{"id":382,"data":384,"body":388,"filePath":389,"digest":390,"deferredRender":22},{"title":172,"editUrl":22,"head":385,"template":189,"sidebar":386,"pagefind":22,"draft":100},[],{"order":102,"hidden":100,"attrs":387},{},"- **[Exec Protocol](/protocol/exec)**\n- **[File Protocol](/protocol/file)**\n- **[Git Protocol](/protocol/git)**\n- **[Link Protocol](/protocol/link)**\n- **[NPM Protocol](/protocol/npm)**\n- **[JSR Protocol](/protocol/jsr)**\n- **[Patch Protocol](/protocol/patch)**\n- **[Portal Protocol](/protocol/portal)**\n- **[Workspace Protocol](/protocol/workspace)**","src/content/docs/advanced/general-reference/protocols.mdx","ab78df2c428164a7","advanced/pnp-spec",{"id":391,"data":393,"body":399,"filePath":400,"digest":401,"deferredRender":22},{"title":394,"description":395,"editUrl":22,"head":396,"template":189,"sidebar":397,"pagefind":22,"draft":100},"PnP Specification","In-depth documentation of the PnP spec.",[],{"order":110,"hidden":100,"attrs":398},{},"## About this document\n\nTo make interoperability easier for third-party projects, this document describes the specification we follow when installing files on disk under the [Plug'n'Play install strategy](/features/pnp). It also means:\n\n- any change we make to this document will follow semver rules\n- we'll do our best to preserve backward compatibility\n- new features will be intended to gracefully degrade\n\n## High-level idea\n\nPlug'n'Play works by keeping in memory a table of all packages part of the dependency tree, in such a way that we can easily answer two different questions:\n\n- Given a path, what package does it belong to?\n- Given a package, where are the dependencies it can access?\n\nResolving a package import thus becomes a matter of interlacing those two operations:\n\n- First, locate which package is requesting the resolution\n- Then retrieve its dependencies, check if the requested package is amongst them\n- If it is, then retrieve the dependency information, and return its location\n\nExtra features can then be designed, but are optional. For example, Yarn leverages the information it knows about the project to throw semantic errors when a dependency cannot be resolved: since we know the state of the whole dependency tree, we also know why a package may be missing.\n\n## Basic concepts\n\nAll packages are uniquely referenced by **locators**. A locator is a combination of a **package ident**, which includes its scope if relevant, and a **package reference**, which can be seen as a unique ID used to distinguish different instances (or versions) of a same package. The package references should be treated as an opaque value: it doesn't matter from a resolution algorithm perspective that they start with `workspace:`, `virtual:`, `npm:`, or any other protocol.\n\n### Portability\n\nFor portability reasons, all paths inside of the manifests:\n\n- must use the unix path format (`/` as separators).\n- must be relative to the manifest folder (so they are the same regardless of the location of the project on disk).\n\n:::caution\nAll algorithms in this specification assume that paths have been normalized according to these two rules.\n:::\n\n## Fallback\n\nFor improved compatibility with legacy codebases, Plug'n'Play supports a feature we call \"fallback\". The fallback triggers when a package makes a resolution request to a dependency it doesn't list in its dependencies. In normal circumstances the resolver would throw, but when the fallback is enabled the resolver should first try to find the dependency packages amongst the dependencies of a set of special packages. If it finds it, it then returns it transparently.\n\nIn a sense, the fallback can be seen as a limited and safer form of hoisting. While hoisting allows unconstrainted access through multiple levels of dependencies, the fallback requires to explicitly define a fallback package - usually the top-level one.\n\n## Package locations\n\nWhile the Plug'n'Play specification doesn't by itself require runtimes to support anything else than the regular filesystem when accessing package files, producers may rely on more complex data storage mechanisms. For instance, Yarn itself requires the two following extensions which we strongly recommend to support:\n\n### Zip access\n\nFiles named `*.zip` must be treated as folders for the purpose of file access. For instance, `/foo/bar.zip/package.json` requires to access the `package.json` file located within the `/foo/bar.zip` zip archive.\n\nIf writing a JS tool, the [`@yarnpkg/fslib`](https://yarnpkg.com/package/@yarnpkg/fslib) package may be of assistance, providing a zip-aware filesystem layer called `ZipOpenFS`.\n\n### Virtual folders\n\nIn order to properly represent packages listing peer dependencies, Yarn relies on a concept called [Virtual Packages](/advanced/lexicon#virtual-package). Their most notable property is that they all have different paths (so that Node.js instantiates them as many times as needed), while still being baked by the same concrete folder on disk.\n\nThis is done by adding path support for the following scheme:\n\n```\n/path/to/some/folder/__virtual__/\u003Chash>/\u003Cn>/subpath/to/file.dat\n```\n\nWhen this pattern is found, the `__virtual__/\u003Chash>/\u003Cn>` part must be removed, the `hash` ignored, and the `dirname` operation applied `n` times to the `/path/to/some/folder` part. Some examples:\n\n```\n/path/to/some/folder/__virtual__/a0b1c2d3/0/subpath/to/file.dat\n/path/to/some/folder/subpath/to/file.dat\n\n/path/to/some/folder/__virtual__/e4f5a0b1/0/subpath/to/file.dat\n/path/to/some/folder/subpath/to/file.dat (different hash, same result)\n\n/path/to/some/folder/__virtual__/a0b1c2d3/1/subpath/to/file.dat\n/path/to/some/subpath/to/file.dat\n\n/path/to/some/folder/__virtual__/a0b1c2d3/3/subpath/to/file.dat\n/path/subpath/to/file.dat\n```\n\nIf writing a JS tool, the [`@yarnpkg/fslib`](https://yarnpkg.com/package/@yarnpkg/fslib) package may be of assistance, providing a virtual-aware filesystem layer called `VirtualFS`.\n\n:::note\nThe `__virtual__` folder name appeared with Yarn 3.0. Earlier releases used `$$virtual`, but we changed it after discovering that this pattern triggered bugs in software where paths were used as either regexps or replacement. For example, `$$` found in the second parameter from [`String.prototype.replace`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace) silently turned into `$`.\n:::\n\n## Manifest reference\n\nWhen [`pnpEnableInlining`](/configuration/yarnrc#pnpEnableInlining) is explicitly set to `false`, Yarn will generate an additional `.pnp.data.json` file containing the following fields.\n\nThis document only covers the data file itself - you should define your own in-memory data structures, populated at runtime with the information from the manifest. For example, Yarn turns the `packageRegistryData` table into two separate memory tables: one that maps a path to a package, and another that maps a package to a path.\n\n:::note\nYou may notice that various places use arrays of tuples in place of maps. This is mostly intended to make it easier to hydrate ES6 maps, but also sometimes to have non-string keys (for instance `packageRegistryData` will have a `null` key in one particular case).\n:::\n\nimport pnpSchema from \"@/utils/configuration/pnp.json\";\nimport JsonToDoc from \"@/components/JsonToDoc\";\n\n\u003CJsonToDoc client:only=\"preact\" json={pnpSchema} />\n\n## Resolution algorithm\n\n:::note\nFor simplicity, this algorithm doesn't mention all the Node.js features that allow mapping a module to another, such as [`imports`](https://nodejs.org/api/packages.html#imports), [`exports`](https://nodejs.org/api/packages.html#exports), or other vendor-specific features.\n:::\n\n### NM_RESOLVE\n\n```\nNM_RESOLVE(specifier, parentURL)\n```\n\n1. This function is specified in the [Node.js documentation](https://nodejs.org/api/esm.html#resolver-algorithm-specification)\n\n### PNP_RESOLVE\n\n```\nPNP_RESOLVE(specifier, parentURL)\n```\n\n1. Let `resolved` be **undefined**\n\n2. If `specifier` is a Node.js builtin, then\n\n   1. Set `resolved` to `specifier` itself and return it\n\n3. Otherwise, if `specifier` is either an absolute path or a path prefixed with \"./\" or \"../\", then\n\n   1. Set `resolved` to [`NM_RESOLVE`](#nm_resolve)`(specifier, parentURL)` and return it\n\n4. Otherwise,\n\n   1. Note: `specifier` is now a bare identifier\n\n   2. Let `unqualified` be [`RESOLVE_TO_UNQUALIFIED`](#resolve_to_unqualified)`(specifier, parentURL)`\n\n   3. Set `resolved` to [`NM_RESOLVE`](#nm_resolve)`(unqualified, parentURL)`\n\n### RESOLVE_TO_UNQUALIFIED\n\n```\nRESOLVE_TO_UNQUALIFIED(specifier, parentURL)\n```\n\n1. Let `resolved` be **undefined**\n\n2. Let `ident` and `modulePath` be the result of [`PARSE_BARE_IDENTIFIER`](#parse_bare_identifier)`(specifier)`\n\n3. Let `manifest` be [`FIND_PNP_MANIFEST`](#find_pnp_manifest)`(parentURL)`\n\n4. If `manifest` is null, then\n\n   1. Set `resolved` to [`NM_RESOLVE`](#nm_resolve)`(specifier, parentURL)` and return it\n\n5. Let `parentLocator` be [`FIND_LOCATOR`](#find_locator)`(manifest, parentURL)`\n\n6. If `parentLocator` is null, then\n\n   1. Set `resolved` to [`NM_RESOLVE`](#nm_resolve)`(specifier, parentURL)` and return it\n\n7. Let `parentPkg` be [`GET_PACKAGE`](#get_package)`(manifest, parentLocator)`\n\n8. Let `referenceOrAlias` be the entry from `parentPkg.packageDependencies` referenced by `ident`\n\n9. If `referenceOrAlias` is **null** or **undefined**, then\n\n   1. If `manifest.enableTopLevelFallback` is **true**, then\n\n      1. If `parentLocator` **isn't** in `manifest.fallbackExclusionList`, then\n\n         1. Let `fallback` be [`RESOLVE_VIA_FALLBACK`](#resolve_via_fallback)`(manifest, ident)`\n\n         2. If `fallback` is neither **null** nor **undefined**\n\n            1. Set `referenceOrAlias` to `fallback`\n\n10. If `referenceOrAlias` is still **undefined**, then\n\n    1. Throw a resolution error\n\n11. If `referenceOrAlias` is still **null**, then\n\n    1. Note: It means that `parentPkg` has an unfulfilled peer dependency on `ident`\n\n    2. Throw a resolution error\n\n12. Otherwise, if `referenceOrAlias` is an array, then\n\n    1. Let `alias` be `referenceOrAlias`\n\n    2. Let `dependencyPkg` be [`GET_PACKAGE`](#get_package)`(manifest, alias)`\n\n    3. Return `path.resolve(manifest.dirPath, dependencyPkg.packageLocation, modulePath)`\n\n13. Otherwise,\n\n    1. Let `reference` be `referenceOrAlias`\n\n    2. Let `dependencyPkg` be [`GET_PACKAGE`](#get_package)`(manifest, {ident, reference})`\n\n    3. Return `path.resolve(manifest.dirPath, dependencyPkg.packageLocation, modulePath)`\n\n### GET_PACKAGE\n\n```\nGET_PACKAGE(manifest, locator)\n```\n\n1. Let `referenceMap` be the entry from `parentPkg.packageRegistryData` referenced by `locator.ident`\n\n2. Let `pkg` be the entry from `referenceMap` referenced by `locator.reference`\n\n3. Return `pkg`\n\n   1. Note: `pkg` cannot be **undefined** here; all packages referenced in any of the Plug'n'Play data tables [**MUST**](#must) have a corresponding entry inside `packageRegistryData`.\n\n### FIND_LOCATOR\n\n```\nFIND_LOCATOR(manifest, moduleUrl)\n```\n\n:::note\nThe algorithm described here is quite inefficient. You should make sure to prepare data structure more suited for this task when you read the manifest.\n:::\n\n1. Let `bestLength` be **0**\n\n2. Let `bestLocator` be **null**\n\n3. Let `relativeUrl` be the relative path between `manifest` and `moduleUrl`\n\n   1. Note: The relative path must not start with `./`; trim it if needed\n\n4. If `relativeUrl` matches `manifest.ignorePatternData`, then\n\n   1. Return **null**\n\n5. Let `relativeUrlWithDot` be `relativeUrl` prefixed with `./` or `../` as necessary\n\n6. For each `referenceMap` value in `manifest.packageRegistryData`\n\n   1. For each `registryPkg` value in `referenceMap`\n\n      1. If `registryPkg.discardFromLookup` **isn't true**, then\n\n         1. If `registryPkg.packageLocation.length` is greater than `bestLength`, then\n\n            1. If `relativeUrl` starts with `registryPkg.packageLocation`, then\n\n               1. Set `bestLength` to `registryPkg.packageLocation.length`\n\n               2. Set `bestLocator` to the current `registryPkg` locator\n\n7. Return `bestLocator`\n\n### RESOLVE_VIA_FALLBACK\n\n```\nRESOLVE_VIA_FALLBACK(manifest, ident)\n```\n\n1. Let `topLevelPkg` be [`GET_PACKAGE`](#get_package)`(manifest, {null, null})`\n\n2. Let `referenceOrAlias` be the entry from `topLevelPkg.packageDependencies` referenced by `ident`\n\n3. If `referenceOrAlias` is defined, then\n\n   1. Return it immediately\n\n4. Otherwise,\n\n   1. Let `referenceOrAlias` be the entry from `manifest.fallbackPool` referenced by `ident`\n\n   2. Return it immediately, whether it's defined or not\n\n### FIND_PNP_MANIFEST\n\n```\nFIND_PNP_MANIFEST(url)\n```\n\nFinding the right PnP manifest to use for a resolution isn't always trivial. There are two main options:\n\n- Assume that there is a single PnP manifest covering the whole project. This is the most common case, as even when referencing third-party projects (for example via the [`portal:` protocol](/protocol/portal#portals-vs-links)) their dependency trees are stored in the same manifest as the main project.\n\n  To do that, call [`FIND_CLOSEST_PNP_MANIFEST`](#find_closest_pnp_manifest)`(require.main.filename)` once at the start of the process, cache its result, and return it for each call to [`FIND_PNP_MANIFEST`](#find_pnp_manifest) (if you're running in Node.js, you can even use `require.resolve('pnpapi')` which will do this work for you).\n\n- Try to operate within a multi-project world. **This is rarely required**. We support it inside the Node.js PnP loader, but only because of \"project generator\" tools like `create-react-app` which are run via `yarn create react-app` and require two different projects (the generator one `and` the generated one) to cooperate within the same Node.js process.\n\n  Supporting this use case is difficult, as it requires a bookkeeping mechanism to track the manifests used to access modules, reusing them as much as possible and only looking for a new one when the chain breaks.\n\n### FIND_CLOSEST_PNP_MANIFEST\n\n```\nFIND_CLOSEST_PNP_MANIFEST(url)\n```\n\n1. Let `manifest` be **null**\n\n2. Let `directoryPath` be the directory for `url`\n\n3. Let `pnpPath` be `directoryPath` concatenated with `/.pnp.cjs`\n\n4. If `pnpPath` exists on the filesystem, then\n\n   1. Let `pnpDataPath` be `directoryPath` concatenated with `/.pnp.data.json`\n\n   2. Set `manifest` to `JSON.parse(readFile(pnpDataPath))`\n\n   3. Set `manifest.dirPath` to `directoryPath`\n\n   4. Return `manifest`\n\n5. Otherwise, if `directoryPath` is `/`, then\n\n   1. Return **null**\n\n6. Otherwise,\n\n   1. Return [`FIND_PNP_MANIFEST`](#find_pnp_manifest)`(directoryPath)`\n\n### PARSE_BARE_IDENTIFIER\n\n```\nPARSE_BARE_IDENTIFIER(specifier)\n```\n\n1. If `specifier` starts with \"@\", then\n\n   1. If `specifier` doesn't contain a \"/\" separator, then\n\n      1. Throw an error\n\n   2. Otherwise,\n\n      1. Set `ident` to the substring of `specifier` until the second \"/\" separator or the end of string, whatever happens first\n\n2. Otherwise,\n\n   1. Set `ident` to the substring of `specifier` until the first \"/\" separator or the end of string, whatever happens first\n\n3. Set `modulePath` to the substring of `specifier` starting from `ident.length`\n\n4. Return `{ident, modulePath}`","src/content/docs/advanced/pnp/pnp-spec.mdx","d76ca5368ec3fdb4","advanced/pnpify",{"id":402,"data":404,"body":410,"filePath":411,"digest":412,"deferredRender":22},{"title":405,"description":406,"editUrl":22,"head":407,"template":189,"sidebar":408,"pagefind":22,"draft":100},"PnPify","An overview of PnPify, one of the PnP compatibility layers which emulates virtual node_modules directories and provides IDE support.",[],{"order":102,"hidden":100,"attrs":409},{},":::danger\nPnPify is mostly deprecated since Yarn supports [`node_modules`](/configuration/yarnrc#nodeLinker) installs out of the box.\n:::\n\n## Motivation\n\nPlug'n'Play is, by design, compatible with all projects that only make use of the `require` API - whether it's `require`, `require.resolve`, or `createRequire`. However, some rare projects prefer to reimplement the Node resolution themselves and as such aren't compatible by default with our environment (unless they integrate their resolvers with the [PnP API](/advanced/pnpapi)).\n\n## PnPify\n\nPnPify is a tool designed to work around these compatibility issues. It's not perfect - it brings its own set of caveats and doesn't allow you to leverage all the features that PnP has to offer - but it's often good enough to unblock you until better solutions are implemented.\n\nHow it works is simple: when a non-PnP-compliant project tries to access the `node_modules` directories (for example through `readdir` or `readFile`), PnPify intercepts those calls and converts them into calls to the PnP API. Then, based on the result, it simulates the existence of a virtual `node_modules` folder that the underlying tool will then consume - still unaware that the files are extracted from a virtual filesystem.\n\n## Usage\n\n1. Add PnPify to your dependencies:\n\n```bash\nyarn add @yarnpkg/pnpify\n```\n\n2. Use pnpify to run the incompatible tool:\n\n```bash\nyarn pnpify tsc\n```\n\nMore details about the run command can be found on its [dedicated page](https://yarnpkg.com/cli/pnpify/run).\n\n## Caveat\n\n- Due to how PnPify emulates the `node_modules` directory, some problems are to be expected, especially with tools that watch directories inside `node_modules`.\n\n- PnPify isn't designed to be a long-term solution; its purpose is purely to help projects during their transition to the stricter Plug'n'Play module resolution scheme. Relying on PnPify doesn't allow you to take full advantage of everything Plug'n'Play has to offer, in particular perfect flattening and boundary checks.\n\n## IDE Support\n\nWhen using Plug'n'Play installs with your favorite text editors you will probably want to keep using your extensions, like ESLint or Prettier. To do so, you may need to use `yarn sdks`. For more information, consult the detailed documentation in the [Editor SDKs](/getting-started/editor-sdks) section.","src/content/docs/advanced/pnp/pnpify.mdx","d9e1367cfb932b85","getting-started/install",{"id":413,"data":415,"body":421,"filePath":422,"digest":423,"deferredRender":22},{"title":416,"description":417,"editUrl":22,"head":418,"template":189,"sidebar":419,"pagefind":22,"draft":100},"Installation","Yarn's in-depth installation guide.",[],{"hidden":100,"attrs":420},{},"1. Install [Corepack](/corepack), an intermediary tool that will let you configure your package manager version on a per-project basis:\n\n```\nnpm install -g corepack\n```\n\n2. Then initialize a new project:\n\n```\nyarn init -2\n```\n\n## Updating Yarn\n\nAny time you'll want to update Yarn to the latest version, just run:\n\n```\nyarn set version stable\nyarn install\n```\n\nYarn will then configure your project to use the most recent stable binary.\n\n:::tip\nYarn also frequently ships Release Candidate builds. Use `yarn set version canary` should you need a feature not released on the stable channel yet. Those builds are very stable, the only difference with the regular channel being a more staggered migration between major as we implement new breaking changes.\n:::\n\n## Installing the latest build fresh from master\n\nYou may want to test a version of Yarn so recent it hasn't been released in a Release Candidate yet, or even not merged. The following command will clone, build, and install Yarn in your project, straight from our repository:\n\n```\nyarn set version from sources\n```\n\nIt accepts a `--branch` flag which you can use to test specific PRs:\n\n```\nyarn set version from sources --branch 1211\n```\n\n:::caution\nUnlike the stable and canary channels, the `yarn set version from sources` command can't leverage Corepack and will need to store the Yarn binary inside the `.yarn/releases` folder and reference it from your project's `.yarnrc.yml` file.\n:::","src/content/docs/getting-started/basics/install.mdx","e0cf45bbb821f416","getting-started",{"id":424,"data":426,"body":432,"filePath":433,"digest":434,"deferredRender":22},{"title":427,"description":428,"editUrl":22,"head":429,"template":189,"sidebar":430,"pagefind":22,"draft":100},"Introduction","An introduction to Yarn, a package manager for your code.",[],{"hidden":100,"attrs":431},{},"Yarn is an established open-source package manager used to manage dependencies in JavaScript projects. It assists with the process of installing, updating, configuring, and removing packages dependencies, eventually helping you reach your objectives faster with fewer distractions.\n\nIts areas of focus are speed, correctness, security, and developer experience, which we improve along every axis by leveraging a suite of innovative features such as workspaces, offline caching, parallel installs, hardened mode, interactive commands, and more.\n\nGiven its robust features and stellar track record, Yarn proves to be an indispensable asset to the JavaScript ecosystem, driving efficiency, security, and positive developer experience in projects of any size.\n\n:::note\nUnlike most other package managers, which typically defer to npm for non-install-related commands, Yarn reimplements all commands, so as to have full control over our developer experience and stability.\n:::","src/content/docs/getting-started/basics/intro.mdx","7da5aeedd8d07ead","getting-started/usage",{"id":435,"data":437,"body":443,"filePath":444,"digest":445,"deferredRender":22},{"title":438,"description":439,"editUrl":22,"head":440,"template":189,"sidebar":441,"pagefind":22,"draft":100},"Usage","A short overview of Yarn's most used commands.",[],{"hidden":100,"attrs":442},{},"If you're coming from npm, the main changes are:\n\n- Running `yarn` is enough to run an install! It's an alias to `yarn install`.\n- Adding or updating a dependency to a single package is done with `yarn add`.\n- Upgrading a dependency across the whole project is done with `yarn up`.\n- Your scripts are aliased. Calling `yarn build` is the same as `yarn run build`!\n- Most registry-related commands are moved behind `yarn npm` (ex: `yarn npm audit`).\n\nTo see the full list of commands, check the [CLI reference](/cli).","src/content/docs/getting-started/basics/usage.mdx","ddb154cf689a317b","corepack",{"id":446,"data":448,"body":454,"filePath":455,"digest":456,"deferredRender":22},{"title":449,"description":450,"editUrl":22,"head":451,"template":189,"sidebar":452,"pagefind":22,"draft":100},"Corepack","About Corepack, the Node.js package manager provider.",[],{"hidden":100,"attrs":453},{},"You may notice by reading our [installation guide](/getting-started/install) that we don't tell you to run `npm install -g yarn` to install Yarn - we even recommend against it. The reason is simple: **just like your project dependencies must be locked, so should be the package manager itself.**\n\nInstalling Yarn as a global binary meant you always used whatever was the latest version published. Most of the time it worked fine, but every once in a while something was shipped that could impact the way your project was installed - be it a bugfix, new bug, or breaking change.\n\nTo counter that, Yarn joined forces with the Node.js project to start the development of [Corepack](https://nodejs.org/api/corepack.html), an official Node.js tool letting you define which package manager version you want to use on a per-project basis, just like your lockfile does for your project dependencies.\n\n:::note\nCorepack is marked experimental so we can iterate on its CLI faster, but it's already the preferred way to install package managers - both for Yarn and for pnpm.\n:::\n\n## Installation\n\nCorepack is included with all official Node.js releases starting from Node.js 14.19 / 16.9. It's however opt-in for the duration of the experimental stage, so you'll need to run `corepack enable` before it's active.\n\nYou can quickly check whether Corepack is enabled by running `yarn exec env | grep COREPACK_ROOT`: if you get a path as output, Corepack is properly installed. If not, something may be messing with how the shims are installed. In that case check the [Troubleshooting](/corepack#troubleshooting) section for advices.\n\n:::danger\nSome third-party distributors may not include Corepack by default, in particular if you install Node.js from your system package manager. If that happens, running `npm install -g corepack` before `corepack enable` should do the trick.\n:::\n\n## Troubleshooting\n\n### Offline workflow\n\nIf you use an airgapped network, as is often the case in company CIs, you may hit problems where Corepack isn't able to download the Yarn binary for the active project. The Corepack documentation includes a [dedicated section](https://github.com/nodejs/corepack?tab=readme-ov-file#offline-workflow) explaining how to avoid this problem.\n\n### Volta\n\nVolta doesn't currently integrate with Corepack, as it installs its own shims which prevent the Corepack ones from being applied. You will need to run the following two commands to force the integration:\n\n```bash\nnpm install -g corepack\n\n# Specifying an explicit install-directory makes corepack overwrite volta's yarn shims, which is what we want\ncorepack enable --install-directory ~/.volta/bin\n```","src/content/docs/getting-started/extra/corepack.mdx","05fd8325da41b63f","getting-started/qa",{"id":457,"data":459,"body":465,"filePath":466,"digest":467,"deferredRender":22},{"title":460,"description":461,"editUrl":22,"head":462,"template":189,"sidebar":463,"pagefind":22,"draft":100},"Questions & Answers","A list of answers to commonly asked questions.",[],{"hidden":100,"attrs":464},{},"import TableOfContentsList from \"@/components/table-of-content/TableOfContentsList.astro\";\n\n\u003CTableOfContentsList />\n\n## Why is the `yarn` package on npm still on 1.x?\n\nModern releases of Yarn haven't been distributed on npm since 2019.\n\nThe reason is simple: because Yarn wasn't distributed alongside Node.js, many people relied on something like `npm install -g yarn` as part of their image building. It meant that any breaking change would make their way on everyone using this pattern, and break their deployments.\n\nAs a result, we decided to retire the `yarn` npm package and only use it for the few 1.x maintenance releases needed. Yarn is now installed directly from our website, via either [Corepack](https://nodejs.org/api/corepack.html) or `yarn set version`.\n\n## Why should you upgrade to Yarn Modern?\n\nWhile the Yarn Classic line (1.x) remains a pillar of the JavaScript ecosystem, we recommend upgrading if possible. Why's that?\n\n1. New features: On top of the classic features you're already used to, on top of the new ones you'll discover ([`yarn dlx`](/cli/dlx), [builtin `patch:` protocol](https://github.com/yarnpkg/berry/tree/master/packages/plugin-patch), ...), Modern offers plugins extending Yarn's featureset with [changesets](/features/release-workflow), [constraints](/features/constraints), [workspaces](/cli/workspaces/foreach), ...\n\n2. Efficiency: Modern features new install strategies, leading projects to only be a fraction of their past self; as an example, under the default configuration the stock CRA artifacts now only take 45MB instead of 237MB. [Performances](https://p.datadoghq.eu/sb/d2wdprp9uki7gfks-c562c42f4dfd0ade4885690fa719c818) were improved as well, with most installs now only taking a few seconds even on extremely large projects. We even made it possible to reach [zero seconds](/features/caching#zero-installs)!\n\n3. Extensibility: Modern's architecture allows you to build your own features as you need it. No more of you being blocked waiting for us to implement this feature you dream of - you can now do it yourself, according to your own specs! Focused workspaces, custom installs, project validation, ...\n\n4. Stability: Modern comes after years of experience with maintaining Classic; it allowed us to finally fix longstanding design issues with how some features were implemented. Workspaces are now core components, the resolution pipeline has been streamlined, data structures are more efficient... as a result, Modern is much less likely to suffer from incorrect assumptions and other design flaws.\n\n5. Future proof: A big reason why we invested in Modern was that we noticed how building new features on Classic was becoming difficult - each change being too likely to have unforeseen consequences. The Modern architecture learned from our mistakes, and was designed to allow us to build features at a much higher pace - as evidenced by our new gained velocity.\n\n## How easy should you expect the migration from Classic to Modern to be?\n\nGenerally, a few main things will need to be taken care of:\n\n1. The settings format changed. We don't read the `.npmrc` or `.yarnrc` files anymore, instead of consuming the settings from the [`.yarnrc.yml` file](https://yarnpkg.com/configuration/yarnrc).\n\n2. Some third-party packages don't list their dependencies properly and will need to be helped through the [`packageExtensions`](https://yarnpkg.com/configuration/yarnrc#packageExtensions) settings.\n\n3. Support for text editors is pretty good, but you'll need to run the one-time-setup listed in our [SDK documentation](https://yarnpkg.com/getting-started/editor-sdks).\n\n4. Some tools (mostly React Native and Flow) will require downgrading to the `node_modules` install strategy by setting the [`nodeLinker`](https://yarnpkg.com/configuration/yarnrc#nodeLinker) setting to `node-modules`. TypeScript doesn't have this problem.\n\nMost projects will only face those four problems, which can all be fixed in a good afternoon of work. For more detailed instructions, please see the detailed [migration guide](/migration/guide).\n\n## Which files should be gitignored?\n\nIf you're using Zero-Installs:\n\n```gitignore\n.yarn/*\n!.yarn/cache\n!.yarn/patches\n!.yarn/plugins\n!.yarn/releases\n!.yarn/sdks\n!.yarn/versions\n```\n\nIf you're not using Zero-Installs:\n\n```gitignore\n.pnp.*\n.yarn/*\n!.yarn/patches\n!.yarn/plugins\n!.yarn/releases\n!.yarn/sdks\n!.yarn/versions\n```\n\nIf you're interested to know more about each of these files:\n\n- `.yarn/cache` and `.pnp.*` may be safely ignored, but you'll need to run `yarn install` to regenerate them between each branch switch - which would be optional otherwise, cf [Zero-Installs](/features/caching#zero-installs).\n\n- `.yarn/install-state.gz` is an optimization file that you shouldn't ever have to commit. It simply stores the exact state of your project so that the next commands can boot without having to resolve your workspaces all over again.\n\n- `.yarn/patches` contain the patchfiles you've been generating with the [`yarn patch-commit`](/cli/patch-commit) command. You always want them in your repository, since they are necessary to install your dependencies.\n\n- `.yarn/plugins` and `.yarn/releases` contain the Yarn releases used in the current repository (as defined by [`yarn set version`](/cli/set/version)). You will want to keep them versioned (this prevents potential issues if, say, two engineers use different Yarn versions with different features).\n\n- `.yarn/sdks` contains the editor SDKs generated by `@yarnpkg/sdks`. Whether to keep it in your repository or not is up to you; if you don't, you'll need to follow the editor procedure again on new clones. See [Editor SDKs](/getting-started/editor-sdks) for more details.\n\n- `.yarn/unplugged` should likely always be ignored since they typically hold machine-specific build artifacts. Ignoring it might however prevent [Zero-Installs](/features/caching#zero-installs) from working (to prevent this, set [`enableScripts`](/configuration/yarnrc#enableScripts) to `false`).\n\n- `.yarn/versions` is used by the [version plugin](/features/release-workflow) to store the package release definitions. You will want to keep it within your repository.\n\n- `yarn.lock` should always be stored within your repository ([even if you develop a library](#should-lockfiles-be-committed-to-the-repository)).\n\n- `.yarnrc.yml` (and its older counterpart, `.yarnrc`) are configuration files. They should always be stored in your project.\n\n:::tip\nYou can also add a `.gitattributes` file to identify the release and plugin bundles as binary content. This way Git won't bother showing massive diffs when each time you subsequently add or update them:\n\n```gitattributes\n/.yarn/releases/** binary\n/.yarn/plugins/** binary\n```\n\n:::\n\n## Does Yarn support ESM?\n\n**Yes.**\n\nFirst, remember that Yarn supports the [`node-modules` install strategy](https://yarnpkg.com/configuration/yarnrc#nodeLinker), which installs package exactly the same as, say, npm would. So if Yarn didn't support ESM, nothing would. If you hear someone say it doesn't, they actually mean \"[Yarn PnP](https://yarnpkg.com/features/pnp) doesn't support ESM\" - **except it does**, ever since the [3.1](https://dev.to/arcanis/yarn-31-corepack-esm-pnpm-optional-packages--3hak#esm-support).\n\nSo this alone should answer your question. But if you want more details about the PnP and ESM story, then let's talk about ESM itself first. ESM is two things: at its core, it's a spec that got drafted in ES2015. However, no engine implemented it straight away: at this time the spec was pretty much just a syntactic placeholder, with nothing concrete underneath. It's only starting from late 2019 that Node finally received support for native ESM, without requiring an experimental flag. But this support had one major caveat: **the ESM loaders weren't there**. Loaders are the things that allow projects to tell Node how to locate packages and modules on the disk. You probably know some of them: [`@babel/register`](https://babeljs.io/docs/en/babel-register#compiling-plugins-and-presets-on-the-fly), [`ts-node`](https://github.com/TypeStrong/ts-node/discussions/1321), [Jest's mocks](https://github.com/facebook/jest/issues/9430), [Electron](https://github.com/electron/electron/issues/21457), and many more.\n\nUnlike CommonJS, the ESM module resolution pipeline is intended to be completely walled from the outside, for example so that multiple threads can share the same resolver instance. Amongst other things it meant that, without official loader support, **it was impossible to support alternate resolution strategies** - monkey-patching the resolution primitives wasn't viable anymore, so all those projects literally couldn't support ESM at all. It could only mean one thing: **ESM wasn't ready**. Yes, it was supported natively, but given it broke a sizeable part of the ecosystem with no alternative whatsoever, it couldn't be a reasonable standard - yet.\n\nFortunately, Node saw the issue, started to work on loaders, and shipped a first iteration. Fast forward to today, Node Loaders are still in [heavy work](https://nodejs.org/api/esm.html#loaders) (and changed shape more than once, as highlighted by this \"experimental\" annotation), but have allowed us to draft a first implementation of a ESM-compatible PnP loader, which we shipped in 3.1. Strong of those learnings, we started to contribute to the Node Loaders working group, not only to help Yarn's own use cases but also those from other projects susceptible to follow our lead.\n\nLoaders aren't perfect yet, and until they are **ESM-only packages cannot be recommended**, but there's a way forward and as we work together we'll get there. We just have to be careful not to push people aside as we run towards our goal.\n\n## Should lockfiles be committed to the repository?\n\n**Yes.**\n\nLockfiles are meant to always be stored along with your project sources - and this regardless of whether you're writing a standalone application or a distributed library.\n\nOne persisting argument against checking-in the lockfile in the repository is about being made aware of potential problems against the latest versions of the library. People saying this argue that the lockfile being present prevents contributors from seeing such issues, as all dependencies are locked and appear fine until a consumer installs the library and uses more recent (and incompatible) dependencies.\n\nAlthough tempting, this reasoning has a fatal flaw: removing the lockfile from the repository doesn't prevent this problem from happening. In particular:\n\n- Active contributors won't get new versions unless they explicitly remove their install artifacts (`node_modules`), which may not happen often. Problematic dependency upgrades will thus be mainly discovered by new contributors, which doesn't make for a good first experience and may deter contributions.\n\n- Even assuming you run fresh installs every week, your upgrades won't be easily reversible - once you test the most recent packages, you won't test against the less recent ones. The compatibility issues will still exist, they just will be against packages that used to work but that you don't test anymore. in other words, by always testing the most recent semver release, you won't see if you accidentally start relying on a feature that wasn't available before.\n\nOf course these points are only part of the problem - the lack of lockfile also means that key state information are missing from the repository. When months later you or your contributors want to make a fix on one of your old projects you might not even be able to _build_ it anymore, let alone improve it.\n\nLockfiles should **always** be kept within the repository. Continuous integration testing **is a good idea**, but should be left to continuous integration systems. For example, Yarn itself runs [daily tests](https://github.com/yarnpkg/berry#current-status) against the latest versions of major open-source frameworks and tools, which allows us to quickly spot any compatibility issue with the newest release, while still being guarateed that every contributor will have a consistent experience working with the project. [Dependabot](https://dependabot.com/#how-it-works) and [Renovate](https://www.whitesourcesoftware.com/free-developer-tools/renovate) are also good tools that track your dependencies updates for you.\n\n## How to share scripts between workspaces?\n\nLittle-known Yarn feature: any script with a colon in its name (`build:foo`) can be called from any workspace. Another little-known feature: `$INIT_CWD` will always point to the directory running the script. Put together, you can write scripts that can be reused this way:\n\n```json\n{\n  \"dependencies\": {\n    \"typescript\": \"^3.8.0\"\n  },\n  \"scripts\": {\n    \"g:tsc\": \"cd $INIT_CWD && tsc\"\n  }\n}\n```\n\nThen, from any workspace that contains its own `tsconfig.json`, you'll be able to call TypeScript:\n\n```json\n{\n  \"scripts\": {\n    \"build\": \"yarn g:tsc\"\n  }\n}\n```\n\nor if you only want to use `tsc` from the root workspace:\n\n```json\n{\n  \"scripts\": {\n    \"build\": \"run -T tsc\"\n  }\n}\n```\n\nShould you want to run a script in the base of your project:\n\n```json\n{\n  \"scripts\": {\n    \"build\": \"node ${PROJECT_CWD}/scripts/update-contributors.js\"\n  }\n}\n```\n\n## Is Yarn operated by Facebook?\n\n**No.**\n\nDespite the first version of Yarn having been implemented by [Sebastian McKenzie](https://twitter.com/sebmck) while working at Facebook, the initial design received feedbacks from various other companies (such as [Tilde](https://www.tilde.io) via [Yehuda Katz](https://yehudakatz.com/2016/10/11/im-excited-to-work-on-yarn-the-new-js-package-manager-2/)) and the project was put into its own [GitHub organization](https://github.com/yarnpkg). Facebook kept investing in it during the following years (mostly because it proved to be a critical part of the RN ecosystem) but major contributions came from the open-source too.\n\nNowadays, the active development team is composed exclusively of people employed by non-founders companies. Facebook employees are of course still welcome to offer contributions to the project, but they would go through the same review process as everyone else.\n\n## Why `registry.yarnpkg.com`? Does Facebook track us?\n\n**No.**\n\nWhen Yarn got created, the npm registry used to be served through Fastly. This was apparently affecting the install performances, so the initial team decided to partner with Cloudflare and setup a [reverse proxy](https://en.wikipedia.org/wiki/Reverse_proxy) that would simply better cache the requests before returning them. This setup didn't even have a backend on our side.\n\nAt some point npm switched to Cloudflare as well, and we turned off the proxy to replace it by a [CNAME](https://en.wikipedia.org/wiki/CNAME_record) ([proof](https://toolbox.googleapps.com/apps/dig/#CNAME/registry.yarnpkg.com)). We still keep the hostname for reliability reasons - while it stands to reason that the Yarn domain name will keep being maintained for as long as Yarn is being used, the same isn't necessarily true of the npm domain name. That gives us the ability to redirect to a read-only copy of the registry should the primary source become unavailable.\n\nWhile we do gather some basic [client-side telemetry](/advanced/telemetry), no http logs can ever even reach the Yarn project infrastructure - and even less Facebook, which has no control over the project (see also, [Is Yarn operated by Facebook?](/getting-started/qa#is-yarn-operated-by-facebook)).\n\n## Queries to `registry.yarnpkg.com` return a 404/500/...; is it down?\n\n**No.**\n\nAs mentioned in the [previous section](#why-registryyarnpkgcom-does-facebook-track-us), the Yarn registry is just a CNAME to the npm registry. Since we don't even have a backend, any server error can only come from the npm registry and thus should be reported to them and monitored on their [status page](https://status.npmjs.org/).\n\n## Is Yarn faster than other package managers?\n\n**Shrug **\n\nAt the time Yarn got released Yarn was effectively much faster than some of its competitors. Unfortunately, we failed to highlight that performance wasn't the main reason why we kept working on Yarn. Performances come and go, so while we were super fast it wasn't so much because we were doing something incredibly well, but rather that the competing implementations had a serious bug. When that bug got fixed, our miscommunication became more apparent as some people thought that Yarn was all about performances.\n\nPut simply, our differences lie in our priorities. Different projects make different tradeoffs, and it's exactly what happens here. We prioritized workspaces because we felt like monorepos were providing significant value. We've spent significant resources pushing for Plug'n'Play (including through [dozens of contributions to third-party projects](https://github.com/pulls?utf8=%E2%9C%93&q=is%3Apr+author%3Aarcanis+archived%3Afalse+is%3Aclosed+pnp+-user%3Ayarnpkg+)) because we felt like this was important for the ecosystem. This is the main difference: we make our own informed decisions regarding the project roadmap.\n\nSpeed is relative and a temporary state. Processes, roadmaps and core values are what stick.\n\n## Why is TypeScript patched even if I don't use Plug'n'Play?\n\nGiven that PnP is a resolver standard different from Node, tools that reimplement the `require.resolve` API need to add some logic to account for the PnP resolution. While various projects did so (for example Webpack 5 now supports PnP out of the box), a few are still on the fence about it. In the case of TypeScript we started and keep maintaining a [pull request](https://github.com/microsoft/TypeScript/pull/35206), but the TypeScript team still has to accept it. In order to unblock our users, we made the decision to automatically apply this exact pull request to the downloaded TypeScript versions, using our new [`patch:` protocol](/protocol/patch).\n\nWhich now begs the question: why do we still apply this patch even when Plug'n'Play is disabled? The main reason is that Yarn intends to provide consistent behaviour. Some setups involve using the `node_modules` linker during development (to avoid having to setup editor [SDKS](/getting-started/editor-sdks)) and PnP in production (for install speed). If we were to only apply the patches when PnP is enabled, then the package cache would turn different, which would for example break immutable installs.\n\nWe _could_ potentially make it configurable through a switch, but in the end we decided it wasn't worth the extra configuration:\n\n- The TypeScript patch is a noop if PnP isn't enabled, so this shouldn't affect your work (if it does, please open an issue)\n- We hope to eventually land this PR in TypeScript one day, so the more eyes we can get on it the higher our confidence will be\n- Since Yarn 3+, failing builtin patches are simply ignored and fallback to the original sources","src/content/docs/getting-started/extra/questions-and-answers.mdx","7400570c56f1a16a","getting-started/recipes",{"id":468,"data":470,"body":476,"filePath":477,"digest":478,"deferredRender":22},{"title":471,"description":472,"editUrl":22,"head":473,"template":189,"sidebar":474,"pagefind":22,"draft":100},"Recipes","Various cool things you can do with Yarn 2",[],{"hidden":100,"attrs":475},{},"## TypeScript + PnP quick start:\n\n- Initialize the repo using Yarn 2:\n\n```\nyarn init -2\n```\n\n- Add typescript and enable [VSCode integration](/getting-started/editor-sdks):\n\n```\nyarn add --dev typescript\nyarn dlx @yarnpkg/sdks vscode\n```\n\n## Running a Yarn CLI command in the specified directory:\n\n- Starting a new library inside a monorepo directly, without manually creating directories for it.\n\n```\nyarn packages/my-new-lib init\n```\n\n- Running an arbitrary command inside a specific workspace:\n\n```\nyarn packages/app tsc --noEmit\n```\n\n## Hybrid PnP + node_modules mono-repo:\n\nYou may sometimes need to use `node_modules` on just part of your workspace (for example, if you use React-Native).\n\n- Create a separate directory for the `node_modules` project.\n\n```\nmkdir nm-packages/myproj\ntouch nm-packages/myproj/yarn.lock\n```\n\n- Enable the `node-modules` linker :\n\n```\nyarn --cwd packages/myproj config set nodeLinker node-modules\n```\n\n- Add a PnP ignore pattern for this path in your main `.yarnrc.yml` at the root of your monorepo:\n\n```yml\npnpIgnorePatterns:\n  - ./nm-packages/**\n```\n\n- Run `yarn install` to apply `pnpIgnorePatterns` in the repo root.\n- Run `cd nm-packages/myproj && yarn` to install the now isolated project.","src/content/docs/getting-started/extra/recipes.mdx","2ae32ca47b00ac37","getting-started/editor-sdks",{"id":479,"data":481,"body":487,"filePath":488,"digest":489,"deferredRender":22},{"title":482,"description":483,"editUrl":22,"head":484,"template":189,"sidebar":485,"pagefind":22,"draft":100},"Editor SDKs","An overview of the editor SDKs used to bring PnP compatibility to editors.",[],{"hidden":100,"attrs":486},{},"Smart IDEs (such as VSCode or IntelliJ) require special configuration for TypeScript to work when using [Plug'n'Play installs](https://yarnpkg.com/features/pnp). This page is a collection of settings for each editor we've looked into.\n\nThe editor SDKs and settings can be generated using `yarn dlx @yarnpkg/sdks`. Its detailed documentation can be found on the [dedicated page](https://yarnpkg.com/cli/sdks/default).\n\n:::note\n**Why are SDKs needed with Yarn PnP?**\n\nYarn PnP works by generating a [Node.js loader](https://nodejs.org/api/esm.html#loaders), which has to be injected within the Node.js runtime. Many IDE extensions execute the packages they wrap (Prettier, TypeScript, ...) without consideration for loaders.\n\nThe SDKs workaround that by generating indirection packages. When required, these indirection automatically setup the loader before forwarding the `require` calls to the real packages.\n:::\n\n## Usage\n\nGenerate both the base SDK and the editor settings:\n\n```\nyarn dlx @yarnpkg/sdks vscode vim ...\n```\n\nGenerate the base SDK, but no editor settings:\n\n```\nyarn dlx @yarnpkg/sdks base\n```\n\nUpdate all installed SDKs & editor settings:\n\n```\nyarn dlx @yarnpkg/sdks\n```\n\n## Tools currently supported\n\n:::caution\nThe `yarn dlx @yarnpkg/sdks` command will look at the content of your _root_ `package.json` to figure out the SDKs you need - it won't look at the dependencies from any other workspaces.\n:::\n\n| Supported extension                                                                           | Enabled if ... is found in your `package.json` dependencies |\n| --------------------------------------------------------------------------------------------- | ----------------------------------------------------------- |\n| Builtin VSCode TypeScript Server                                                              | [typescript](https://yarnpkg.com/package/typescript)        |\n| [astro-vscode](https://marketplace.visualstudio.com/items?itemName=astro-build.astro-vscode)  | [astro](https://astro.build/)                               |\n| [vscode-eslint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)   | [eslint](https://yarnpkg.com/package/eslint)                |\n| [prettier-vscode](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) | [prettier](https://yarnpkg.com/package/prettier)            |\n| [relay](https://marketplace.visualstudio.com/items?itemName=meta.relay)                       | [relay](https://relay.dev/)                                 |\n\nIf you'd like to contribute more, [take a look here!](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-sdks/sources/generateSdk.ts)\n\n## Editor setup\n\n### CoC nvim\n\n1. Install [vim-rzip](https://github.com/lbrayner/vim-rzip)\n\n2. Run the following command, which will generate a `.vim/coc-settings.json` file:\n\n```bash\nyarn dlx @yarnpkg/sdks vim\n```\n\n### Emacs\n\nThe SDK comes with a typescript-language-server wrapper which enables you to use the ts-ls LSP client.\n\n1. Run the following command, which will generate a new directory called `.yarn/sdks`:\n\n```bash\nyarn dlx @yarnpkg/sdks base\n```\n\n2. Create a `.dir-locals.el` with the following content to enable Flycheck and LSP support, and make sure LSP is loaded after local variables are applied to trigger the `eval-after-load`:\n\n```lisp\n((typescript-mode\n  . ((eval . (let ((project-directory (car (dir-locals-find-file default-directory))))\n                (setq lsp-clients-typescript-server-args `(\"--tsserver-path\" ,(concat project-directory \".yarn/sdks/typescript/bin/tsserver\") \"--stdio\")))))))\n```\n\n### Neovim Native LSP\n\n1. Install [vim-rzip](https://github.com/lbrayner/vim-rzip)\n\n2. Run the following command, which will generate a new directory called `.yarn/sdks`:\n\n```bash\nyarn dlx @yarnpkg/sdks base\n```\n\nTypeScript support should then work out of the box with [nvim-lspconfig](https://github.com/neovim/nvim-lspconfig) and [theia-ide/typescript-language-server](https://github.com/theia-ide/typescript-language-server).\n\n### VSCode\n\n1. Install the [ZipFS](https://marketplace.visualstudio.com/items?itemName=arcanis.vscode-zipfs) extension, which is maintained by the Yarn team.\n\n2. Run the following command, which will generate a `.vscode/settings.json` file:\n\n```bash\nyarn dlx @yarnpkg/sdks vscode\n```\n\n3. For safety reason VSCode requires you to explicitly activate the custom TS settings:\n\n   1. Press \u003Ckbd>ctrl+shift+p\u003C/kbd> in a TypeScript file\n   2. Choose \"Select TypeScript Version\"\n   3. Pick \"Use Workspace Version\"\n\nYour VSCode project is now configured to use the exact same version of TypeScript as the one you usually use, except that it will be able to properly resolve the type definitions.","src/content/docs/getting-started/extra/editor-sdks.mdx","505f6b91cf17b267","migration/overview",{"id":490,"data":492,"body":498,"filePath":499,"digest":500,"deferredRender":22},{"title":493,"description":494,"editUrl":22,"head":495,"template":189,"sidebar":496,"pagefind":22,"draft":100},"Benefits","Learn why the Yarn team recommends to migrate from Yarn 1.x to modern releases.",[],{"order":130,"hidden":100,"attrs":497},{},"While the Yarn Classic line (1.x) remains a pillar of the JavaScript ecosystem, we recommend upgrading if possible. Why's that?\n\n- **Stability:** Yarn Modern came after **years** of experience with maintaining Classic; its design was informed by the shortcomings we saw, and as a result the software is much more stable than it ever was.\n\n- **New features:** Yarn Modern provides many new features that didn't exist in Yarn 1.x - or any other package managers for that matter. As an example, [Constraints](/features/constraints) are exclusive to Yarn Modern.\n\n- **Flexibility:** Yarn Modern supports all three installation strategies: Yarn PnP, `node_modules`, and via a pnpm-like content-addressed cache. No matter which one you prefer, you have it at your disposal.\n\n- **Extensibility:** Yarn Modern's architecture allows you to build your own features as you need it. No need to wait for us to implement this feature you hope for - you can now implement it yourself, according to your own specs, and use it straight away! Focused workspaces, custom installs, project validation, ...\n\n- **Future proof:** Yarn Modern was built after we started to see how difficult it was to build new features on Yarn Classic, with most changes having unpredictable consequences. This plateau has been solved, as evidenced by the slate of features that we released in the past few major releases.","src/content/docs/getting-started/migrating/benefits.mdx","2f79eb1d8bd276d5","migration/pnp",{"id":501,"data":503,"body":510,"filePath":511,"digest":512,"deferredRender":22},{"title":504,"description":505,"editUrl":22,"head":506,"template":189,"sidebar":507,"pagefind":22,"draft":100},"To go further: Yarn PnP","A step-by-step and in-depth migration guide from Yarn 1 (Classic) to Yarn 2 (Berry).",[],{"order":102,"label":508,"hidden":100,"attrs":509},"To go further",{},":::note\nThese steps are **completely optional**!\n\nWhile we recommend to use [Yarn Plug'n'Play](/features/pnp) for new projects, enabling it on existing projects may require a time investment. Feel free to skip this part if you prefer, and to come back to it whenever you have more time and/or a concrete benefit to get from it.\n:::\n\n## Calling the Doctor\n\nPlug'n'Play enforces strict [dependency rules](/advanced/rulebook). You'll get errors should something in your application rely on unlisted dependencies which could cause your application to become unstable.\n\nTo quickly detect which places may rely on unsafe patterns, Yarn provides a tool called the Doctor. Just run `yarn dlx @yarnpkg/doctor` in your project and the Doctor will start looking at your source files to detect any potentially problematic pattern.\n\n### Example\n\nFor example, here's what the Doctor used to say about `webpack-dev-server`:\n\n```\n YN0000: Found 1 package(s) to process\n YN0000: For a grand total of 236 file(s) to validate\n\n YN0000:  /webpack-dev-server/package.json\n YN0000:  /webpack-dev-server/test/testSequencer.js:5:19: Undeclared dependency on @jest/test-sequencer\n YN0000:  /webpack-dev-server/client-src/default/webpack.config.js:12:14: Webpack configs from non-private packages should avoid referencing loaders without require.resolve\n YN0000:  /webpack-dev-server/test/server/contentBase-option.test.js:68:8: Strings should avoid referencing the node_modules directory (prefer require.resolve)\n YN0000:  Completed in 5.12s\n\n YN0000: Failed with errors in 5.12s\n```\n\nWe can see that the Doctor spotted a couple of legitimate issues:\n\n- `testSequencer.js` depends on `@jest/test-sequencer` without listing it as a proper dependency - which would be reported as an error at runtime under Yarn Plug'n'Play, as nothing guarantees that the version of `@jest/test-sequencer` would match what the package has been tested with.\n\n- `webpack.config.js` references a loader without passing its name through `require.resolve` - this is unsafe, as it means the loader will be resolved relative to the `webpack` package, rather than `webpack-dev-server`'s dependencies.\n\n- `contentBase-option.test.js` checks the content of the `node_modules` folder - which wouldn't exist anymore under Plug'n'Play.\n\n## Enabling Yarn PnP\n\n1. Look into your `.yarnrc.yml` file for the [`nodeLinker`](/configuration/yarnrc#nodeLinker) setting.\n2. If you don't find it, or if it's set to `pnp`, then it's all good: you're already using Yarn Plug'n'Play!\n3. Otherwise, remove it from your configuration file and run `yarn install`.\n4. Commit the changes.\n\n### What to look for\n\nNow you should have a working Yarn Plug'n'Play setup, but your repository might still need some extra care. Some things to keep in mind:\n\n- There are no `node_modules` folders. Use `require.resolve` instead.\n- There are no `.bin` folders. If you relied on them, use [`yarn run bin`](#call-binaries-using-yarn-run-rather-than-node_modulesbin) instead.\n- Replace any calls to `node` that are not inside the `scripts` field by `yarn node`.\n- Custom pre-hooks (e.g. `prestart`) need to be called manually now (`yarn prestart`).\n\nAll of this and more is documented in the following sections. In general, we advise you at this point to try to run your application and see what breaks, then check here to find out tips on how to correct your install.\n\n### Editor support\n\n:::tip\nWe only cover VSCode here, but we have a dedicated [documentation page](/getting-started/editor-sdks) covering more IDEs!\n:::\n\n:::caution\nMake sure that `typescript`, `eslint`, `prettier`, ... all dependencies typically used by your IDE extensions are listed at the _top level_ of the project (rather than in an arbitrary workspace).\n:::\n\n1. Install the [ZipFS](https://marketplace.visualstudio.com/items?itemName=arcanis.vscode-zipfs) VSCode extension.\n2. Run `yarn dlx @yarnpkg/sdks vscode` and commit the changes.\n3. For TypeScript, don't forget to select [Use Workspace Version](https://code.visualstudio.com/docs/typescript/typescript-compiling#_using-the-workspace-version-of-typescript) in VSCode.\n\n## General Advices\n\n### Fix dependencies with `packageExtensions`\n\nPackages sometimes forget to list their dependencies. In the past it used to cause many subtle issues, so Yarn now defaults to prevent such unsound accesses. Still, we don't want it to prevent you from doing your work as long as you can do it in a safe and predictable way, so we came up with the [`packageExtensions`](/configuration/yarnrc#packageExtensions) setting.\n\nFor example, if `react` was to forget to list a dependency on `prop-types`, you'd fix it like this:\n\n```yaml\npackageExtensions:\n  \"react@*\":\n    dependencies:\n      prop-types: \"*\"\n```\n\nAnd if a Babel plugin was missing its peer dependency on `@babel/core`, you'd fix it with:\n\n```yaml\npackageExtensions:\n  \"@babel/plugin-something@*\":\n    peerDependencies:\n      \"@babel/core\": \"*\"\n```\n\nShould you use dependencies or peer dependencies? It depends on the context; as a rule of thumb, if the package is a singleton (for example `react`, or `react-redux` which also relies on the React context), you'll want to make it a peer dependency. In other cases, where the package is just a collection of utilities, using a regular dependency should be fine (for example `tslib`, `lodash`, etc).\n\n### Call binaries using `yarn run bin` rather than `node_modules/.bin`\n\nThe `node_modules/.bin` folder is an implementation detail, and the PnP installs don't generate it at all. Rather than relying on its existence, just use the `yarn run bin` command which can start both scripts and binaries:\n\n```bash\nyarn run jest\n# or, using the shortcut:\nyarn jest\n```\n\n### Call your scripts through `yarn node` rather than `node`\n\nWe now need to inject some variables into the environment for Node to be able to locate your dependencies. In order to make this possible, we ask you to use `yarn node` which transparently does the heavy lifting.\n\n:::note\nthis section only applies to the _shell CLI_. The commands defined in your `scripts` are unaffected, as we make sure that `node` always points to the right location, with the right variables already set.\n:::\n\n### Setup your IDE for PnP support\n\nSince Yarn Plug'n'Play doesn't generate `node_modules` folders, some IDE integrations may not work out of the box. Check our [guide](/getting-started/editor-sdks) to see how to fix them.\n\n### Take a look at our end-to-end tests\n\nWe now run daily [end-to-end tests](https://github.com/yarnpkg/berry#current-status) against various popular JavaScript tools in order to make sure that we never regress - or be notified when third-party project ship incompatible changes.\n\nConsulting the sources for those tests is a great way to check whether some special configuration values have to be set when using a particular toolchain.\n\n## Troubleshooting\n\n### `Cannot find module [...]`\n\nThis error **doesn't** come from Yarn: it's emitted by the Node.js resolution pipeline, telling you a package cannot be found on disk.\n\nIf you have enabled Plug'n'Play, then the Node.js resolution pipeline is supposed to forward resolution requests to Yarn - meaning that if you get this message, it's that this forwarding didn't occur, and your first action should be to figure out why.\n\nUsually, it'll be because you called a Node.js script using `node ./my-script` instead of `yarn node ./my-script`.\n\n### `A package is trying to access [...]`\n\nAlthough rare, some packages don't list all their dependencies. Now that we enforce boundaries between the various branches of the dependency tree, this kind of issue is more apparent than it used to be (although it's always been problematic).\n\nThe long term fix is to submit a pull request upstream to add the missing dependency to the package listing. Given that it sometimes might take some time before they get merged, we also have a more short-term fix available: create `.yarnrc.yml` in your project, then use the [`packageExtensions` setting](#fix-dependencies-with-packageextensions) to add the missing dependency to the relevant packages. Run `yarn install` to apply your changes, and voil!\n\nShould you choose to open a PR on the upstream repository, you will also be able to contribute your package extension to our [`plugin-compat` database](https://github.com/yarnpkg/berry/blob/master/packages/plugin-compat/sources/extensions.ts), helping the whole ecosystem move forward.","src/content/docs/getting-started/migrating/pnp.mdx","203f034890dd4aee","migration/guide",{"id":513,"data":515,"body":520,"filePath":521,"digest":522,"deferredRender":22},{"title":516,"description":505,"editUrl":22,"head":517,"template":189,"sidebar":518,"pagefind":22,"draft":100},"Step-by-step",[],{"order":110,"hidden":100,"attrs":519},{},":::tip\nYou may have heard about [Yarn Plug'n'Play](/features/pnp) and be worried that your project isn't compatible yet. **Don't worry!**\n\n**This migration will let you keep your `node_modules` folder**. It's only once we're done that you'll have to decide whether you want to spend time migrating to Yarn PnP. Whether you do it or stay on `node_modules`, migrating to Yarn Modern will have [many benefits](/migration/overview).\n:::\n\n:::note\nNote that those commands only need to be run once for the whole project and will automatically take effect for all your contributors as soon as they pull the branch, as long as they have [Corepack](https://nodejs.org/api/corepack.html) enabled.\n:::\n\n## Migration steps\n\n1. Make sure you're using Node 18+\n2. Run `corepack enable` to activate [Corepack](https://nodejs.org/api/corepack.html)\n3. Go into your project directory\n4. Run `yarn set version berry`\n5. Convert your `.npmrc` and `.yarnrc` files into [`.yarnrc.yml`](/configuration/yarnrc) (details [here](/migration/guide#update-your-configuration-to-the-new-settings))\n6. Run `yarn install` to migrate the lockfile\n7. Commit all changes\n\nGood, you should now have a working Yarn install! Some things might still require some adjustments in your CI scripts (for example the deprecation of [arbitrary `pre/post`-scripts](/advanced/lifecycle-scripts), or the renaming of `--frozen-lockfile` into `yarn install ! --immutable`), but at least we have a working project.\n\n## Breaking changes\n\n### Update your configuration to the new settings\n\nModern uses a different style of configuration files than Classic. While mostly invisible for the lockfile (because we convert them on the fly), it might cause issues if you rely on `.npmrc` or `.yarnrc` files.\n\n- Yarn Modern now uses `.yarnrc.yml`. Any other file is now ignored - this includes `.npmrc`.\n- As evidenced by the new file extension, the Yarnrc files are now to be written in [YAML](https://en.wikipedia.org/wiki/YAML).\n\nMost configuration keys have also been renamed to be more consistent. The comprehensive list of available settings can be found on the [`.yarnrc.yml` dedicated documentation](/configuration/yarnrc), but here are some important ones:\n\n- Custom registries are now configured via [`npmRegistryServer`](/configuration/yarnrc#npmRegistryServer).\n- Registry authentication tokens are now configured via [`npmAuthToken`](/configuration/yarnrc#npmAuthToken).\n\n### Explicitly call the `pre` and `post` scripts\n\nSome changes were made to how [lifecycle scripts](/advanced/lifecycle-scripts) work in order to clarify their purpose and remove confusing behaviors. One such change is that custom `pre` and `post` scripts are no longer supported. As a result, rewrite:\n\n```json\n{\n  \"scripts\": {\n    \"prestart\": \"do-something\",\n    \"start\": \"http-server\"\n  }\n}\n```\n\nInto:\n\n```json\n{\n  \"scripts\": {\n    \"prestart\": \"do-something\",\n    \"start\": \"yarn prestart && http-server\"\n  }\n}\n```\n\n:::note\nThis only applies to user scripts, such as `start` & friends. It's still fine to use any of `preinstall`, `install`, and `postinstall`. Consult the [script documentation](/advanced/lifecycle-scripts) for more information.\n:::\n\n### Use `yarn dlx` instead of `yarn global`\n\nYarn focuses on _project management_, and managing system-wide packages was deemed to be outside of our scope. As a result, [`yarn global` got removed](https://github.com/yarnpkg/berry/issues/821) and needs to be replaced by `yarn dlx` to run one off scripts.\n\n### Don't use `bundleDependencies`\n\nThe `bundleDependencies` field (or `bundledDependencies`) is an artifact of the past that used to let you define a set of packages that would be stored as-is within the package archive, `node_modules` and all. This feature has many problems:\n\n- It uses `node_modules`, which doesn't exist under Plug'n'Play installs.\n- It encodes the hoisting inside the package, messing with the hoisting from other packages.\n\nSo how to replace them? There are different ways:\n\n- If you need to patch a package, just fork it or reference it through the [`file:` protocol](/protocol/file) (it's perfectly fine even for transitive dependencies to use this protocol). The [`portal:`](/protocol/portal) and [`patch:`](/protocol/patch) protocols are also options, although they'll only work for Yarn consumers.\n\n- If you need to ship a package to your customers as a standalone (no dependencies), bundle it yourself using Esbuild, Webpack, Rollup, or similar tools.\n\n### Replace `nohoist` by `nmHoistingLimits`\n\nThe `nohoist` setting from Yarn Classic was built for React Native in order to support workspaces, but the way it worked (through glob patterns) was causing a lot of bugs and confusion, no one being really sure which patterns needed to be set. As a result, we've simplified this feature in order to only support three identified patterns.\n\nIf you were using `nohoist`, we recommend you remove it from your manifest configuration and instead set [`nmHoistingLimits`](/configuration/yarnrc#nmHoistingLimits) in your `.yarnrc.yml` file:\n\n```yaml\nnmHoistingLimits: workspaces\n```\n\n## CLI changes\n\n### Renamed commands\n\n| Yarn Classic (1.x)          | Yarn Modern                                                                           |\n| --------------------------- | ------------------------------------------------------------------------------------- |\n| `yarn audit`                | `yarn npm audit`                                                                      |\n| `yarn create`               | `yarn dlx create-NAME`                                                                |\n| `yarn global`               | `yarn dlx` ([Read more](#use-yarn-dlx-instead-of-yarn-global))                        |\n| `yarn info`                 | `yarn npm info`                                                                       |\n| `yarn list`                 | `yarn info -AR` (`yarn info ! --json`?)                                               |\n| `yarn login`                | `yarn npm login`                                                                      |\n| `yarn logout`               | `yarn npm logout`                                                                     |\n| `yarn outdated`             | `yarn upgrade-interactive` ([Read more](https://github.com/yarnpkg/berry/issues/749)) |\n| `yarn publish`              | `yarn npm publish`                                                                    |\n| `yarn upgrade`              | `yarn up` (note: updates all workspaces)                                              |\n| `yarn install --production` | `yarn workspaces focus --all --production`                                            |\n\n### Removed commands\n\n| \u003Cdiv style={{width: 150}}>Yarn Classic (1.x)\u003C/div> | Notes                                                                                                      |\n| -------------------------------------------------- | ---------------------------------------------------------------------------------------------------------- |\n| `yarn check`                                       | Cache integrity is now checked on regular installs - [Read more](https://github.com/yarnpkg/rfcs/pull/106) |\n| `yarn import`                                      | First import to Classic, then migrate to Yarn Modern                                                       |\n| `yarn licenses`                                    | Perfect use case for plugins - [Read more](https://github.com/yarnpkg/berry/issues/1164)                   |\n| `yarn versions`                                    | Use `yarn --version` and `node -p process.versions`                                                        |\n\n### Not implemented yet\n\nThose features simply haven't been implemented yet. Help welcome!\n\n| \u003Cdiv style={{width: 150}}>Yarn Classic (1.x)\u003C/div> | Notes                                            |\n| -------------------------------------------------- | ------------------------------------------------ |\n| `yarn owner`                                       | Will eventually be available as `yarn npm owner` |\n| `yarn team`                                        | Will eventually be available as `yarn npm team`  |","src/content/docs/getting-started/migrating/steps.mdx","0c4f8765214bcc94","advanced/architecture",{"id":523,"data":525,"body":531,"filePath":532,"digest":533,"deferredRender":22},{"title":526,"description":527,"editUrl":22,"head":528,"template":189,"sidebar":529,"pagefind":22,"draft":100},"Architecture","An overview of Yarn's architecture.",[],{"hidden":100,"attrs":530},{},"## General architecture\n\nYarn works through a core package (published as `@yarnpkg/core`) that exposes the various base components that make up a project. Some of the components are classes that you might recognize from the API: `Configuration`, `Project`, `Workspace`, `Cache`, `Manifest`, and others. All those are provided by the core package.\n\nThe core itself doesn't do much - it merely contains the logic required to manage a project. In order to use this logic from the command-line Yarn provides an indirection called `@yarnpkg/cli` which, interestingly, doesn't do much either. It however has two very important responsibilities: it hydrates a project instance based on the current directory (`cwd`), and inject the prebuilt Yarn plugins into the environment.\n\nSee, Yarn is built in modular way that allow most of the business logic related to third-party interactions to be externalized inside their own package - for example the [npm resolver](https://github.com/yarnpkg/berry/tree/master/packages/plugin-npm) is but one plugin amongst many others. This design gives us a much simpler codebase to work with (hence an increased development speed and stabler product), and offers plugin authors the ability to write their own external logic without having to modify the Yarn codebase itself.\n\n## Install architecture\n\nWhat happens when running `yarn install` can be summarized in a few different steps:\n\n1. First we enter the \"resolution step\":\n\n   - First we load the entries stored within the lockfile, then based on those data and the current state of the project (that it figures out by reading the manifest files, aka `package.json`) the core runs an internal algorithm to find out which entries are missing.\n\n   - For each of those missing entries, it queries the plugins using the [`Resolver`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Resolver.ts) interface, and asks them whether they would know about a package that would match the given descriptor ([`supportsDescriptor`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Resolver.ts#L54)) and its exact identity ([`getCandidates`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Resolver.ts#L114)) and transitive dependency list ([`resolve`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Resolver.ts#L123)).\n\n   - Once it has obtained a new list of package metadata, the core starts a new resolution pass on the transitive dependencies of the newly added packages. This will be repeated until it figures out that all packages from the dependency tree now have their metadata stored within the lockfile.\n\n   - Finally, once every package range from the dependency tree has been resolved into metadata, the core builds the tree in memory one last time in order to generate what we call \"virtual packages\". In short, those virtual packages are split instances of the same base package - we use them to disambiguate all packages that list peer dependencies, whose dependency set would change depending on their location in the dependency tree (consult [this lexicon entry](/advanced/lexicon#virtualpackages) for more information).\n\n2. Once the resolution is done, we enter the \"fetch step\":\n\n   - Now that we have the exact set of packages that make up our dependency tree, we iterate over it and for each of them we start a new request to the cache to know whether the package is anywhere to be found. If it isn't we do just like we did in the previous step and we ask our plugins (through the [`Fetcher`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Fetcher.ts) interface) whether they know about the package ([`supports`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Fetcher.ts#L43)) and if so to retrieve it from whatever its remote location is ([`fetch`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Fetcher.ts#L67)).\n\n   - Interesting tidbit regarding the fetchers: they communicate with the core through an abstraction layer over `fs`. We do this so that our packages can come from many different sources - it can be from a zip archive for packages downloaded from a registry, or from an actual directory on the disk for [`portal:`](/protocol/portal) dependencies.\n\n3. And finally, once all the packages are ready for consumption, comes the \"link step\":\n\n   - In order to work properly, the packages you use must be installed on the disk in some way. For example, in the case of a native Node application, your packages would have to be installed into a set of `node_modules` directories so that they could be located by the interpreter. That's what the linker is about. Through the [`Linker`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Linker.ts) and [`Installer`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-core/sources/Installer.ts) interfaces the Yarn core will communicate with the registered plugins to let them know about the packages listed in the dependency tree, and describe their relationships (for example it would tell them that `tapable` is a dependency of `webpack`). The plugins can then decide what to do of this information in whatever way they see fit.\n\n   - Doing this means that new linkers can be created for other programming languages pretty easily - you just need to write your own logic regarding what should happen from the packages provided by Yarn. Want to generate an `__autoload.php`? Do it! Want to setup a Python virtual env? No problem!\n\n   - Something else that's pretty cool is that the packages from within the dependency tree don't have to all be of the same type. Our plugin design allows instantiating multiple linkers simultaneously. Even better - the packages can depend on one another across linkers! You could have a JavaScript package depending on a Python package (which is technically the case of `node-gyp`, for example).","src/content/docs/advanced/technical/architecture.mdx","e8a714143c4aebcc","advanced/changelog",{"id":534,"data":536,"body":542,"filePath":543,"digest":544,"deferredRender":22},{"title":537,"description":538,"editUrl":22,"head":539,"template":189,"sidebar":540,"pagefind":22,"draft":100},"Changelog","All changes, version by version.",[],{"hidden":100,"attrs":541},{},"import Changelog from \"../../../../../CHANGELOG.md\"\n\n\u003CChangelog />","src/content/docs/advanced/technical/changelog.mdx","aeee9b08b1181de0","advanced/contributing",{"id":545,"data":547,"body":553,"filePath":554,"digest":555,"deferredRender":22},{"title":548,"description":549,"editUrl":22,"head":550,"template":189,"sidebar":551,"pagefind":22,"draft":100},"Contributing","Yarn's contributing guide.",[],{"hidden":100,"attrs":552},{},"Thanks for being here! Yarn gives a lot of importance to being a community project, and we rely on your help as much as you rely on ours. In order to help you help us, we've invested in an infra and documentation that should make contributing to Yarn very easy. If you have any feedback on what we could improve, please open an issue to discuss it!\n\n## Opening an issue\n\nIssues have to follow the issue template. Make sure to follow everything, with a special attention for the reproduction. If we can't reproduce your problem, we won't solve it.\n\n## How can you help?\n\n- Review our documentation! We often aren't native english speakers, and our grammar might be a bit off. Any help we can get that makes our documentation more digestible is appreciated!\n\n- Talk about Yarn in your local meetups! Even our users aren't always aware of some of our features. Learn, then share your knowledge with your own circles!\n\n- Help with our infra! There are always small improvements to do: run tests faster, uniformize the test names, improve the way our version numbers are setup, ...\n\n- Write code! We have so many features we want to implement, and so little time to actually do it... Any help you can afford will be appreciated, and you will have the satisfaction to know that your work helped literally millions of developers!\n\n## Finding work to do\n\nIt might be difficult to know where to start on a fresh codebase. To help a bit with this, we try to mark various issues with tags meant to highlight issues that we think don't require as much context as others:\n\n- [Good First Issue](https://github.com/yarnpkg/berry/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22) are typically self-contained features of a limited scope that are a good way to get some insight as to how Yarn works under the hood.\n\n- [Help Wanted](https://github.com/yarnpkg/berry/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22) are issues that don't require a lot of context but also have less impact than the ones who do, so no core maintainer has the bandwidth to work on them.\n\nFinally, feel free to pop on our [Discord channel](https://discordapp.com/invite/yarnpkg) to ask for help and guidance. We're always happy to see new blood, and will help you our best to make your first open-source contribution a success!\n\n## Writing your feature\n\nOur repository is set up in such a way that calling `yarn` inside it will always use the TypeScript sources themselves - you don't have to rebuild anything for your changes to be applied there (we use `esbuild` to automatically transpile the files as we require them). The downside is that it's slower than the regular Yarn, but the improved developer experience is well worth it.\n\n```bash\nyarn install # Will automatically pick up any changes you made to sources\n```\n\n## Testing your code\n\nWe currently have two testsuites, built for different purposes. The first one is unit tests and can be triggered by running the following command from anywhere within the repository:\n\n```bash\nyarn test:unit\n```\n\nWhile various subcomponents that have a strict JS interface contract are tested via unit tests (for example the portable shell library, or the various util libraries we ship), Yarn as a whole relies on integration tests. Being much closer to what our users experience, they give us a higher confidence when refactoring the application that everything will work according to plan. Those tests can be triggered by running the following command (again, from anywhere within the repository):\n\n```bash\nyarn build:cli\nyarn test:integration\n```\n\nNote that because we want to avoid adding the `esbuild` overhead to each Yarn call the CLI will need to be prebuilt for the integration tests to run - that's what the `yarn build:cli` command is for. This unfortunately means that you will need to rebuild the CLI after each modification if you want the integration tests to pick up your changes.\n\nBoth unit tests and integration tests use Jest, which means that you can filter the tests you want to run by using the `-t` flag (or simply the file path):\n\n```bash\nyarn test:unit yarnpkg-shell\nyarn test:integration -t 'it should correctly install a single dependency that contains no sub-dependencies'\n```\n\nShould you need to write a test (and you certainly will if you add a feature or fix a bug ), they are located in the following directories:\n\n- **Unit tests:** [`packages/*/tests`](https://github.com/search?utf8=%E2%9C%93&q=repo%3Ayarnpkg%2Fberry+filename%3Atest.ts+language%3ATypeScript+language%3ATypeScript&type=Code&ref=advsearch&l=TypeScript&l=TypeScript)\n- **Integration tests:** [`packages/acceptance-tests/pkg-test-specs/sources`](https://github.com/yarnpkg/berry/tree/master/packages/acceptance-tests/pkg-tests-specs/sources)\n\nThe `makeTemporaryEnv` utility generates a very basic temporary environment just for the context of your test. The first parameter will be used to generate a `package.json` file, the second to generate a `.yarnrc.yml` file, and the third is the callback that will be run once the temporary environment has been created.\n\n## Formatting your code\n\nBefore submitting your code for review, please make sure your code is properly formatted by using the following command from anywhere within the repository:\n\n```bash\nyarn test:lint\n```\n\nWe use ESLint to check this, so using the `--fix` flag will cause ESLint to attempt to automatically correct most errors that might be left in your code:\n\n```bash\nyarn test:lint --fix\n```\n\n## Checking Constraints\n\nWe use [constraints](/features/constraints) to enforce various rules across the repository. They are declared inside the [`constraints.pro` file](https://github.com/yarnpkg/berry/blob/master/constraints.pro) and their purposes are documented with comments.\n\nConstraints can be checked with `yarn constraints`, and fixed with `yarn constraints --fix`. Generally speaking:\n\n- Workspaces must not depend on conflicting ranges of dependencies. Use the `-i,--interactive` flag and select \"Reuse\" when installing dependencies and you shouldn't ever have to deal with this rule.\n\n- Workspaces must not depend on non-workspace ranges of available workspaces. Use the `-i,--interactive` flag and select \"Reuse\" or \"Attach\" when installing dependencies and you shouldn't ever have to deal with this rule.\n\n- Workspaces that are part of the standard bundle or plugins must have specific build scripts. The ones that aren't, must be declared inside the `constraints.pro` file with `inline_compile`.\n\n- Workspaces must point our repository through the `repository` field.\n\n## Preparing your PR to be released\n\nIn order to track which packages need to be released, we use the workflow described in the [following document](/features/release-workflow). To summarize, you must run `yarn version check --interactive` on each PR you make, and select which packages should be released again for your changes to be effective (and to which version), if any.\n\nYou can check if you've set everything correctly with `yarn version check`.\n\nIf you expect a package to have to be released again but Yarn doesn't offer you this choice, first check whether the name of your local branch is `master`. If that's the case, Yarn might not be able to detect your changes (since it will do it against `master`, which is yourself). Run the following commands:\n\n```bash\ngit checkout -b my-feature\ngit checkout -\ngit reset --hard upstream/master\ngit checkout -\nyarn version check --interactive\n```\n\nIf it fails and you have no idea why, feel free to ping a maintainer and we'll do our best to help you.\n\n:::note\nIf you modify one of the [default plugins](https://github.com/yarnpkg/berry#default-plugins), you will also need to bump `@yarnpkg/cli`.\n:::\n\n## Reviewing other PRs\n\nYou're welcome to leave comments if you spot glaring bugs, but do not approve PRs if you're not a member.\nIt's generally seen as [bad form](https://twitter.com/brian_d_vaughn/status/1224051534536667137) in the open source community.\n\n## Writing documentation\n\nWe use [Docusaurus](https://docusaurus.io/docs) to generate HTML pages from [mdx](https://mdxjs.com/docs/) sources files.\n\nOur website is stored within the [`packages/docusaurus`](https://github.com/yarnpkg/berry/tree/master/packages/docusaurus) directory. You can change a page by modifying the corresponding `.mdx` file in the `docs` folder. For example, you'd edit this very page [here](https://github.com/yarnpkg/berry/blob/master/packages/docusaurus/docs/advanced/04-technical/contributing.mdx).\n\nThen run the following command to spawn a local server and see your changes:\n\n```bash\nyarn start\n```\n\nOnce you're happy with what the documentation looks like, just commit your local changes and open a PR. Netlify will pick up your changes and create a fresh preview for everyone to see:\n\n![](https://user-images.githubusercontent.com/1037931/61949789-3cc09300-afac-11e9-9817-89e97771a4e1.png)\n\n## Profiling\n\nRun the following command to generate an unminified bundle:\n\n```bash\nyarn build:cli --no-minify\n```\n\nUse a profiler on the generated bundle at `packages/yarnpkg-cli/bundles/yarn.js`. Here is an example which uses the Node.js built-in profiler:\n\n```bash\nYARN_IGNORE_PATH=1 node --prof packages/yarnpkg-cli/bundles/yarn.js\n```","src/content/docs/advanced/technical/contributing.mdx","715c6144b4f698e8","protocol/exec",{"id":556,"data":558,"body":564,"filePath":565,"digest":566,"deferredRender":22},{"title":559,"description":560,"editUrl":22,"head":561,"template":189,"sidebar":562,"pagefind":22,"draft":100},"Exec Protocol","How exec dependencies work in Yarn.",[],{"hidden":100,"attrs":563},{},"The `exec:` protocol executes a Node.js script inside a temporary directory at fetch-time with a preconfigured runtime environment. This script is then expected to populate a special directory defined in the environment, and exit once the generation has finished.\n\n```\nyarn add my-pkg@exec:./package-builder.js\n```\n\n## Why would you want that\n\nTypical Yarn fetchers download packages from the internet - this works fine if the project you want to use got packaged beforehand, but fails short as soon as you need to bundle it yourself. Yarn's builtin mechanism allows you to run the `prepare` script on compatible git repositories and use the result as final package, but even that isn't always enough - you may need to clone a specific branch, go into a specific directory, run a specific build script ... all things that makes it hard for us to support every single use case.\n\nThe `exec:` protocol represents a way to define yourself how the specified package should be fetched. In a sense, it can be seen as a more high-level version of the [Fetcher API](/advanced/lexicon#fetcher) that Yarn provides.\n\n## Generator scripts & `require`\n\nBecause the generator will be called in a very special context (before any package has been installed on the disk), it won't be able to call the `require` function (not even with relative paths). Should you need very complex generators, just bundle them up beforehand in a single script using tools such as Webpack or Rollup.\n\nBecause of this restriction, and because generators will pretty much always need to use the Node builtin modules, those are made available in the global scope - in a very similar way to what the Node REPL already does. As a result, no need to manually require the `fs` module: it's available through the global `fs` variable!\n\n## Runtime environment\n\nIn order to let the script knows about the various predefined folders involved in the generation process, Yarn will inject a special `execEnv` global variable available to the script. This object's [interface](/api/plugin-exec/interface/ExecEnv) is defined as such:\n\n| Property   | Type     | Description                                                                                                                                         |\n| ---------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |\n| `tempDir`  | `string` | Absolute path of an empty temporary directory that the script is free to use. Automatically created before the script is invoked.                   |\n| `buildDir` | `string` | Absolute path of an empty directory where the script is expected to generate the package files. Automatically created before the script is invoked. |\n| `locator`  | `string` | Stringified [locator](/advanced/lexicon#locator) identifying the generator package.                                                                 |\n\nYou're free to do whatever you want inside `execEnv.tempDir` but, at the end of the execution, Yarn will expect `execEnv.buildDir` to contain the files that can be compressed into an archive and stored within the cache.\n\n## Examples\n\nGenerate an hello world package:\n\n```ts\nfs.writeFileSync(\n  path.join(execEnv.buildDir, \"package.json\"),\n  JSON.stringify({\n    name: \"hello-world\",\n    version: \"1.0.0\",\n  })\n);\n\nfs.writeFileSync(\n  path.join(execEnv.buildDir, \"index.js\"),\n  `\n  module.exports = 'hello world!';\n`\n);\n```\n\nClone a monorepo and build a specific package:\n\n```ts\nconst pathToRepo = path.join(execEnv.tempDir, \"repo\");\nconst pathToArchive = path.join(execEnv.tempDir, \"archive.tgz\");\nconst pathToSubpackage = path.join(pathToRepo, \"packages/foobar\");\n\n// Clone the repository\nchild_process.execFileSync(`git`, [\n  `clone`,\n  `git@github.com:foo/bar`,\n  pathToRepo,\n]);\n\n// Install the dependencies\nchild_process.execFileSync(`yarn`, [`install`], { cwd: pathToRepo });\n\n// Pack a specific workspace\nchild_process.execFileSync(`yarn`, [`pack`, `--out`, pathToArchive], {\n  cwd: pathToSubpackage,\n});\n\n// Send the package content into the build directory\nchild_process.execFileSync(`tar`, [\n  `-x`,\n  `-z`,\n  `--strip-components=1`,\n  `-f`,\n  pathToArchive,\n  `-C`,\n  execEnv.buildDir,\n]);\n```","src/content/docs/advanced/general-reference/protocols/exec.mdx","40c371e20f977b23","advanced/plugin-tutorial",{"id":567,"data":569,"body":575,"filePath":576,"digest":577,"deferredRender":22},{"title":570,"description":571,"editUrl":22,"head":572,"template":189,"sidebar":573,"pagefind":22,"draft":100},"Plugin Tutorial","A basic plugin tutorial which shows how to work with Yarn's plugin API.",[],{"hidden":100,"attrs":574},{},"Starting from the Yarn 2, Yarn now supports plugins. For more information about what they are and in which case you'd want to use them, consult the [dedicated page](/features/extensibility). We'll talk here about the exact steps needed to write one. It's quite simple, really!\n\n## What does a plugin look like?\n\nPlugins are scripts that get loaded at runtime by Yarn, and that can inject new behaviors into it. They also can require some packages provided by Yarn itself, such as `@yarnpkg/core`. This allows you to use the exact same core API as the Yarn binary currently in use, kinda like if it was a peer dependency!\n\n:::note\nSince plugins are loaded before Yarn starts (and thus before you make your first install), it's strongly advised to write your plugins in such a way that they work without dependencies. If that becomes difficult, know that we provide a powerful tool ([`@yarnpkg/builder`](#all-in-one-plugin-builder) that can bundle your plugins into a single Javascript file, ready to be published.\n:::\n\n## Writing our first plugin\n\nOpen in a text editor a new file called `plugin-hello-world.js`, and type the following code:\n\n```js\nmodule.exports = {\n  name: `plugin-hello-world`,\n  factory: (require) => ({\n    // What is this `require` function, you ask? It's a `require`\n    // implementation provided by Yarn core that allows you to\n    // access various packages (such as @yarnpkg/core) without\n    // having to list them in your own dependencies - hence\n    // lowering your plugin bundle size, and making sure that\n    // you'll use the exact same core modules as the rest of the\n    // application.\n    //\n    // Of course, the regular `require` implementation remains\n    // available, so feel free to use the `require` you need for\n    // your use case!\n  }),\n};\n```\n\nWe have our plugin, but now we need to register it so that Yarn knows where to find it. To do this, we'll just add an entry within the `.yarnrc.yml` file at the root of the repository:\n\n```yaml\nplugins:\n  - ./plugin-hello-world.js\n```\n\nThat's it! You have your first plugin, congratulations! Of course it doesn't do much (or anything at all, really), but we'll see how to extend it to make it more powerful.\n\n## All-in-one plugin builder\n\nAs we saw, plugins are meant to be standalone JavaScript source files. It's very possible to author them by hand, especially if you only need a small one, but once you start adding multiple commands it can become a bit more complicated. To make this process easier, we maintain a package called `@yarnpkg/builder`. This builder is to Yarn what Next.js is to web development - it's a tool designed to help creating, building, and managing complex plugins written in TypeScript.\n\nIts documentation can be found on the [dedicated page](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-builder/README.md), but remember that you're not required to use it. Sometimes good old scripts are just fine!\n\n## Adding commands\n\nPlugins can also register their own commands. To do this, we just have to write them using the [`clipanion`](https://github.com/arcanis/clipanion) library - and we don't even have to add it to our dependencies! Let's see an example:\n\n```js\nmodule.exports = {\n  name: `plugin-hello-world`,\n  factory: (require) => {\n    const { BaseCommand } = require(`@yarnpkg/cli`);\n\n    class HelloWorldCommand extends BaseCommand {\n      static paths = [[`hello`]];\n\n      async execute() {\n        this.context.stdout.write(`This is my very own plugin \\n`);\n      }\n    }\n\n    return {\n      commands: [HelloWorldCommand],\n    };\n  },\n};\n```\n\nNow, try to run `yarn hello`. You'll see your message appear! Note that you can use the full set of features provided by clipanion, including short options, long options, variadic argument lists, ... You can even validate your options using the [`typanion`](https://github.com/arcanis/typanion) library, which we provide. Here's an example where we only accept numbers as parameter:\n\n```js\nmodule.exports = {\n  name: `plugin-addition`,\n  factory: (require) => {\n    const { BaseCommand } = require(`@yarnpkg/cli`);\n    const { Command, Option } = require(`clipanion`);\n    const t = require(`typanion`);\n\n    class AdditionCommand extends BaseCommand {\n      static paths = [[`addition`]];\n\n      // Show descriptive usage for a --help argument passed to this command\n      static usage = Command.Usage({\n        description: `hello world!`,\n        details: `\n          This command will print a nice message.\n        `,\n        examples: [[`Add two numbers together`, `yarn addition 42 10`]],\n      });\n\n      a = Option.String({ validator: t.isNumber() });\n      b = Option.String({ validator: t.isNumber() });\n\n      async execute() {\n        this.context.stdout.write(`${this.a}+${this.b}=${this.a + this.b}\\n`);\n      }\n    }\n\n    return {\n      commands: [AdditionCommand],\n    };\n  },\n};\n```\n\n## Using hooks\n\nPlugins can register to various events in the Yarn lifetime, and provide them additional information to alter their behavior. To do this, you just need to declare a new `hooks` property in your plugin and add members for each hook you want to listen to:\n\n```js\nmodule.exports = {\n  name: `plugin-hello-world`,\n  factory: (require) => ({\n    hooks: {\n      setupScriptEnvironment(project, scriptEnv) {\n        scriptEnv.HELLO_WORLD = `my first plugin!`;\n      },\n    },\n  }),\n};\n```\n\nIn this example, we registered to the `setupScriptEnvironment` hook and used it to inject an argument into the environment. Now, each time you'll run a script, you'll see that your env will contain a new value called `HELLO_WORLD`!\n\nHooks are numerous, and we're still working on them. Some might be added, removed, or changed, based on your feedback. So if you'd like to do something hooks don't allow you to do yet, come tell us!\n\n## Using the Yarn API\n\nMost of Yarn's hooks are called with various arguments that tell you more about the context under which the hook is being called. The exact argument list is different for each hook, but in general they are of the types defined in the `@yarnpkg/core` library.\n\nIn this example, we will integrate with the `afterAllInstalled` hook in order to print some basic information about the dependency tree after each install. This hook gets invoked with an additional parameter that is the public `Project` instance where lie most of the information Yarn has collected about the project: dependencies, package manifests, workspace information, and so on.\n\n```js\nconst fs = require(`fs`);\nconst util = require(`util`);\n\nmodule.exports = {\n  name: `plugin-project-info`,\n  factory: (require) => {\n    const { structUtils } = require(`@yarnpkg/core`);\n\n    return {\n      default: {\n        hooks: {\n          afterAllInstalled(project) {\n            let descriptorCount = 0;\n            for (const descriptor of project.storedDescriptors.values())\n              if (!structUtils.isVirtualDescriptor(descriptor))\n                descriptorCount += 1;\n\n            let packageCount = 0;\n            for (const pkg of project.storedPackages.values())\n              if (!structUtils.isVirtualLocator(pkg)) packageCount += 1;\n\n            console.log(\n              `This project contains ${descriptorCount} different descriptors that resolve to ${packageCount} packages`\n            );\n          },\n        },\n      },\n    };\n  },\n};\n```\n\nThis is getting interesting. As you can see, we accessed the `storedDescriptors` and `storedPackages` fields from our project instance, and iterated over them to obtain the number of non-virtual items (virtual packages are described in more details [here](/advanced/lexicon#virtual-package)). This is a very simple use case, but we could have done many more things: the project root is located in the `cwd` property, the workspaces are exposed as `workspaces`, the link between descriptors and packages can be made via `storedResolutions`, ... etc.\n\nNote that we've only scratched the surface of the `Project` class instance! The Yarn core provides many other classes (and hooks) that allow you to work with the cache, download packages, trigger http requests, ... and much more. Next time you want to write a plugin, give it a look, there's almost certainly an utility there that will allow you to avoid having to reimplement the wheel.\n\n## Dynamically loading plugins using the `YARN_PLUGINS` environment variable\n\nWhile plugins are usually declared inside `.yarnrc.yml` configuration files, those represent the user-facing configuration that third-party tools shouldn't modify without the user's permission.\n\nThe `YARN_PLUGINS` environment variable is a semicolon-separated list of plugin paths that Yarn will dynamically load when called. Paths are resolved relative to the `startingCwd` Yarn is called in.\n\nPackages can use this mechanism to dynamically register plugins and query the Yarn API using commands without having to explicitly depend on the Yarn packages and deal with potential version mismatches.\n\n## Official hooks\n\nOur new website doesn't support generating the hook list yet; sorry :(","src/content/docs/advanced/technical/plugin-tutorial.mdx","701ec700e9c1b2b1","advanced/telemetry",{"id":578,"data":580,"body":586,"filePath":587,"digest":588,"deferredRender":22},{"title":581,"description":582,"editUrl":22,"head":583,"template":189,"sidebar":584,"pagefind":22,"draft":100},"Telemetry","An overview of Yarn's telemetry collection.",[],{"hidden":100,"attrs":585},{},"## Why does Yarn need some telemetry?\n\nAs maintainers, it's sometimes difficult to know what we should prioritize. Are large monorepos the most common situation our users encounter? What packageExtensions are the most common? How many people opted-out to the nm linker? Etc.\n\nAdditionally, because of the lack of telemetry, some projects also had trouble taking us seriously. Various threads in the Node docker image repositories suggested to remove Yarn from the Docker image, citing Yarn as a fringe tool. Our team doesn't have time to spend collecting the various polls from the surface of the earth, nor should we have to.\n\n## Will my information go to Facebook?\n\nNo. [Yarn is not a Facebook project](/getting-started/qa#is-yarn-operated-by-facebook), and Facebook won't receive **any** amount of data collected this way, and neither will Google, or Microsoft.\n\nThe data we collect are stored on [Datadog](https://www.datadoghq.com/), a trusted large-scale monitoring company with a heavy focus on security.\n\n## Which information are we talking about?\n\nAs of today, we collect the following:\n\n- The Yarn version\n- Which command name is used (but not its arguments)\n- The active plugin names (only for our own plugins; yours are hidden)\n- The number of installs run during the week\n- The number of different projects having been installed\n- How many installs for the nm linker\n- The number of workspaces\n- The number of dependencies\n- The packageExtensions field (name of extended + name of the extra dependency)\n- The IP address (most providers unfortunately don't let us remove that)\n\nData are sent via batches, roughly every seven days. This prevents us from tracking your usage with a too high granularity, leaving us only the most useful information to do our job efficiently.\n\n## How can I disable it?\n\nNote that, regardless of the configuration, the telemetry won't ever run on CI.\n\n- To disable it on a project (including for anyone who would clone it), run `yarn config set enableTelemetry 0`. This will make our life ever so slightly more difficult, so please consider whether it's really what you want to do.\n\n- To disable it on your whole machine (but not for anyone else), run `yarn config set --home enableTelemetry 0`.","src/content/docs/advanced/technical/telemetry.mdx","501ddb63d5c2c0b5","protocol/git",{"id":589,"data":591,"body":597,"filePath":598,"digest":599,"deferredRender":22},{"title":592,"description":593,"editUrl":22,"head":594,"template":189,"sidebar":595,"pagefind":22,"draft":100},"Git Protocol","How git dependencies work in Yarn.",[],{"hidden":100,"attrs":596},{},"The `git:` protocol fetches packages directly from a git repository. This is useful when you need to use a version of a package that has not been published to the npm registry.\n\n```\nyarn add typanion@git@github.com/arcanis/typanion.git\n```\n\n## Packing\n\nThe target repository won't be used as-is - it will first be packed using [`pack`](/cli/pack).\n\n:::note\nTo be sure the output is identical to what the linked repository would look like after being published, the packing will look at its configuration to decide which package manager to use.\n\nIn other words, the project will be packed using Yarn if there's a `yarn.lock`, npm if there's a `package-lock.json`, or pnpm if there's a `pnpm-lock.yaml`.\n:::\n\n## Commit pinning\n\nYou can explicitly request a tag, commit, branch, or semver tag, by using one of those keywords (if you're missing the keyword, Yarn will look for the first thing that seems to match, as in prior versions):\n\n```\ngit@github.com:yarnpkg/berry.git#tag=@yarnpkg/cli/2.2.0\ngit@github.com:yarnpkg/berry.git#commit=a806c88\ngit@github.com:yarnpkg/berry.git#head=master\n```\n\n## Workspaces support\n\nWorkspaces can be cloned as long as the remote repository uses Yarn (or npm, in which case npm@>=7.x has to be installed on the system):\n\n```\ngit@github.com:yarnpkg/berry.git#workspace=@yarnpkg/shell&tag=@yarnpkg/shell/2.1.0\n```\n\n:::caution\nNot all package managers support installing workspaces from git repositories; you shouldn't rely on this feature in your `dependencies` field if your package is meant to be published.\n:::","src/content/docs/advanced/general-reference/protocols/git.mdx","b474c449938dca8c","protocol/file",{"id":600,"data":602,"body":608,"filePath":609,"digest":610,"deferredRender":22},{"title":603,"description":604,"editUrl":22,"head":605,"template":189,"sidebar":606,"pagefind":22,"draft":100},"File Protocol","How file dependencies work in Yarn.",[],{"hidden":100,"attrs":607},{},"The `file:` protocol fetches a package from a local path. This can be useful for testing packages locally before publishing them to the npm registry, or distributing a particular dependency without relying on the version from the npm registry.\n\n```\nyarn add my-pkg@file:./relative/path/to/dependency/folder\n```\n\n## Packing\n\n:::caution\nUnlike [`git:` dependencies](/protocol/git), the folder pointed to by `file:` is not packed before being imported in the project. This is something we'll likely fix in a future major version.\n:::\n\n## Folder-based links\n\nWhen `file:` points to a folder, Yarn will copy it rather than directly reference its sources. For the `node_modules` linker, it means that the content of the generated `node_modules` will be unique files, and that changes performed there won't affect the original source folder.\n\n```\nfile:./relative/path/to/package.tgz\n```\n\n## Tarball-based links\n\nWhen `file:` points to a `.tgz` file, Yarn will transparently let you require files from within the archive. For the `node_modules` linker, it means that the archive will be unpacked into the generated `node_modules` folder.","src/content/docs/advanced/general-reference/protocols/file.mdx","0859e8cb5a144749","protocol/jsr",{"id":611,"data":613,"body":619,"filePath":620,"digest":621,"deferredRender":22},{"title":614,"description":615,"editUrl":22,"head":616,"template":189,"sidebar":617,"pagefind":22,"draft":100},"JSR Protocol","How JSR dependencies work in Yarn.",[],{"hidden":100,"attrs":618},{},"The `jsr:` protocol fetches packages from the [JSR registry](https://jsr.io/).\n\n```\nyarn add @luca/flag@jsr:2.0.0\n```\n\nNote that because the JSR registry is responsible for compiling packages from TypeScript to JavaScript they sometimes re-pack packages. As a result, the Yarn lockfile contains the full tarball URLs.\n\nQuoting the [JSR documentation](https://jsr.io/docs/npm-compatibility):\n\n> The specific tarballs advertised for a given version of a package may change over time, even if the version itself is not changed. This is because the JSR registry may re-generate npm compatible tarballs for a package version to fix compatibility issues with npm or improve the transpile output in the generated tarball. We refer to this as the revision of a tarball. The revision of a tarball is not advertised in the npm registry endpoint, but it is included in the URL of the tarball itself and is included in the `package.json` file in the tarball at the `_jsr_revision` field. The revision of a tarball is not considered part of the package version, and does not affect semver resolution.\n>\n> However, tarball URLs are immutable. Tools that have a reference to a specific tarball URL will always be able to download that exact tarball. When a new revision of a tarball is generated, the old tarball is not deleted and will continue to be available at the same URL. The new tarball will be available at a new URL that includes the new revision.\n>\n> Because the tarball URL is included in package manager lock files, running `npm i` / `yarn` / `pnpm i` will never accidentally download a new revision of the tarball.","src/content/docs/advanced/general-reference/protocols/jsr.mdx","fa896f64100494e9","protocol/npm",{"id":622,"data":624,"body":630,"filePath":631,"digest":632,"deferredRender":22},{"title":625,"description":626,"editUrl":22,"head":627,"template":189,"sidebar":628,"pagefind":22,"draft":100},"Npm Protocol","How npm dependencies work in Yarn.",[],{"hidden":100,"attrs":629},{},"The default `npm:` protocol fetches packages from the npm registry. This is the protocol used by default if no protocol is specified in the package version.\n\n```\nyarn add react@17.0.2\n```","src/content/docs/advanced/general-reference/protocols/npm.mdx","bc78674535796709","protocol/link",{"id":633,"data":635,"body":641,"filePath":642,"digest":643,"deferredRender":22},{"title":636,"description":637,"editUrl":22,"head":638,"template":189,"sidebar":639,"pagefind":22,"draft":100},"Link Protocol","How link dependencies work in Yarn.",[],{"hidden":100,"attrs":640},{},"The `link:` protocol lets you connect your project to an external directory.\n\n```\nyarn add imgs@link:./static/imgs\n```\n\n## Links vs portals\n\nSince the target referenced by `link:` may not exist until postinstall scripts have run, and since Yarn guarantees a predictable behavior regardless of the execution order, we need to disambiguate _packages_ (which contain `package.json` files, and may list dependencies of their own) from _arbitrary folders_ (which may not).\n\nIn practice, this means that `link:` dependencies can only point to arbitrary folders - in other words, whatever it references cannot have a `package.json` file, and thus can't have dependencies. If you need to symlink to a _package_, use [portals](/protocol/portal) instead.","src/content/docs/advanced/general-reference/protocols/link.mdx","bdbcadc1b8d4aac1","protocol/patch",{"id":644,"data":646,"body":652,"filePath":653,"digest":654,"deferredRender":22},{"title":647,"description":648,"editUrl":22,"head":649,"template":189,"sidebar":650,"pagefind":22,"draft":100},"Patch Protocol","How patch dependencies work in Yarn.",[],{"hidden":100,"attrs":651},{},"The `patch:` protocol applies a patch to the package source. This is useful for applying bug fixes that have not yet been merged into the main package source.\n\n```\nyarn add @types/react@patch:@types/react@18.0.0#./my-patches/react-types.patch\n```\n\n## Generating a patch\n\nPatches are meant to be generated by the [`yarn patch`](/cli/patch) workflow rather than created manually.\n\nCheck the [patching documentation](/features/patching) for all details.","src/content/docs/advanced/general-reference/protocols/patch.mdx","63be1a598abaf6dc","protocol/workspace",{"id":655,"data":657,"body":663,"filePath":664,"digest":665,"deferredRender":22},{"title":658,"description":659,"editUrl":22,"head":660,"template":189,"sidebar":661,"pagefind":22,"draft":100},"Workspace Protocol","How workspace dependencies work in Yarn.",[],{"hidden":100,"attrs":662},{},"The `workspace:` protocol can be used to reference other workspaces in a monorepo setup. For more information, consult the dedicated page about [workspaces](/features/workspaces).\n\n```\nyarn add lib@workspace:^\n```","src/content/docs/advanced/general-reference/protocols/workspace.mdx","c0b6c8e99d830cab","protocol/portal",{"id":666,"data":668,"body":674,"filePath":675,"digest":676,"deferredRender":22},{"title":669,"description":670,"editUrl":22,"head":671,"template":189,"sidebar":672,"pagefind":22,"draft":100},"Portal Protocol","How portal dependencies work in Yarn.",[],{"hidden":100,"attrs":673},{},"The `portal:` protocol is similar to the [`link:` protocol](/protocol/link) (it must be a relative path to a folder which will be made available without copies), but the target is assumed to be a [package](/advanced/lexicon#package) instead.\n\n```\nyarn add react-dom@portal:./my-react-dom\n```\n\n## Portals vs links\n\nLinks have to operate under the assumption that their target folder may not exist until the install is finished; this prevents them from reading the content of the folder, including any `package.json` files, and in turn preventing them from listing dependencies.\n\nPortals, on the other hand, must exist at resolution time or an error is thrown. This lets them read the content of the `package.json` file and be treated like any other package in the dependency tree - except that its content will be made directly available to the user, rather than copied [like `file:` would do](/protocol/file).","src/content/docs/advanced/general-reference/protocols/portal.mdx","0e83323209615a8f","cli/pnpify/pnpify/run",{"id":677,"data":679,"body":685,"filePath":686,"digest":687,"deferredRender":22},{"title":680,"description":681,"editUrl":22,"head":682,"template":189,"sidebar":683,"pagefind":22,"draft":100},"yarn pnpify run","run a command with a virtual node_modules folder",[],{"hidden":100,"attrs":684},{},"import { Code } from \"@astrojs/starlight/components\";\n\n:::note\nTo use this command, you need to use the [`@yarnpkg/pnpify`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-pnpify/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003Cdiv className=\"subtitle\">\nRun a command with a virtual node_modules folder\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn pnpify run\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Run Angular using PnPify\n:\u003C/p>\n\u003CCode code=\"yarn pnpify ng build\" lang=\"bash\" />\n\n## Details\nWhen a non-PnP-compliant project tries to access the `node_modules` directories \n(for example through `readdir` or `readFile`), PnPify intercepts those calls and \nconverts them into calls to the PnP API. Then, based on the result, it simulates \nthe existence of a virtual `node_modules` folder that the underlying tool will \nthen consume - still unaware that the files are extracted from a virtual \nfilesystem.\n\nThe `run` keyword can be omitted if the executed command doesn't conflict with \nbuilt-in commands.\n\nFor more details on PnPify, please consult the dedicated page from our website: \nhttps://yarnpkg.com/advanced/pnpify.","src/content/docs/cli/pnpify/pnpify-run.mdx","45f4f8b8f8b16415","cli/pnpify",{"id":688,"data":690,"body":695,"filePath":696,"digest":697,"deferredRender":22},{"title":136,"description":691,"editUrl":22,"head":692,"template":189,"sidebar":693,"pagefind":22,"draft":100},"Documentation for all pnpify package commands",[],{"hidden":100,"attrs":694},{},"import { Card, CardGrid, LinkCard } from \"@astrojs/starlight/components\";\n\n:::note\nTo use these commands, you need to use the [`@yarnpkg/pnpify`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-pnpify/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003CLinkCard \ntitle=\"yarn pnpify run\" \nhref=\"/cli/pnpify/run\" \ndescription=\"run a command with a virtual node_modules folder\n\"\n/>","src/content/docs/cli/pnpify/index.mdx","e39cbc73de67afb0","cli/sdks",{"id":698,"data":700,"body":705,"filePath":706,"digest":707,"deferredRender":22},{"title":142,"description":701,"editUrl":22,"head":702,"template":189,"sidebar":703,"pagefind":22,"draft":100},"Documentation for all sdks package commands",[],{"hidden":100,"attrs":704},{},"import { Card, CardGrid, LinkCard } from \"@astrojs/starlight/components\";\n\n:::note\nTo use these commands, you need to use the [`@yarnpkg/sdks`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-sdks/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003CLinkCard \ntitle=\"yarn sdks\" \nhref=\"/cli/sdks/sdks\" \ndescription=\"generate editor SDKs and settings\n\"\n/>","src/content/docs/cli/sdks/index.mdx","f818e087479cc7bc","cli/pnpify/run",{"id":708,"data":710,"body":714,"filePath":715,"digest":716,"deferredRender":22},{"title":680,"description":681,"editUrl":22,"head":711,"template":189,"sidebar":712,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":713},{},"import { Code } from \"@astrojs/starlight/components\";\n\n:::note\nTo use this command, you need to use the [`@yarnpkg/pnpify`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-pnpify/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003Cdiv className=\"subtitle\">\nrun a command with a virtual node_modules folder\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn pnpify run\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Run Angular using PnPify\n:\u003C/p>\n\u003CCode code=\"yarn pnpify ng build\" lang=\"bash\" />\n\n## Details\nWhen a non-PnP-compliant project tries to access the `node_modules` directories \n(for example through `readdir` or `readFile`), PnPify intercepts those calls and \nconverts them into calls to the PnP API. Then, based on the result, it simulates \nthe existence of a virtual `node_modules` folder that the underlying tool will \nthen consume - still unaware that the files are extracted from a virtual \nfilesystem.\n\nThe `run` keyword can be omitted if the executed command doesn't conflict with \nbuilt-in commands.\n\nFor more details on PnPify, please consult the dedicated page from our website: \nhttps://yarnpkg.com/advanced/pnpify.","src/content/docs/cli/pnpify/run.mdx","21c3cc12ae805a80","cli/sdks/sdks",{"id":717,"data":719,"body":725,"filePath":726,"digest":727,"deferredRender":22},{"title":720,"description":721,"editUrl":22,"head":722,"template":189,"sidebar":723,"pagefind":22,"draft":100},"yarn sdks","generate editor SDKs and settings",[],{"hidden":100,"attrs":724},{},"import { Code } from \"@astrojs/starlight/components\";\n\n:::note\nTo use this command, you need to use the [`@yarnpkg/sdks`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-sdks/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003Cdiv className=\"subtitle\">\ngenerate editor SDKs and settings\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn sdks\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Generate the base SDKs\n:\u003C/p>\n\u003CCode code=\"yarn sdks base\" lang=\"bash\" />\n\n\u003Cp>Generate the base SDKs and editor settings for supported editors\n:\u003C/p>\n\u003CCode code=\"yarn sdks vscode vim\" lang=\"bash\" />\n\n\u003Cp>Update all generated SDKs and editor settings\n:\u003C/p>\n\u003CCode code=\"yarn sdks\" lang=\"bash\" />\n\n## Details\nThis command generates a new directory, `.yarn/sdks`, which includes the base \nSDKs.\n\nWhen used without arguments, it:\n\n- throws an error on non-pnpified projects\n\n- updates all existing SDKs and editor settings on already-pnpified projects\n\nThe optional integrations arguments are a set of supported integrations, or the \nkeyword `base`.\n\n- When `base` is used, only the base SDKs will be generated. This is useful for \nwhen an editor is not yet supported and you plan to manage the settings \nyourself.\n\n- When a set of integrations is used (e.g. `vscode`, `vim`, ...), the base SDKs \nwill be installed plus all the settings relevant to the corresponding \nenvironments (for example on VSCode it would set `typescript.tsdk`).\n\nThe supported integrations at this time are: `vim`, `vscode`.\n\n**Note:** This command always updates the already-installed SDKs and editor \nsettings, no matter which arguments are passed.\n\nFor more details on Editor SDKs, please consult the dedicated page from our \nwebsite: https://yarnpkg.com/getting-started/editor-sdks.","src/content/docs/cli/sdks/sdks.mdx","f069372abe079a0d","cli/add",{"id":728,"data":730,"body":736,"filePath":737,"digest":738,"deferredRender":22},{"title":731,"description":732,"editUrl":22,"head":733,"template":189,"sidebar":734,"pagefind":22,"draft":100},"yarn npm tag add","add a tag for a specific version of a package",[],{"hidden":100,"attrs":735},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nadd a tag for a specific version of a package\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm tag add \u003Cpackage> \u003Ctag>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Add a `beta` tag for version `2.3.4-beta.4` of package `my-pkg`\n:\u003C/p>\n\u003CCode code=\"yarn npm tag add my-pkg@2.3.4-beta.4 beta\" lang=\"bash\" />\n\n## Details\nThis command will add a tag to the npm registry for a specific version of a \npackage. If the tag already exists, it will be overwritten.d lodash@https://github.com/lodash/lodash\" lang=\"bash\" />\n\n\u003Cp>Add a package from a GitHub repository (the master branch) to the current workspace using the GitHub protocol\n:\u003C/p>\n\u003CCode code=\"yarn add lodash@github:lodash/lodash\" lang=\"bash\" />\n\n\u003Cp>Add a package from a GitHub repository (the master branch) to the current workspace using the GitHub protocol (shorthand)\n:\u003C/p>\n\u003CCode code=\"yarn add lodash@lodash/lodash\" lang=\"bash\" />\n\n\u003Cp>Add a package from a specific branch of a GitHub repository to the current workspace using the GitHub protocol (shorthand)\n:\u003C/p>\n\u003CCode code=\"yarn add lodash-es@lodash/lodash#es\" lang=\"bash\" />\n\n\u003Cp>Add a local package (gzipped tarball format) to the current workspace\n:\u003C/p>\n\u003CCode code=\"yarn add local-package-name@file:../path/to/local-package-name-v0.1.2.tgz\" lang=\"bash\" />\n\n## Details\nThis command adds a package to the package.json for the nearest workspace.\n\n- If it didn't exist before, the package will by default be added to the regular \n`dependencies` field, but this behavior can be overriden thanks to the \n`-D,--dev` flag (which will cause the dependency to be added to the \n`devDependencies` field instead) and the `-P,--peer` flag (which will do the \nsame but for `peerDependencies`).\n\n- If the package was already listed in your dependencies, it will by default be \nupgraded whether it's part of your `dependencies` or `devDependencies` (it \nwon't ever update `peerDependencies`, though).\n\n- If set, the `--prefer-dev` flag will operate as a more flexible `-D,--dev` in \nthat it will add the package to your `devDependencies` if it isn't already \nlisted in either `dependencies` or `devDependencies`, but it will also happily \nupgrade your `dependencies` if that's what you already use (whereas `-D,--dev` \nwould throw an exception).\n\n- If set, the `-O,--optional` flag will add the package to the \n`optionalDependencies` field and, in combination with the `-P,--peer` flag, it \nwill add the package as an optional peer dependency. If the package was \nalready listed in your `dependencies`, it will be upgraded to \n`optionalDependencies`. If the package was already listed in your \n`peerDependencies`, in combination with the `-P,--peer` flag, it will be \nupgraded to an optional peer dependency: `\"peerDependenciesMeta\": { \n\"\u003Cpackage>\": { \"optional\": true } }`\n\n- If the added package doesn't specify a range at all its `latest` tag will be \nresolved and the returned version will be used to generate a new semver range \n(using the `^` modifier by default unless otherwise configured via the \n`defaultSemverRangePrefix` configuration, or the `~` modifier if `-T,--tilde` \nis specified, or no modifier at all if `-E,--exact` is specified). Two \nexceptions to this rule: the first one is that if the package is a workspace \nthen its local version will be used, and the second one is that if you use \n`-P,--peer` the default range will be `*` and won't be resolved at all.\n\n- If the added package specifies a range (such as `^1.0.0`, `latest`, or `rc`), \nYarn will add this range as-is in the resulting package.json entry (in \nparticular, tags such as `rc` will be encoded as-is rather than being \nconverted into a semver range).\n\nIf the `--cached` option is used, Yarn will preferably reuse the highest version \nalready used somewhere within the project, even if through a transitive \ndependency.\n\nIf the `-i,--interactive` option is used (or if the `preferInteractive` settings \nis toggled on) the command will first try to check whether other workspaces in \nthe project use the specified package and, if so, will offer to reuse them.\n\nIf the `--mode=\u003Cmode>` option is set, Yarn will change which artifacts are \ngenerated. The modes currently supported are:\n\n- `skip-build` will not run the build scripts at all. Note that this is \ndifferent from setting `enableScripts` to false because the latter will \ndisable build scripts, and thus affect the content of the artifacts generated \non disk, whereas the former will just disable the build step - but not the \nscripts themselves, which just won't run.\n\n- `update-lockfile` will skip the link step altogether, and only fetch packages \nthat are missing from the lockfile (or that have no associated checksums). \nThis mode is typically used by tools like Renovate or Dependabot to keep a \nlockfile up-to-date without incurring the full install cost.\n\nFor a compilation of all the supported protocols, please consult the dedicated \npage from our website: https://yarnpkg.com/protocols.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-F%2C-fixed\" className=\"header-code\">\u003Ccode className=\"language-text\">-F,--fixed\u003C/code>\u003C/h4> | Store dependency tags as-is instead of resolving them |\n| \u003Ch4 id=\"options-E%2C-exact\" className=\"header-code\">\u003Ccode className=\"language-text\">-E,--exact\u003C/code>\u003C/h4> | Don't use any semver modifier on the resolved range |\n| \u003Ch4 id=\"options-T%2C-tilde\" className=\"header-code\">\u003Ccode className=\"language-text\">-T,--tilde\u003C/code>\u003C/h4> | Use the `~` semver modifier on the resolved range |\n| \u003Ch4 id=\"options-C%2C-caret\" className=\"header-code\">\u003Ccode className=\"language-text\">-C,--caret\u003C/code>\u003C/h4> | Use the `^` semver modifier on the resolved range |\n| \u003Ch4 id=\"options-D%2C-dev\" className=\"header-code\">\u003Ccode className=\"language-text\">-D,--dev\u003C/code>\u003C/h4> | Add a package as a dev dependency |\n| \u003Ch4 id=\"options-P%2C-peer\" className=\"header-code\">\u003Ccode className=\"language-text\">-P,--peer\u003C/code>\u003C/h4> | Add a package as a peer dependency |\n| \u003Ch4 id=\"options-O%2C-optional\" className=\"header-code\">\u003Ccode className=\"language-text\">-O,--optional\u003C/code>\u003C/h4> | Add / upgrade a package to an optional regular / peer dependency |\n| \u003Ch4 id=\"options-prefer-dev\" className=\"header-code\">\u003Ccode className=\"language-text\">--prefer-dev\u003C/code>\u003C/h4> | Add / upgrade a package to a dev dependency |\n| \u003Ch4 id=\"options-i%2C-interactive\" className=\"header-code\">\u003Ccode className=\"language-text\">-i,--interactive\u003C/code>\u003C/h4> | Reuse the specified package from other workspaces in the project |\n| \u003Ch4 id=\"options-cached\" className=\"header-code\">\u003Ccode className=\"language-text\">--cached\u003C/code>\u003C/h4> | Reuse the highest version already used somewhere within the project |\n| \u003Ch4 id=\"options-mode%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--mode #0\u003C/code>\u003C/h4> | Change what artifacts installs generate |","src/content/docs/cli/cli/add.mdx","871eea9981955ad1","cli/audit",{"id":739,"data":741,"body":747,"filePath":748,"digest":749,"deferredRender":22},{"title":742,"description":743,"editUrl":22,"head":744,"template":189,"sidebar":745,"pagefind":22,"draft":100},"yarn npm audit","perform a vulnerability audit against the installed packages",[],{"hidden":100,"attrs":746},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nperform a vulnerability audit against the installed packages\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm audit\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Checks for known security issues with the installed packages. The output is a list of known issues.\n:\u003C/p>\n\u003CCode code=\"yarn npm audit\" lang=\"bash\" />\n\n\u003Cp>Audit dependencies in all workspaces\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --all\" lang=\"bash\" />\n\n\u003Cp>Limit auditing to `dependencies` (excludes `devDependencies`)\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --environment production\" lang=\"bash\" />\n\n\u003Cp>Show audit report as valid JSON\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --json\" lang=\"bash\" />\n\n\u003Cp>Audit all direct and transitive dependencies\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --recursive\" lang=\"bash\" />\n\n\u003Cp>Output moderate (or more severe) vulnerabilities\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --severity moderate\" lang=\"bash\" />\n\n\u003Cp>Exclude certain packages\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --exclude package1 --exclude package2\" lang=\"bash\" />\n\n\u003Cp>Ignore specific advisories\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --ignore 1234567 --ignore 7654321\" lang=\"bash\" />\n\n## Details\nThis command checks for known security reports on the packages you use. The \nreports are by default extracted from the npm registry, and may or may not be \nrelevant to your actual program (not all vulnerabilities affect all code paths).\n\nFor consistency with our other commands the default is to only check the direct \ndependencies for the active workspace. To extend this search to all workspaces, \nuse `-A,--all`. To extend this search to both direct and transitive \ndependencies, use `-R,--recursive`.\n\nApplying the `--severity` flag will limit the audit table to vulnerabilities of \nthe corresponding severity and above. Valid values are `info`, `low`, \n`moderate`, `high`, `critical`.\n\nIf the `--json` flag is set, Yarn will print the output exactly as received from \nthe registry. Regardless of this flag, the process will exit with a non-zero \nexit code if a report is found for the selected packages.\n\nIf certain packages produce false positives for a particular environment, the \n`--exclude` flag can be used to exclude any number of packages from the audit. \nThis can also be set in the configuration file with the \n`npmAuditExcludePackages` option.\n\nIf particular advisories are needed to be ignored, the `--ignore` flag can be \nused with Advisory ID's to ignore any number of advisories in the audit report. \nThis can also be set in the configuration file with the \n`npmAuditIgnoreAdvisories` option.\n\nTo understand the dependency tree requiring vulnerable packages, check the raw \nreport with the `--json` flag or use `yarn why package` to get more information \nas to who depends on them.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Audit dependencies from all workspaces |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | Audit transitive dependencies as well |\n| \u003Ch4 id=\"options-environment%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--environment #0\u003C/code>\u003C/h4> | Which environments to cover |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-no-deprecations\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-deprecations\u003C/code>\u003C/h4> | Don't warn about deprecated packages |\n| \u003Ch4 id=\"options-severity%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--severity #0\u003C/code>\u003C/h4> | Minimal severity requested for packages to be displayed |\n| \u003Ch4 id=\"options-exclude%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--exclude #0\u003C/code>\u003C/h4> | Array of glob patterns of packages to exclude from audit |\n| \u003Ch4 id=\"options-ignore%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--ignore #0\u003C/code>\u003C/h4> | Array of glob patterns of advisory ID's to ignore in the audit report |","src/content/docs/cli/cli/audit.mdx","d0e2d56197929f70","cli/apply",{"id":750,"data":752,"body":758,"filePath":759,"digest":760,"deferredRender":22},{"title":753,"description":754,"editUrl":22,"head":755,"template":189,"sidebar":756,"pagefind":22,"draft":100},"yarn version apply","apply all the deferred version bumps at once",[],{"hidden":100,"attrs":757},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\napply all the deferred version bumps at once\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn version apply\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Apply the version change to the local workspace\n:\u003C/p>\n\u003CCode code=\"yarn version apply\" lang=\"bash\" />\n\n\u003Cp>Apply the version change to all the workspaces in the local workspace\n:\u003C/p>\n\u003CCode code=\"yarn version apply --all\" lang=\"bash\" />\n\n## Details\nThis command will apply the deferred version changes and remove their \ndefinitions from the repository.\n\nNote that if `--prerelease` is set, the given prerelease identifier (by default \n`rc.%n`) will be used on all new versions and the version definitions will be \nkept as-is.\n\nBy default only the current workspace will be bumped, but you can configure this \nbehavior by using one of:\n\n- `--recursive` to also apply the version bump on its dependencies\n\n- `--all` to apply the version bump on all packages in the repository\n\nNote that this command will also update the `workspace:` references across all \nyour local workspaces, thus ensuring that they keep referring to the same \nworkspaces even after the version bump.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-all\" className=\"header-code\">\u003Ccode className=\"language-text\">--all\u003C/code>\u003C/h4> | Apply the deferred version changes on all workspaces |\n| \u003Ch4 id=\"options-dry-run\" className=\"header-code\">\u003Ccode className=\"language-text\">--dry-run\u003C/code>\u003C/h4> | Print the versions without actually generating the package archive |\n| \u003Ch4 id=\"options-prerelease\" className=\"header-code\">\u003Ccode className=\"language-text\">--prerelease\u003C/code>\u003C/h4> | Add a prerelease identifier to new versions |\n| \u003Ch4 id=\"options-exact\" className=\"header-code\">\u003Ccode className=\"language-text\">--exact\u003C/code>\u003C/h4> | Use the exact version of each package, removes any range. Useful for nightly releases where the range might match another version. |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | Release the transitive workspaces as well |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/apply.mdx","ed7e9b0cf32d77cc","cli/cache/clean",{"id":761,"data":763,"body":769,"filePath":770,"digest":771,"deferredRender":22},{"title":764,"description":765,"editUrl":22,"head":766,"template":189,"sidebar":767,"pagefind":22,"draft":100},"yarn cache clean","remove the shared cache files",[],{"hidden":100,"attrs":768},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nRemove the shared cache files\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn cache clean\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Remove all the local archives\n:\u003C/p>\n\u003CCode code=\"yarn cache clean\" lang=\"bash\" />\n\n\u003Cp>Remove all the archives stored in the ~/.yarn directory\n:\u003C/p>\n\u003CCode code=\"yarn cache clean --mirror\" lang=\"bash\" />\n\n## Details\nThis command will remove all the files from the cache.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-mirror\" className=\"header-code\">\u003Ccode className=\"language-text\">--mirror\u003C/code>\u003C/h4> | Remove the global cache files instead of the local cache files |\n| \u003Ch4 id=\"options-all\" className=\"header-code\">\u003Ccode className=\"language-text\">--all\u003C/code>\u003C/h4> | Remove both the global cache files and the local cache files of the current project |","src/content/docs/cli/cli/cache-clean.mdx","9a759013933536d1","cli/clean",{"id":772,"data":774,"body":778,"filePath":779,"digest":780,"deferredRender":22},{"title":764,"description":765,"editUrl":22,"head":775,"template":189,"sidebar":776,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":777},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nremove the shared cache files\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn cache clean\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Remove all the local archives\n:\u003C/p>\n\u003CCode code=\"yarn cache clean\" lang=\"bash\" />\n\n\u003Cp>Remove all the archives stored in the ~/.yarn directory\n:\u003C/p>\n\u003CCode code=\"yarn cache clean --mirror\" lang=\"bash\" />\n\n## Details\nThis command will remove all the files from the cache.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-mirror\" className=\"header-code\">\u003Ccode className=\"language-text\">--mirror\u003C/code>\u003C/h4> | Remove the global cache files instead of the local cache files |\n| \u003Ch4 id=\"options-all\" className=\"header-code\">\u003Ccode className=\"language-text\">--all\u003C/code>\u003C/h4> | Remove both the global cache files and the local cache files of the current project |","src/content/docs/cli/cli/clean.mdx","50e38629669722e2","cli/check",{"id":781,"data":783,"body":789,"filePath":790,"digest":791,"deferredRender":22},{"title":784,"description":785,"editUrl":22,"head":786,"template":189,"sidebar":787,"pagefind":22,"draft":100},"yarn version check","check that all the relevant packages have been bumped",[],{"hidden":100,"attrs":788},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ncheck that all the relevant packages have been bumped\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn version check\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Check whether the modified packages need a bump\n:\u003C/p>\n\u003CCode code=\"yarn version check\" lang=\"bash\" />\n\n## Details\n**Warning:** This command currently requires Git.\n\nThis command will check that all the packages covered by the files listed in \nargument have been properly bumped or declined to bump.\n\nIn the case of a bump, the check will also cover transitive packages - meaning \nthat should `Foo` be bumped, a package `Bar` depending on `Foo` will require a \ndecision as to whether `Bar` will need to be bumped. This check doesn't cross \npackages that have declined to bump.\n\nIn case no arguments are passed to the function, the list of modified files will \nbe generated by comparing the HEAD against `master`.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-i%2C-interactive\" className=\"header-code\">\u003Ccode className=\"language-text\">-i,--interactive\u003C/code>\u003C/h4> | Open an interactive interface used to set version bumps |","src/content/docs/cli/cli/check.mdx","2d9ede3205810cf4","cli/bin",{"id":792,"data":794,"body":800,"filePath":801,"digest":802,"deferredRender":22},{"title":795,"description":796,"editUrl":22,"head":797,"template":189,"sidebar":798,"pagefind":22,"draft":100},"yarn bin","get the path to a binary script",[],{"hidden":100,"attrs":799},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nget the path to a binary script\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn bin [name]\" lang=\"bash\" />\n\n## Examples\n\u003Cp>List all the available binaries\n:\u003C/p>\n\u003CCode code=\"yarn bin\" lang=\"bash\" />\n\n\u003Cp>Print the path to a specific binary\n:\u003C/p>\n\u003CCode code=\"yarn bin eslint\" lang=\"bash\" />\n\n## Details\nWhen used without arguments, this command will print the list of all the \nbinaries available in the current workspace. Adding the `-v,--verbose` flag will \ncause the output to contain both the binary name and the locator of the package \nthat provides the binary.\n\nWhen an argument is specified, this command will just print the path to the \nbinary on the standard output and exit. Note that the reported path may be \nstored within a zip archive.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-v%2C-verbose\" className=\"header-code\">\u003Ccode className=\"language-text\">-v,--verbose\u003C/code>\u003C/h4> | Print both the binary name and the locator of the package that provides the binary |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/bin.mdx","92c0d4e6642c721f","cli/config/get",{"id":803,"data":805,"body":811,"filePath":812,"digest":813,"deferredRender":22},{"title":806,"description":807,"editUrl":22,"head":808,"template":189,"sidebar":809,"pagefind":22,"draft":100},"yarn config get","read a configuration settings",[],{"hidden":100,"attrs":810},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nRead a configuration settings\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn config get \u003Cname>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Print a simple configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config get yarnPath\" lang=\"bash\" />\n\n\u003Cp>Print a complex configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config get packageExtensions\" lang=\"bash\" />\n\n\u003Cp>Print a nested field from the configuration\n:\u003C/p>\n\u003CCode code=\"yarn config get 'npmScopes[&quot;my-company&quot;].npmRegistryServer'\" lang=\"bash\" />\n\n\u003Cp>Print a token from the configuration\n:\u003C/p>\n\u003CCode code=\"yarn config get npmAuthToken --no-redacted\" lang=\"bash\" />\n\n\u003Cp>Print a configuration setting as JSON\n:\u003C/p>\n\u003CCode code=\"yarn config get packageExtensions --json\" lang=\"bash\" />\n\n## Details\nThis command will print a configuration setting.\n\nSecrets (such as tokens) will be redacted from the output by default. If this \nbehavior isn't desired, set the `--no-redacted` to get the untransformed value.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-why\" className=\"header-code\">\u003Ccode className=\"language-text\">--why\u003C/code>\u003C/h4> | Print the explanation for why a setting has its value |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-no-redacted\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-redacted\u003C/code>\u003C/h4> | Don't redact secrets (such as tokens) from the output |","src/content/docs/cli/cli/config-get.mdx","cef12c82c3f5e9c0","cli/config/set",{"id":814,"data":816,"body":822,"filePath":823,"digest":824,"deferredRender":22},{"title":817,"description":818,"editUrl":22,"head":819,"template":189,"sidebar":820,"pagefind":22,"draft":100},"yarn config set","change a configuration settings",[],{"hidden":100,"attrs":821},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nChange a configuration settings\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn config set \u003Cname> \u003Cvalue>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Set a simple configuration setting (a string, a number, or a boolean)\n:\u003C/p>\n\u003CCode code=\"yarn config set initScope myScope\" lang=\"bash\" />\n\n\u003Cp>Set a simple configuration setting (a string, a number, or a boolean) using the `--json` flag\n:\u003C/p>\n\u003CCode code=\"yarn config set initScope --json \\&quot;myScope\\&quot;\" lang=\"bash\" />\n\n\u003Cp>Set a complex configuration setting (an Array) using the `--json` flag\n:\u003C/p>\n\u003CCode code=\"yarn config set unsafeHttpWhitelist --json '[&quot;*.example.com&quot;, &quot;example.com&quot;]'\" lang=\"bash\" />\n\n\u003Cp>Set a complex configuration setting (an Object) using the `--json` flag\n:\u003C/p>\n\u003CCode code=\"yarn config set packageExtensions --json '{ &quot;@babel/parser@*&quot;: { &quot;dependencies&quot;: { &quot;@babel/types&quot;: &quot;*&quot; } } }'\" lang=\"bash\" />\n\n\u003Cp>Set a nested configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config set npmScopes.company.npmRegistryServer &quot;https://npm.example.com&quot;\" lang=\"bash\" />\n\n\u003Cp>Set a nested configuration setting using indexed access for non-simple keys\n:\u003C/p>\n\u003CCode code=\"yarn config set 'npmRegistries[&quot;//npm.example.com&quot;].npmAuthToken' &quot;ffffffff-ffff-ffff-ffff-ffffffffffff&quot;\" lang=\"bash\" />\n\n## Details\nThis command will set a configuration setting.\n\nWhen used without the `--json` flag, it can only set a simple configuration \nsetting (a string, a number, or a boolean).\n\nWhen used with the `--json` flag, it can set both simple and complex \nconfiguration settings, including Arrays and Objects.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Set complex configuration settings to JSON values |\n| \u003Ch4 id=\"options-H%2C-home\" className=\"header-code\">\u003Ccode className=\"language-text\">-H,--home\u003C/code>\u003C/h4> | Update the home configuration instead of the project configuration |","src/content/docs/cli/cli/config-set.mdx","3cb52109b804a199","cli/config/unset",{"id":825,"data":827,"body":833,"filePath":834,"digest":835,"deferredRender":22},{"title":828,"description":829,"editUrl":22,"head":830,"template":189,"sidebar":831,"pagefind":22,"draft":100},"yarn config unset","unset a configuration setting",[],{"hidden":100,"attrs":832},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nUnset a configuration setting\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn config unset \u003Cname>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Unset a simple configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config unset initScope\" lang=\"bash\" />\n\n\u003Cp>Unset a complex configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config unset packageExtensions\" lang=\"bash\" />\n\n\u003Cp>Unset a nested configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config unset npmScopes.company.npmRegistryServer\" lang=\"bash\" />\n\n## Details\nThis command will unset a configuration setting.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-H%2C-home\" className=\"header-code\">\u003Ccode className=\"language-text\">-H,--home\u003C/code>\u003C/h4> | Update the home configuration instead of the project configuration |","src/content/docs/cli/cli/config-unset.mdx","e4c29cac490a6cc5","cli/constraints/query",{"id":836,"data":838,"body":844,"filePath":845,"digest":846,"deferredRender":22},{"title":839,"description":840,"editUrl":22,"head":841,"template":189,"sidebar":842,"pagefind":22,"draft":100},"yarn constraints query","query the constraints fact database",[],{"hidden":100,"attrs":843},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nQuery the constraints fact database\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn constraints query \u003Cquery>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>List all dependencies throughout the workspace\n:\u003C/p>\n\u003CCode code=\"yarn constraints query 'workspace_has_dependency(_, DependencyName, _, _).'\" lang=\"bash\" />\n\n## Details\nThis command will output all matches to the given prolog query.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/constraints-query.mdx","a134e91c6ad736ce","cli/constraints/source",{"id":847,"data":849,"body":855,"filePath":856,"digest":857,"deferredRender":22},{"title":850,"description":851,"editUrl":22,"head":852,"template":189,"sidebar":853,"pagefind":22,"draft":100},"yarn constraints source","print the source code for the constraints",[],{"hidden":100,"attrs":854},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nPrint the source code for the constraints\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn constraints source\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Prints the source code\n:\u003C/p>\n\u003CCode code=\"yarn constraints source\" lang=\"bash\" />\n\n\u003Cp>Print the source code and the fact database\n:\u003C/p>\n\u003CCode code=\"yarn constraints source -v\" lang=\"bash\" />\n\n## Details\nThis command will print the Prolog source code used by the constraints engine. \nAdding the `-v,--verbose` flag will print the *full* source code, including the \nfact database automatically compiled from the workspace manifests.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-v%2C-verbose\" className=\"header-code\">\u003Ccode className=\"language-text\">-v,--verbose\u003C/code>\u003C/h4> | Also print the fact database automatically compiled from the workspace manifests |","src/content/docs/cli/cli/constraints-source.mdx","3e83dd2869d851fd","cli/config",{"id":858,"data":860,"body":866,"filePath":867,"digest":868,"deferredRender":22},{"title":861,"description":862,"editUrl":22,"head":863,"template":189,"sidebar":864,"pagefind":22,"draft":100},"yarn config","display the current configuration",[],{"hidden":100,"attrs":865},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ndisplay the current configuration\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn config ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Print the active configuration settings\n:\u003C/p>\n\u003CCode code=\"yarn config\" lang=\"bash\" />\n\n## Details\nThis command prints the current active configuration settings.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-no-defaults\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-defaults\u003C/code>\u003C/h4> | Omit the default values from the display |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/config.mdx","9e0765326701b342","cli/dedupe",{"id":869,"data":871,"body":877,"filePath":878,"digest":879,"deferredRender":22},{"title":872,"description":873,"editUrl":22,"head":874,"template":189,"sidebar":875,"pagefind":22,"draft":100},"yarn dedupe","deduplicate dependencies with overlapping ranges",[],{"hidden":100,"attrs":876},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ndeduplicate dependencies with overlapping ranges\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn dedupe ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Dedupe all packages\n:\u003C/p>\n\u003CCode code=\"yarn dedupe\" lang=\"bash\" />\n\n\u003Cp>Dedupe all packages using a specific strategy\n:\u003C/p>\n\u003CCode code=\"yarn dedupe --strategy highest\" lang=\"bash\" />\n\n\u003Cp>Dedupe a specific package\n:\u003C/p>\n\u003CCode code=\"yarn dedupe lodash\" lang=\"bash\" />\n\n\u003Cp>Dedupe all packages with the `@babel/*` scope\n:\u003C/p>\n\u003CCode code=\"yarn dedupe '@babel/*'\" lang=\"bash\" />\n\n\u003Cp>Check for duplicates (can be used as a CI step)\n:\u003C/p>\n\u003CCode code=\"yarn dedupe --check\" lang=\"bash\" />\n\n## Details\nDuplicates are defined as descriptors with overlapping ranges being resolved and \nlocked to different locators. They are a natural consequence of Yarn's \ndeterministic installs, but they can sometimes pile up and unnecessarily \nincrease the size of your project.\n\nThis command dedupes dependencies in the current project using different \nstrategies (only one is implemented at the moment):\n\n- `highest`: Reuses (where possible) the locators with the highest versions. \nThis means that dependencies can only be upgraded, never downgraded. It's also \nguaranteed that it never takes more than a single pass to dedupe the entire \ndependency tree.\n\n**Note:** Even though it never produces a wrong dependency tree, this command \nshould be used with caution, as it modifies the dependency tree, which can \nsometimes cause problems when packages don't strictly follow semver \nrecommendations. Because of this, it is recommended to also review the changes \nmanually.\n\nIf set, the `-c,--check` flag will only report the found duplicates, without \npersisting the modified dependency tree. If changes are found, the command will \nexit with a non-zero exit code, making it suitable for CI purposes.\n\nIf the `--mode=\u003Cmode>` option is set, Yarn will change which artifacts are \ngenerated. The modes currently supported are:\n\n- `skip-build` will not run the build scripts at all. Note that this is \ndifferent from setting `enableScripts` to false because the latter will \ndisable build scripts, and thus affect the content of the artifacts generated \non disk, whereas the former will just disable the build step - but not the \nscripts themselves, which just won't run.\n\n- `update-lockfile` will skip the link step altogether, and only fetch packages \nthat are missing from the lockfile (or that have no associated checksums). \nThis mode is typically used by tools like Renovate or Dependabot to keep a \nlockfile up-to-date without incurring the full install cost.\n\nThis command accepts glob patterns as arguments (if valid Idents and supported \nby [micromatch](https://github.com/micromatch/micromatch)). Make sure to escape \nthe patterns, to prevent your own shell from trying to expand them.\n\n### In-depth explanation:\n\nYarn doesn't deduplicate dependencies by default, otherwise installs wouldn't be \ndeterministic and the lockfile would be useless. What it actually does is that \nit tries to not duplicate dependencies in the first place.\n\n**Example:** If `foo@^2.3.4` (a dependency of a dependency) has already been \nresolved to `foo@2.3.4`, running `yarn add foo@*`will cause Yarn to reuse \n`foo@2.3.4`, even if the latest `foo` is actually `foo@2.10.14`, thus preventing \nunnecessary duplication.\n\nDuplication happens when Yarn can't unlock dependencies that have already been \nlocked inside the lockfile.\n\n**Example:** If `foo@^2.3.4` (a dependency of a dependency) has already been \nresolved to `foo@2.3.4`, running `yarn add foo@2.10.14` will cause Yarn to \ninstall `foo@2.10.14` because the existing resolution doesn't satisfy the range \n`2.10.14`. This behavior can lead to (sometimes) unwanted duplication, since now \nthe lockfile contains 2 separate resolutions for the 2 `foo` descriptors, even \nthough they have overlapping ranges, which means that the lockfile can be \nsimplified so that both descriptors resolve to `foo@2.10.14`.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-s%2C-strategy%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-s,--strategy #0\u003C/code>\u003C/h4> | The strategy to use when deduping dependencies |\n| \u003Ch4 id=\"options-c%2C-check\" className=\"header-code\">\u003Ccode className=\"language-text\">-c,--check\u003C/code>\u003C/h4> | Exit with exit code 1 when duplicates are found, without persisting the dependency tree |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-mode%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--mode #0\u003C/code>\u003C/h4> | Change what artifacts installs generate |","src/content/docs/cli/cli/dedupe.mdx","d14f362d3f1cfd67","cli/dlx",{"id":880,"data":882,"body":888,"filePath":889,"digest":890,"deferredRender":22},{"title":883,"description":884,"editUrl":22,"head":885,"template":189,"sidebar":886,"pagefind":22,"draft":100},"yarn dlx","run a package in a temporary environment",[],{"hidden":100,"attrs":887},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nrun a package in a temporary environment\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn dlx \u003Ccommand> ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Use create-vite to scaffold a new Vite project\n:\u003C/p>\n\u003CCode code=\"yarn dlx create-vite\" lang=\"bash\" />\n\n\u003Cp>Install multiple packages for a single command\n:\u003C/p>\n\u003CCode code=\"yarn dlx -p typescript -p ts-node ts-node --transpile-only -e &quot;console.log('hello!')&quot;\" lang=\"bash\" />\n\n## Details\nThis command will install a package within a temporary environment, and run its \nbinary script if it contains any. The binary will run within the current cwd.\n\nBy default Yarn will download the package named `command`, but this can be \nchanged through the use of the `-p,--package` flag which will instruct Yarn to \nstill run the same command but from a different package.\n\nUsing `yarn dlx` as a replacement of `yarn add` isn't recommended, as it makes \nyour project non-deterministic (Yarn doesn't keep track of the packages \ninstalled through `dlx` - neither their name, nor their version).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-p%2C-package%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-p,--package #0\u003C/code>\u003C/h4> | The package(s) to install before running the command |\n| \u003Ch4 id=\"options-q%2C-quiet\" className=\"header-code\">\u003Ccode className=\"language-text\">-q,--quiet\u003C/code>\u003C/h4> | Only report critical errors instead of printing the full install logs |","src/content/docs/cli/cli/dlx.mdx","f7214d7b2dd43d96","cli/exec",{"id":891,"data":893,"body":899,"filePath":900,"digest":901,"deferredRender":22},{"title":894,"description":895,"editUrl":22,"head":896,"template":189,"sidebar":897,"pagefind":22,"draft":100},"yarn exec","execute a shell script",[],{"hidden":100,"attrs":898},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nexecute a shell script\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn exec \u003CcommandName> ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Execute a single shell command\n:\u003C/p>\n\u003CCode code=\"yarn exec echo Hello World\" lang=\"bash\" />\n\n\u003Cp>Execute a shell script\n:\u003C/p>\n\u003CCode code=\"yarn exec &quot;tsc & babel src --out-dir lib&quot;\" lang=\"bash\" />\n\n## Details\nThis command simply executes a shell script within the context of the root \ndirectory of the active workspace using the portable shell.\n\nIt also makes sure to call it in a way that's compatible with the current \nproject (for example, on PnP projects the environment will be setup in such a \nway that PnP will be correctly injected into the environment).","src/content/docs/cli/cli/exec.mdx","dba47289751b5333","cli/constraints",{"id":902,"data":904,"body":910,"filePath":911,"digest":912,"deferredRender":22},{"title":905,"description":906,"editUrl":22,"head":907,"template":189,"sidebar":908,"pagefind":22,"draft":100},"yarn constraints","check that the project constraints are met",[],{"hidden":100,"attrs":909},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ncheck that the project constraints are met\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn constraints\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Check that all constraints are satisfied\n:\u003C/p>\n\u003CCode code=\"yarn constraints\" lang=\"bash\" />\n\n\u003Cp>Autofix all unmet constraints\n:\u003C/p>\n\u003CCode code=\"yarn constraints --fix\" lang=\"bash\" />\n\n## Details\nThis command will run constraints on your project and emit errors for each one \nthat is found but isn't met. If any error is emitted the process will exit with \na non-zero exit code.\n\nIf the `--fix` flag is used, Yarn will attempt to automatically fix the issues \nthe best it can, following a multi-pass process (with a maximum of 10 \niterations). Some ambiguous patterns cannot be autofixed, in which case you'll \nhave to manually specify the right resolution.\n\nFor more information as to how to write constraints, please consult our \ndedicated page on our website: https://yarnpkg.com/features/constraints.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-fix\" className=\"header-code\">\u003Ccode className=\"language-text\">--fix\u003C/code>\u003C/h4> | Attempt to automatically fix unambiguous issues, following a multi-pass process |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/constraints.mdx","1b6501c31376a127","cli/explain/peer-requirements",{"id":913,"data":915,"body":921,"filePath":922,"digest":923,"deferredRender":22},{"title":916,"description":917,"editUrl":22,"head":918,"template":189,"sidebar":919,"pagefind":22,"draft":100},"yarn explain peer-requirements","explain a set of peer requirements",[],{"hidden":100,"attrs":920},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nExplain a set of peer requirements\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn explain peer-requirements [hash]\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Explain the corresponding peer requirement for a hash\n:\u003C/p>\n\u003CCode code=\"yarn explain peer-requirements p1a4ed\" lang=\"bash\" />\n\n\u003Cp>List all peer requirements\n:\u003C/p>\n\u003CCode code=\"yarn explain peer-requirements\" lang=\"bash\" />\n\n## Details\nA peer requirement represents all peer requests that a subject must satisfy when \nproviding a requested package to requesters.\n\nWhen the hash argument is specified, this command prints a detailed explanation \nof the peer requirement corresponding to the hash and whether it is satisfied or \nnot.\n\nWhen used without arguments, this command lists all peer requirements and the \ncorresponding hash that can be used to get detailed information about a given \nrequirement.\n\n**Note:** A hash is a seven-letter code consisting of the letter 'p' followed by \nsix characters that can be obtained from peer dependency warnings or from the \nlist of all peer requirements(`yarn explain peer-requirements`).","src/content/docs/cli/cli/explain-peer-requirements.mdx","1eb93c4320125ce0","cli/explain",{"id":924,"data":926,"body":932,"filePath":933,"digest":934,"deferredRender":22},{"title":927,"description":928,"editUrl":22,"head":929,"template":189,"sidebar":930,"pagefind":22,"draft":100},"yarn explain","explain an error code",[],{"hidden":100,"attrs":931},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nexplain an error code\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn explain [code]\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Explain an error code\n:\u003C/p>\n\u003CCode code=\"yarn explain YN0006\" lang=\"bash\" />\n\n\u003Cp>List all error codes\n:\u003C/p>\n\u003CCode code=\"yarn explain\" lang=\"bash\" />\n\n## Details\nWhen the code argument is specified, this command prints its name and its \ndetails.\n\nWhen used without arguments, this command lists all error codes and their names.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/explain.mdx","61297b4d10e24826","cli/focus",{"id":935,"data":937,"body":943,"filePath":944,"digest":945,"deferredRender":22},{"title":938,"description":939,"editUrl":22,"head":940,"template":189,"sidebar":941,"pagefind":22,"draft":100},"yarn workspaces focus","install a single workspace and its dependencies",[],{"hidden":100,"attrs":942},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ninstall a single workspace and its dependencies\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn workspaces focus ...\" lang=\"bash\" />\n\n## Details\nThis command will run an install as if the specified workspaces (and all other \nworkspaces they depend on) were the only ones in the project. If no workspaces \nare explicitly listed, the active one will be assumed.\n\nNote that this command is only very moderately useful when using zero-installs, \nsince the cache will contain all the packages anyway - meaning that the only \ndifference between a full install and a focused install would just be a few \nextra lines in the `.pnp.cjs` file, at the cost of introducing an extra \ncomplexity.\n\nIf the `-A,--all` flag is set, the entire project will be installed. Combine \nwith `--production` to replicate the old `yarn install --production`.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-production\" className=\"header-code\">\u003Ccode className=\"language-text\">--production\u003C/code>\u003C/h4> | Only install regular dependencies by omitting dev dependencies |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Install the entire project |","src/content/docs/cli/cli/focus.mdx","4cb3db50b8f77ecc","cli/get",{"id":946,"data":948,"body":952,"filePath":953,"digest":954,"deferredRender":22},{"title":806,"description":807,"editUrl":22,"head":949,"template":189,"sidebar":950,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":951},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nread a configuration settings\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn config get \u003Cname>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Print a simple configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config get yarnPath\" lang=\"bash\" />\n\n\u003Cp>Print a complex configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config get packageExtensions\" lang=\"bash\" />\n\n\u003Cp>Print a nested field from the configuration\n:\u003C/p>\n\u003CCode code=\"yarn config get 'npmScopes[&quot;my-company&quot;].npmRegistryServer'\" lang=\"bash\" />\n\n\u003Cp>Print a token from the configuration\n:\u003C/p>\n\u003CCode code=\"yarn config get npmAuthToken --no-redacted\" lang=\"bash\" />\n\n\u003Cp>Print a configuration setting as JSON\n:\u003C/p>\n\u003CCode code=\"yarn config get packageExtensions --json\" lang=\"bash\" />\n\n## Details\nThis command will print a configuration setting.\n\nSecrets (such as tokens) will be redacted from the output by default. If this \nbehavior isn't desired, set the `--no-redacted` to get the untransformed value.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-why\" className=\"header-code\">\u003Ccode className=\"language-text\">--why\u003C/code>\u003C/h4> | Print the explanation for why a setting has its value |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-no-redacted\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-redacted\u003C/code>\u003C/h4> | Don't redact secrets (such as tokens) from the output |","src/content/docs/cli/cli/get.mdx","51388d0dcab9600a","cli/foreach",{"id":955,"data":957,"body":963,"filePath":964,"digest":965,"deferredRender":22},{"title":958,"description":959,"editUrl":22,"head":960,"template":189,"sidebar":961,"pagefind":22,"draft":100},"yarn workspaces foreach","run a command on all workspaces",[],{"hidden":100,"attrs":962},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nrun a command on all workspaces\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn workspaces foreach \u003CcommandName> ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Publish all packages\n:\u003C/p>\n\u003CCode code=\"yarn workspaces foreach -A --no-private npm publish --tolerate-republish\" lang=\"bash\" />\n\n\u003Cp>Run the build script on all descendant packages\n:\u003C/p>\n\u003CCode code=\"yarn workspaces foreach -A run build\" lang=\"bash\" />\n\n\u003Cp>Run the build script on current and all descendant packages in parallel, building package dependencies first\n:\u003C/p>\n\u003CCode code=\"yarn workspaces foreach -Apt run build\" lang=\"bash\" />\n\n\u003Cp>Run the build script on several packages and all their dependencies, building dependencies first\n:\u003C/p>\n\u003CCode code=\"yarn workspaces foreach -Rpt --from '{workspace-a,workspace-b}' run build\" lang=\"bash\" />\n\n## Details\nThis command will run a given sub-command on current and all its descendant \nworkspaces. Various flags can alter the exact behavior of the command:\n\n- If `-p,--parallel` is set, the commands will be ran in parallel; they'll by \ndefault be limited to a number of parallel tasks roughly equal to half your \ncore number, but that can be overridden via `-j,--jobs`, or disabled by \nsetting `-j unlimited`.\n\n- If `-p,--parallel` and `-i,--interlaced` are both set, Yarn will print the \nlines from the output as it receives them. If `-i,--interlaced` wasn't set, it \nwould instead buffer the output from each process and print the resulting \nbuffers only after their source processes have exited.\n\n- If `-t,--topological` is set, Yarn will only run the command after all \nworkspaces that it depends on through the `dependencies` field have \nsuccessfully finished executing. If `--topological-dev` is set, both the \n`dependencies` and `devDependencies` fields will be considered when figuring \nout the wait points.\n\n- If `-A,--all` is set, Yarn will run the command on all the workspaces of a \nproject.\n\n- If `-R,--recursive` is set, Yarn will find workspaces to run the command on by \nrecursively evaluating `dependencies` and `devDependencies` fields, instead of \nlooking at the `workspaces` fields.\n\n- If `-W,--worktree` is set, Yarn will find workspaces to run the command on by \nlooking at the current worktree.\n\n- If `--from` is set, Yarn will use the packages matching the 'from' glob as the \nstarting point for any recursive search.\n\n- If `--since` is set, Yarn will only run the command on workspaces that have \nbeen modified since the specified ref. By default Yarn will use the refs \nspecified by the `changesetBaseRefs` configuration option.\n\n- If `--dry-run` is set, Yarn will explain what it would do without actually \ndoing anything.\n\n- The command may apply to only some workspaces through the use of `--include` \nwhich acts as a whitelist. The `--exclude` flag will do the opposite and will \nbe a list of packages that mustn't execute the script. Both flags accept glob \npatterns (if valid Idents and supported by \n[micromatch](https://github.com/micromatch/micromatch)). Make sure to escape \nthe patterns, to prevent your own shell from trying to expand them. You can \nalso use the `--no-private` flag to avoid running the command in private \nworkspaces.\n\nThe `-v,--verbose` flag can be passed up to twice: once to prefix output lines \nwith the originating workspace's name, and again to include start/finish/timing \nlog lines. Maximum verbosity is enabled by default in terminal environments.\n\nIf the command is `run` and the script being run does not exist the child \nworkspace will be skipped without error.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-from%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--from #0\u003C/code>\u003C/h4> | An array of glob pattern idents or paths from which to base any recursion |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Run the command on all workspaces of a project |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | Run the command on the current workspace and all of its recursive dependencies |\n| \u003Ch4 id=\"options-W%2C-worktree\" className=\"header-code\">\u003Ccode className=\"language-text\">-W,--worktree\u003C/code>\u003C/h4> | Run the command on all workspaces of the current worktree |\n| \u003Ch4 id=\"options-v%2C-verbose\" className=\"header-code\">\u003Ccode className=\"language-text\">-v,--verbose\u003C/code>\u003C/h4> | Increase level of logging verbosity up to 2 times |\n| \u003Ch4 id=\"options-p%2C-parallel\" className=\"header-code\">\u003Ccode className=\"language-text\">-p,--parallel\u003C/code>\u003C/h4> | Run the commands in parallel |\n| \u003Ch4 id=\"options-i%2C-interlaced\" className=\"header-code\">\u003Ccode className=\"language-text\">-i,--interlaced\u003C/code>\u003C/h4> | Print the output of commands in real-time instead of buffering it |\n| \u003Ch4 id=\"options-j%2C-jobs%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-j,--jobs #0\u003C/code>\u003C/h4> | The maximum number of parallel tasks that the execution will be limited to; or `unlimited` |\n| \u003Ch4 id=\"options-t%2C-topological\" className=\"header-code\">\u003Ccode className=\"language-text\">-t,--topological\u003C/code>\u003C/h4> | Run the command after all workspaces it depends on (regular) have finished |\n| \u003Ch4 id=\"options-topological-dev\" className=\"header-code\">\u003Ccode className=\"language-text\">--topological-dev\u003C/code>\u003C/h4> | Run the command after all workspaces it depends on (regular + dev) have finished |\n| \u003Ch4 id=\"options-include%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--include #0\u003C/code>\u003C/h4> | An array of glob pattern idents or paths; only matching workspaces will be traversed |\n| \u003Ch4 id=\"options-exclude%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--exclude #0\u003C/code>\u003C/h4> | An array of glob pattern idents or paths; matching workspaces won't be traversed |\n| \u003Ch4 id=\"options-no-private\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-private\u003C/code>\u003C/h4> | Avoid running the command on private workspaces |\n| \u003Ch4 id=\"options-since\" className=\"header-code\">\u003Ccode className=\"language-text\">--since\u003C/code>\u003C/h4> | Only include workspaces that have been changed since the specified ref. |\n| \u003Ch4 id=\"options-n%2C-dry-run\" className=\"header-code\">\u003Ccode className=\"language-text\">-n,--dry-run\u003C/code>\u003C/h4> | Print the commands that would be run, without actually running them |","src/content/docs/cli/cli/foreach.mdx","f7bdb8517a0b9034","cli/import",{"id":966,"data":968,"body":974,"filePath":975,"digest":976,"deferredRender":22},{"title":969,"description":970,"editUrl":22,"head":971,"template":189,"sidebar":972,"pagefind":22,"draft":100},"yarn plugin import","download a plugin",[],{"hidden":100,"attrs":973},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ndownload a plugin\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn plugin import \u003Cname>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Download and activate the \"@yarnpkg/plugin-exec\" plugin\n:\u003C/p>\n\u003CCode code=\"yarn plugin import @yarnpkg/plugin-exec\" lang=\"bash\" />\n\n\u003Cp>Download and activate the \"@yarnpkg/plugin-exec\" plugin (shorthand)\n:\u003C/p>\n\u003CCode code=\"yarn plugin import exec\" lang=\"bash\" />\n\n\u003Cp>Download and activate a community plugin\n:\u003C/p>\n\u003CCode code=\"yarn plugin import https://example.org/path/to/plugin.js\" lang=\"bash\" />\n\n\u003Cp>Activate a local plugin\n:\u003C/p>\n\u003CCode code=\"yarn plugin import ./path/to/plugin.js\" lang=\"bash\" />\n\n## Details\nThis command downloads the specified plugin from its remote location and updates \nthe configuration to reference it in further CLI invocations.\n\nThree types of plugin references are accepted:\n\n- If the plugin is stored within the Yarn repository, it can be referenced by \nname.\n\n- Third-party plugins can be referenced directly through their public urls.\n\n- Local plugins can be referenced by their path on the disk.\n\nIf the `--no-checksum` option is set, Yarn will no longer care if the plugin is \nmodified.\n\nPlugins cannot be downloaded from the npm registry, and aren't allowed to have \ndependencies (they need to be bundled into a single file, possibly thanks to the \n`@yarnpkg/builder` package).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-checksum\" className=\"header-code\">\u003Ccode className=\"language-text\">--checksum\u003C/code>\u003C/h4> | Whether to care if this plugin is modified |","src/content/docs/cli/cli/import.mdx","bc3f034ccc06583f","cli",{"id":977,"data":979,"body":984,"filePath":985,"digest":986,"deferredRender":22},{"title":160,"description":980,"editUrl":22,"head":981,"template":189,"sidebar":982,"pagefind":22,"draft":100},"Documentation for all cli package commands",[],{"hidden":100,"attrs":983},{},"import { Card, CardGrid, LinkCard } from \"@astrojs/starlight/components\";\n\n\n\n\u003CLinkCard \ntitle=\"yarn cache clean\" \nhref=\"/cli/clean\" \ndescription=\"remove the shared cache files\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn config get\" \nhref=\"/cli/get\" \ndescription=\"read a configuration settings\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn config set\" \nhref=\"/cli/set\" \ndescription=\"change a configuration settings\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn config unset\" \nhref=\"/cli/unset\" \ndescription=\"unset a configuration setting\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn set resolution\" \nhref=\"/cli/resolution\" \ndescription=\"enforce a package resolution\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn set version from sources\" \nhref=\"/cli/sources\" \ndescription=\"build Yarn from master\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn set version\" \nhref=\"/cli/version\" \ndescription=\"lock the Yarn version used by the project\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn workspaces list\" \nhref=\"/cli/list\" \ndescription=\"list all available workspaces\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn add\" \nhref=\"/cli/add\" \ndescription=\"add dependencies to the project\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn bin\" \nhref=\"/cli/bin\" \ndescription=\"get the path to a binary script\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn config\" \nhref=\"/cli/config\" \ndescription=\"display the current configuration\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn dedupe\" \nhref=\"/cli/dedupe\" \ndescription=\"deduplicate dependencies with overlapping ranges\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn exec\" \nhref=\"/cli/exec\" \ndescription=\"execute a shell script\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn explain peer-requirements\" \nhref=\"/cli/peer-requirements\" \ndescription=\"explain a set of peer requirements\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn explain\" \nhref=\"/cli/explain\" \ndescription=\"explain an error code\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn info\" \nhref=\"/cli/info\" \ndescription=\"see information related to packages\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn install\" \nhref=\"/cli/install\" \ndescription=\"install the project dependencies\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn link\" \nhref=\"/cli/link\" \ndescription=\"connect the local project to another one\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn unlink\" \nhref=\"/cli/unlink\" \ndescription=\"disconnect the local project from another one\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn node\" \nhref=\"/cli/node\" \ndescription=\"run node with the hook already setup\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn plugin check\" \nhref=\"/cli/check\" \ndescription=\"find all third-party plugins that differ from their own spec\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn plugin import from sources\" \nhref=\"/cli/sources\" \ndescription=\"build a plugin from sources\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn plugin import\" \nhref=\"/cli/import\" \ndescription=\"download a plugin\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn plugin remove\" \nhref=\"/cli/remove\" \ndescription=\"remove a plugin\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn plugin list\" \nhref=\"/cli/list\" \ndescription=\"list the available official plugins\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn plugin runtime\" \nhref=\"/cli/runtime\" \ndescription=\"list the active plugins\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn rebuild\" \nhref=\"/cli/rebuild\" \ndescription=\"rebuild the project's native packages\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn remove\" \nhref=\"/cli/remove\" \ndescription=\"remove dependencies from the project\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn run\" \nhref=\"/cli/run\" \ndescription=\"run a script defined in the package.json\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn up\" \nhref=\"/cli/up\" \ndescription=\"upgrade dependencies across the project\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn why\" \nhref=\"/cli/why\" \ndescription=\"display the reason why a package is needed\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn workspace\" \nhref=\"/cli/workspace\" \ndescription=\"run a command within the specified workspace\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn constraints query\" \nhref=\"/cli/query\" \ndescription=\"query the constraints fact database\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn constraints source\" \nhref=\"/cli/source\" \ndescription=\"print the source code for the constraints\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn constraints\" \nhref=\"/cli/constraints\" \ndescription=\"check that the project constraints are met\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn dlx\" \nhref=\"/cli/dlx\" \ndescription=\"run a package in a temporary environment\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn init\" \nhref=\"/cli/init\" \ndescription=\"create a new package\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn init\" \nhref=\"/cli/init\" \ndescription=\"create a new package\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn search\" \nhref=\"/cli/search\" \ndescription=\"open the search interface\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn upgrade-interactive\" \nhref=\"/cli/upgrade-interactive\" \ndescription=\"open the upgrade interface\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn npm audit\" \nhref=\"/cli/audit\" \ndescription=\"perform a vulnerability audit against the installed packages\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn npm info\" \nhref=\"/cli/info\" \ndescription=\"show information about a package\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn npm login\" \nhref=\"/cli/login\" \ndescription=\"store new login info to access the npm registry\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn npm logout\" \nhref=\"/cli/logout\" \ndescription=\"logout of the npm registry\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn npm publish\" \nhref=\"/cli/publish\" \ndescription=\"publish the active workspace to the npm registry\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn npm tag add\" \nhref=\"/cli/add\" \ndescription=\"add a tag for a specific version of a package\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn npm tag list\" \nhref=\"/cli/list\" \ndescription=\"list all dist-tags of a package\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn npm tag remove\" \nhref=\"/cli/remove\" \ndescription=\"remove a tag from a package\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn npm whoami\" \nhref=\"/cli/whoami\" \ndescription=\"display the name of the authenticated user\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn pack\" \nhref=\"/cli/pack\" \ndescription=\"generate a tarball from the active workspace\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn patch-commit\" \nhref=\"/cli/patch-commit\" \ndescription=\"generate a patch out of a directory\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn patch\" \nhref=\"/cli/patch\" \ndescription=\"prepare a package for patching\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn unplug\" \nhref=\"/cli/unplug\" \ndescription=\"force the unpacking of a list of packages\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn stage\" \nhref=\"/cli/stage\" \ndescription=\"add all yarn files to your vcs\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn version apply\" \nhref=\"/cli/apply\" \ndescription=\"apply all the deferred version bumps at once\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn version check\" \nhref=\"/cli/check\" \ndescription=\"check that all the relevant packages have been bumped\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn version\" \nhref=\"/cli/version\" \ndescription=\"apply a new version to the current package\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn workspaces focus\" \nhref=\"/cli/focus\" \ndescription=\"install a single workspace and its dependencies\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn workspaces foreach\" \nhref=\"/cli/foreach\" \ndescription=\"run a command on all workspaces\n\"\n/>","src/content/docs/cli/cli/index.mdx","1f3a6ba7a66569d6","cli/info",{"id":987,"data":989,"body":995,"filePath":996,"digest":997,"deferredRender":22},{"title":990,"description":991,"editUrl":22,"head":992,"template":189,"sidebar":993,"pagefind":22,"draft":100},"yarn npm info","show information about a package",[],{"hidden":100,"attrs":994},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nshow information about a package\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm info ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Show all available information about react (except the `dist`, `readme`, and `users` fields)\n:\u003C/p>\n\u003CCode code=\"yarn npm info react\" lang=\"bash\" />\n\n\u003Cp>Show all available information about react as valid JSON (including the `dist`, `readme`, and `users` fields)\n:\u003C/p>\n\u003CCode code=\"yarn npm info react --json\" lang=\"bash\" />\n\n\u003Cp>Show all available information about react@16.12.0\n:\u003C/p>\n\u003CCode code=\"yarn npm info react@16.12.0\" lang=\"bash\" />\n\n\u003Cp>Show all available information about react@next\n:\u003C/p>\n\u003CCode code=\"yarn npm info react@next\" lang=\"bash\" />\n\n\u003Cp>Show the description of react\n:\u003C/p>\n\u003CCode code=\"yarn npm info react --fields description\" lang=\"bash\" />\n\n\u003Cp>Show all available versions of react\n:\u003C/p>\n\u003CCode code=\"yarn npm info react --fields versions\" lang=\"bash\" />\n\n\u003Cp>Show the readme of react\n:\u003C/p>\n\u003CCode code=\"yarn npm info react --fields readme\" lang=\"bash\" />\n\n\u003Cp>Show a few fields of react\n:\u003C/p>\n\u003CCode code=\"yarn npm info react --fields homepage,repository\" lang=\"bash\" />\n\n## Details\nThis command fetches information about a package from the npm registry and \nprints it in a tree format.\n\nThe package does not have to be installed locally, but needs to have been \npublished (in particular, local changes will be ignored even for workspaces).\n\nAppend `@\u003Crange>` to the package argument to provide information specific to the \nlatest version that satisfies the range or to the corresponding tagged version. \nIf the range is invalid or if there is no version satisfying the range, the \ncommand will print a warning and fall back to the latest version.\n\nIf the `-f,--fields` option is set, it's a comma-separated list of fields which \nwill be used to only display part of the package information.\n\nBy default, this command won't return the `dist`, `readme`, and `users` fields, \nsince they are often very long. To explicitly request those fields, explicitly \nlist them with the `--fields` flag or request the output in JSON mode.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-f%2C-fields%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-f,--fields #0\u003C/code>\u003C/h4> | A comma-separated list of manifest fields that should be displayed |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |for the matching packages |\n| \u003Ch4 id=\"options-virtuals\" className=\"header-code\">\u003Ccode className=\"language-text\">--virtuals\u003C/code>\u003C/h4> | Print each instance of the virtual packages |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/info.mdx","c41b339b2838ab4b","cli/init",{"id":998,"data":1000,"body":1006,"filePath":1007,"digest":1008,"deferredRender":22},{"title":1001,"description":1002,"editUrl":22,"head":1003,"template":189,"sidebar":1004,"pagefind":22,"draft":100},"yarn init","create a new package",[],{"hidden":100,"attrs":1005},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ncreate a new package\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn init \u003Cinitializer> ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Create a new package in the local directory\n:\u003C/p>\n\u003CCode code=\"yarn init\" lang=\"bash\" />\n\n\u003Cp>Create a new private package in the local directory\n:\u003C/p>\n\u003CCode code=\"yarn init -p\" lang=\"bash\" />\n\n\u003Cp>Create a new package and store the Yarn release inside\n:\u003C/p>\n\u003CCode code=\"yarn init -i=latest\" lang=\"bash\" />\n\n\u003Cp>Create a new private package and defines it as a workspace root\n:\u003C/p>\n\u003CCode code=\"yarn init -w\" lang=\"bash\" />\n\n## Details\nThis command will setup a new package in your local directory.\n\nIf the `-p,--private` or `-w,--workspace` options are set, the package will be \nprivate by default.\n\nIf the `-w,--workspace` option is set, the package will be configured to accept \na set of workspaces in the `packages/` directory.\n\nIf the `-i,--install` option is given a value, Yarn will first download it using \n`yarn set version` and only then forward the init call to the newly downloaded \nbundle. Without arguments, the downloaded bundle will be `latest`.\n\nThe initial settings of the manifest can be changed by using the `initScope` and \n`initFields` configuration values. Additionally, Yarn will generate an \nEditorConfig file whose rules can be altered via `initEditorConfig`, and will \ninitialize a Git repository in the current directory.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-p%2C-private\" className=\"header-code\">\u003Ccode className=\"language-text\">-p,--private\u003C/code>\u003C/h4> | Initialize a private package |\n| \u003Ch4 id=\"options-w%2C-workspace\" className=\"header-code\">\u003Ccode className=\"language-text\">-w,--workspace\u003C/code>\u003C/h4> | Initialize a workspace root with a `packages/` directory |\n| \u003Ch4 id=\"options-i%2C-install\" className=\"header-code\">\u003Ccode className=\"language-text\">-i,--install\u003C/code>\u003C/h4> | Initialize a package with a specific bundle that will be locked in the project |\n| \u003Ch4 id=\"options-n%2C-name%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-n,--name #0\u003C/code>\u003C/h4> | Initialize a package with the given name |","src/content/docs/cli/cli/init.mdx","5d90f3433c21a002","cli/install",{"id":1009,"data":1011,"body":1017,"filePath":1018,"digest":1019,"deferredRender":22},{"title":1012,"description":1013,"editUrl":22,"head":1014,"template":189,"sidebar":1015,"pagefind":22,"draft":100},"yarn install","install the project dependencies",[],{"hidden":100,"attrs":1016},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ninstall the project dependencies\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn install\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Install the project\n:\u003C/p>\n\u003CCode code=\"yarn install\" lang=\"bash\" />\n\n\u003Cp>Validate a project when using Zero-Installs\n:\u003C/p>\n\u003CCode code=\"yarn install --immutable --immutable-cache\" lang=\"bash\" />\n\n\u003Cp>Validate a project when using Zero-Installs (slightly safer if you accept external PRs)\n:\u003C/p>\n\u003CCode code=\"yarn install --immutable --immutable-cache --check-cache\" lang=\"bash\" />\n\n## Details\nThis command sets up your project if needed. The installation is split into four \ndifferent steps that each have their own characteristics:\n\n- **Resolution:** First the package manager will resolve your dependencies. The \nexact way a dependency version is privileged over another isn't standardized \noutside of the regular semver guarantees. If a package doesn't resolve to what \nyou would expect, check that all dependencies are correctly declared (also \ncheck our website for more information: ).\n\n- **Fetch:** Then we download all the dependencies if needed, and make sure that \nthey're all stored within our cache (check the value of `cacheFolder` in `yarn \nconfig` to see where the cache files are stored).\n\n- **Link:** Then we send the dependency tree information to internal plugins \ntasked with writing them on the disk in some form (for example by generating \nthe `.pnp.cjs` file you might know).\n\n- **Build:** Once the dependency tree has been written on the disk, the package \nmanager will now be free to run the build scripts for all packages that might \nneed it, in a topological order compatible with the way they depend on one \nanother. See https://yarnpkg.com/advanced/lifecycle-scripts for detail.\n\nNote that running this command is not part of the recommended workflow. Yarn \nsupports zero-installs, which means that as long as you store your cache and \nyour `.pnp.cjs` file inside your repository, everything will work without \nrequiring any install right after cloning your repository or switching branches.\n\nIf the `--immutable` option is set (defaults to true on CI), Yarn will abort \nwith an error exit code if the lockfile was to be modified (other paths can be \nadded using the `immutablePatterns` configuration setting). For backward \ncompatibility we offer an alias under the name of `--frozen-lockfile`, but it \nwill be removed in a later release.\n\nIf the `--immutable-cache` option is set, Yarn will abort with an error exit \ncode if the cache folder was to be modified (either because files would be \nadded, or because they'd be removed).\n\nIf the `--refresh-lockfile` option is set, Yarn will keep the same resolution \nfor the packages currently in the lockfile but will refresh their metadata. If \nused together with `--immutable`, it can validate that the lockfile information \nare consistent. This flag is enabled by default when Yarn detects it runs within \na pull request context.\n\nIf the `--check-cache` option is set, Yarn will always refetch the packages and \nwill ensure that their checksum matches what's 1/ described in the lockfile 2/ \ninside the existing cache files (if present). This is recommended as part of \nyour CI workflow if you're both following the Zero-Installs model and accepting \nPRs from third-parties, as they'd otherwise have the ability to alter the \nchecked-in packages before submitting them.\n\nIf the `--inline-builds` option is set, Yarn will verbosely print the output of \nthe build steps of your dependencies (instead of writing them into individual \nfiles). This is likely useful mostly for debug purposes only when using \nDocker-like environments.\n\nIf the `--mode=\u003Cmode>` option is set, Yarn will change which artifacts are \ngenerated. The modes currently supported are:\n\n- `skip-build` will not run the build scripts at all. Note that this is \ndifferent from setting `enableScripts` to false because the latter will \ndisable build scripts, and thus affect the content of the artifacts generated \non disk, whereas the former will just disable the build step - but not the \nscripts themselves, which just won't run.\n\n- `update-lockfile` will skip the link step altogether, and only fetch packages \nthat are missing from the lockfile (or that have no associated checksums). \nThis mode is typically used by tools like Renovate or Dependabot to keep a \nlockfile up-to-date without incurring the full install cost.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-immutable\" className=\"header-code\">\u003Ccode className=\"language-text\">--immutable\u003C/code>\u003C/h4> | Abort with an error exit code if the lockfile was to be modified |\n| \u003Ch4 id=\"options-immutable-cache\" className=\"header-code\">\u003Ccode className=\"language-text\">--immutable-cache\u003C/code>\u003C/h4> | Abort with an error exit code if the cache folder was to be modified |\n| \u003Ch4 id=\"options-refresh-lockfile\" className=\"header-code\">\u003Ccode className=\"language-text\">--refresh-lockfile\u003C/code>\u003C/h4> | Refresh the package metadata stored in the lockfile |\n| \u003Ch4 id=\"options-check-cache\" className=\"header-code\">\u003Ccode className=\"language-text\">--check-cache\u003C/code>\u003C/h4> | Always refetch the packages and ensure that their checksums are consistent |\n| \u003Ch4 id=\"options-check-resolutions\" className=\"header-code\">\u003Ccode className=\"language-text\">--check-resolutions\u003C/code>\u003C/h4> | Validates that the package resolutions are coherent |\n| \u003Ch4 id=\"options-inline-builds\" className=\"header-code\">\u003Ccode className=\"language-text\">--inline-builds\u003C/code>\u003C/h4> | Verbosely print the output of the build steps of dependencies |\n| \u003Ch4 id=\"options-mode%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--mode #0\u003C/code>\u003C/h4> | Change what artifacts installs generate |","src/content/docs/cli/cli/install.mdx","69d41ef1070c65b7","cli/link",{"id":1020,"data":1022,"body":1028,"filePath":1029,"digest":1030,"deferredRender":22},{"title":1023,"description":1024,"editUrl":22,"head":1025,"template":189,"sidebar":1026,"pagefind":22,"draft":100},"yarn link","connect the local project to another one",[],{"hidden":100,"attrs":1027},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nconnect the local project to another one\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn link ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Register one or more remote workspaces for use in the current project\n:\u003C/p>\n\u003CCode code=\"yarn link ~/ts-loader ~/jest\" lang=\"bash\" />\n\n\u003Cp>Register all workspaces from a remote project for use in the current project\n:\u003C/p>\n\u003CCode code=\"yarn link ~/jest --all\" lang=\"bash\" />\n\n## Details\nThis command will set a new `resolutions` field in the project-level manifest \nand point it to the workspace at the specified location (even if part of another \nproject).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Link all workspaces belonging to the target projects to the current one |\n| \u003Ch4 id=\"options-p%2C-private\" className=\"header-code\">\u003Ccode className=\"language-text\">-p,--private\u003C/code>\u003C/h4> | Also link private workspaces belonging to the target projects to the current one |\n| \u003Ch4 id=\"options-r%2C-relative\" className=\"header-code\">\u003Ccode className=\"language-text\">-r,--relative\u003C/code>\u003C/h4> | Link workspaces using relative paths instead of absolute paths |","src/content/docs/cli/cli/link.mdx","de483a877444c0b3","cli/list",{"id":1031,"data":1033,"body":1039,"filePath":1040,"digest":1041,"deferredRender":22},{"title":1034,"description":1035,"editUrl":22,"head":1036,"template":189,"sidebar":1037,"pagefind":22,"draft":100},"yarn npm tag list","list all dist-tags of a package",[],{"hidden":100,"attrs":1038},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nlist all dist-tags of a package\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm tag list [package]\" lang=\"bash\" />\n\n## Examples\n\u003Cp>List all tags of package `my-pkg`\n:\u003C/p>\n\u003CCode code=\"yarn npm tag list my-pkg\" lang=\"bash\" />\n\n## Details\nThis command will list all tags of a package from the npm registry.\n\nIf the package is not specified, Yarn will default to the current workspace.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |-no-private` is set, Yarn will not list any workspaces that have the \n`private` field set to `true`.\n\n- If both the `-v,--verbose` and `--json` options are set, Yarn will also return \nthe cross-dependencies between each workspaces (useful when you wish to \nautomatically generate Buck / Bazel rules).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-since\" className=\"header-code\">\u003Ccode className=\"language-text\">--since\u003C/code>\u003C/h4> | Only include workspaces that have been changed since the specified ref. |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | Find packages via dependencies/devDependencies instead of using the workspaces field |\n| \u003Ch4 id=\"options-no-private\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-private\u003C/code>\u003C/h4> | Exclude workspaces that have the private field set to true |\n| \u003Ch4 id=\"options-v%2C-verbose\" className=\"header-code\">\u003Ccode className=\"language-text\">-v,--verbose\u003C/code>\u003C/h4> | Also return the cross-dependencies between workspaces |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/list.mdx","cc7f61487f059339","cli/login",{"id":1042,"data":1044,"body":1050,"filePath":1051,"digest":1052,"deferredRender":22},{"title":1045,"description":1046,"editUrl":22,"head":1047,"template":189,"sidebar":1048,"pagefind":22,"draft":100},"yarn npm login","store new login info to access the npm registry",[],{"hidden":100,"attrs":1049},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nstore new login info to access the npm registry\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm login\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Login to the default registry\n:\u003C/p>\n\u003CCode code=\"yarn npm login\" lang=\"bash\" />\n\n\u003Cp>Login to the registry linked to the @my-scope registry\n:\u003C/p>\n\u003CCode code=\"yarn npm login --scope my-scope\" lang=\"bash\" />\n\n\u003Cp>Login to the publish registry for the current package\n:\u003C/p>\n\u003CCode code=\"yarn npm login --publish\" lang=\"bash\" />\n\n## Details\nThis command will ask you for your username, password, and 2FA One-Time-Password \n(when it applies). It will then modify your local configuration (in your home \nfolder, never in the project itself) to reference the new tokens thus generated.\n\nAdding the `-s,--scope` flag will cause the authentication to be done against \nwhatever registry is configured for the associated scope (see also `npmScopes`).\n\nAdding the `--publish` flag will cause the authentication to be done against the \nregistry used when publishing the package (see also `publishConfig.registry` and \n`npmPublishRegistry`).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-s%2C-scope%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-s,--scope #0\u003C/code>\u003C/h4> | Login to the registry configured for a given scope |\n| \u003Ch4 id=\"options-publish\" className=\"header-code\">\u003Ccode className=\"language-text\">--publish\u003C/code>\u003C/h4> | Login to the publish registry |\n| \u003Ch4 id=\"options-always-auth\" className=\"header-code\">\u003Ccode className=\"language-text\">--always-auth\u003C/code>\u003C/h4> | Set the npmAlwaysAuth configuration |","src/content/docs/cli/cli/login.mdx","ebda65c50d341b88","cli/logout",{"id":1053,"data":1055,"body":1061,"filePath":1062,"digest":1063,"deferredRender":22},{"title":1056,"description":1057,"editUrl":22,"head":1058,"template":189,"sidebar":1059,"pagefind":22,"draft":100},"yarn npm logout","logout of the npm registry",[],{"hidden":100,"attrs":1060},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nlogout of the npm registry\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm logout\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Logout of the default registry\n:\u003C/p>\n\u003CCode code=\"yarn npm logout\" lang=\"bash\" />\n\n\u003Cp>Logout of the @my-scope scope\n:\u003C/p>\n\u003CCode code=\"yarn npm logout --scope my-scope\" lang=\"bash\" />\n\n\u003Cp>Logout of the publish registry for the current package\n:\u003C/p>\n\u003CCode code=\"yarn npm logout --publish\" lang=\"bash\" />\n\n\u003Cp>Logout of all registries\n:\u003C/p>\n\u003CCode code=\"yarn npm logout --all\" lang=\"bash\" />\n\n## Details\nThis command will log you out by modifying your local configuration (in your \nhome folder, never in the project itself) to delete all credentials linked to a \nregistry.\n\nAdding the `-s,--scope` flag will cause the deletion to be done against whatever \nregistry is configured for the associated scope (see also `npmScopes`).\n\nAdding the `--publish` flag will cause the deletion to be done against the \nregistry used when publishing the package (see also `publishConfig.registry` and \n`npmPublishRegistry`).\n\nAdding the `-A,--all` flag will cause the deletion to be done against all \nregistries and scopes.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-s%2C-scope%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-s,--scope #0\u003C/code>\u003C/h4> | Logout of the registry configured for a given scope |\n| \u003Ch4 id=\"options-publish\" className=\"header-code\">\u003Ccode className=\"language-text\">--publish\u003C/code>\u003C/h4> | Logout of the publish registry |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Logout of all registries |","src/content/docs/cli/cli/logout.mdx","b800cb0b937a50bb","cli/node",{"id":1064,"data":1066,"body":1072,"filePath":1073,"digest":1074,"deferredRender":22},{"title":1067,"description":1068,"editUrl":22,"head":1069,"template":189,"sidebar":1070,"pagefind":22,"draft":100},"yarn node","run node with the hook already setup",[],{"hidden":100,"attrs":1071},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nrun node with the hook already setup\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn node ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Run a Node script\n:\u003C/p>\n\u003CCode code=\"yarn node ./my-script.js\" lang=\"bash\" />\n\n## Details\nThis command simply runs Node. It also makes sure to call it in a way that's \ncompatible with the current project (for example, on PnP projects the \nenvironment will be setup in such a way that PnP will be correctly injected into \nthe environment).\n\nThe Node process will use the exact same version of Node as the one used to run \nYarn itself, which might be a good way to ensure that your commands always use a \nconsistent Node version.","src/content/docs/cli/cli/node.mdx","9c8b2984cc6a2de8","cli/npm/audit",{"id":1075,"data":1077,"body":1081,"filePath":1082,"digest":1083,"deferredRender":22},{"title":742,"description":743,"editUrl":22,"head":1078,"template":189,"sidebar":1079,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1080},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nPerform a vulnerability audit against the installed packages\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm audit\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Checks for known security issues with the installed packages. The output is a list of known issues.\n:\u003C/p>\n\u003CCode code=\"yarn npm audit\" lang=\"bash\" />\n\n\u003Cp>Audit dependencies in all workspaces\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --all\" lang=\"bash\" />\n\n\u003Cp>Limit auditing to `dependencies` (excludes `devDependencies`)\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --environment production\" lang=\"bash\" />\n\n\u003Cp>Show audit report as valid JSON\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --json\" lang=\"bash\" />\n\n\u003Cp>Audit all direct and transitive dependencies\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --recursive\" lang=\"bash\" />\n\n\u003Cp>Output moderate (or more severe) vulnerabilities\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --severity moderate\" lang=\"bash\" />\n\n\u003Cp>Exclude certain packages\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --exclude package1 --exclude package2\" lang=\"bash\" />\n\n\u003Cp>Ignore specific advisories\n:\u003C/p>\n\u003CCode code=\"yarn npm audit --ignore 1234567 --ignore 7654321\" lang=\"bash\" />\n\n## Details\nThis command checks for known security reports on the packages you use. The \nreports are by default extracted from the npm registry, and may or may not be \nrelevant to your actual program (not all vulnerabilities affect all code paths).\n\nFor consistency with our other commands the default is to only check the direct \ndependencies for the active workspace. To extend this search to all workspaces, \nuse `-A,--all`. To extend this search to both direct and transitive \ndependencies, use `-R,--recursive`.\n\nApplying the `--severity` flag will limit the audit table to vulnerabilities of \nthe corresponding severity and above. Valid values are `info`, `low`, \n`moderate`, `high`, `critical`.\n\nIf the `--json` flag is set, Yarn will print the output exactly as received from \nthe registry. Regardless of this flag, the process will exit with a non-zero \nexit code if a report is found for the selected packages.\n\nIf certain packages produce false positives for a particular environment, the \n`--exclude` flag can be used to exclude any number of packages from the audit. \nThis can also be set in the configuration file with the \n`npmAuditExcludePackages` option.\n\nIf particular advisories are needed to be ignored, the `--ignore` flag can be \nused with Advisory ID's to ignore any number of advisories in the audit report. \nThis can also be set in the configuration file with the \n`npmAuditIgnoreAdvisories` option.\n\nTo understand the dependency tree requiring vulnerable packages, check the raw \nreport with the `--json` flag or use `yarn why package` to get more information \nas to who depends on them.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Audit dependencies from all workspaces |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | Audit transitive dependencies as well |\n| \u003Ch4 id=\"options-environment%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--environment #0\u003C/code>\u003C/h4> | Which environments to cover |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-no-deprecations\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-deprecations\u003C/code>\u003C/h4> | Don't warn about deprecated packages |\n| \u003Ch4 id=\"options-severity%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--severity #0\u003C/code>\u003C/h4> | Minimal severity requested for packages to be displayed |\n| \u003Ch4 id=\"options-exclude%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--exclude #0\u003C/code>\u003C/h4> | Array of glob patterns of packages to exclude from audit |\n| \u003Ch4 id=\"options-ignore%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--ignore #0\u003C/code>\u003C/h4> | Array of glob patterns of advisory ID's to ignore in the audit report |","src/content/docs/cli/cli/npm-audit.mdx","c9b9be8cd9816309","cli/npm/info",{"id":1084,"data":1086,"body":1090,"filePath":1091,"digest":1092,"deferredRender":22},{"title":990,"description":991,"editUrl":22,"head":1087,"template":189,"sidebar":1088,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1089},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nShow information about a package\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm info ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Show all available information about react (except the `dist`, `readme`, and `users` fields)\n:\u003C/p>\n\u003CCode code=\"yarn npm info react\" lang=\"bash\" />\n\n\u003Cp>Show all available information about react as valid JSON (including the `dist`, `readme`, and `users` fields)\n:\u003C/p>\n\u003CCode code=\"yarn npm info react --json\" lang=\"bash\" />\n\n\u003Cp>Show all available information about react@16.12.0\n:\u003C/p>\n\u003CCode code=\"yarn npm info react@16.12.0\" lang=\"bash\" />\n\n\u003Cp>Show all available information about react@next\n:\u003C/p>\n\u003CCode code=\"yarn npm info react@next\" lang=\"bash\" />\n\n\u003Cp>Show the description of react\n:\u003C/p>\n\u003CCode code=\"yarn npm info react --fields description\" lang=\"bash\" />\n\n\u003Cp>Show all available versions of react\n:\u003C/p>\n\u003CCode code=\"yarn npm info react --fields versions\" lang=\"bash\" />\n\n\u003Cp>Show the readme of react\n:\u003C/p>\n\u003CCode code=\"yarn npm info react --fields readme\" lang=\"bash\" />\n\n\u003Cp>Show a few fields of react\n:\u003C/p>\n\u003CCode code=\"yarn npm info react --fields homepage,repository\" lang=\"bash\" />\n\n## Details\nThis command fetches information about a package from the npm registry and \nprints it in a tree format.\n\nThe package does not have to be installed locally, but needs to have been \npublished (in particular, local changes will be ignored even for workspaces).\n\nAppend `@\u003Crange>` to the package argument to provide information specific to the \nlatest version that satisfies the range or to the corresponding tagged version. \nIf the range is invalid or if there is no version satisfying the range, the \ncommand will print a warning and fall back to the latest version.\n\nIf the `-f,--fields` option is set, it's a comma-separated list of fields which \nwill be used to only display part of the package information.\n\nBy default, this command won't return the `dist`, `readme`, and `users` fields, \nsince they are often very long. To explicitly request those fields, explicitly \nlist them with the `--fields` flag or request the output in JSON mode.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-f%2C-fields%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-f,--fields #0\u003C/code>\u003C/h4> | A comma-separated list of manifest fields that should be displayed |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/npm-info.mdx","0c8a3c785897ed05","cli/npm/login",{"id":1093,"data":1095,"body":1099,"filePath":1100,"digest":1101,"deferredRender":22},{"title":1045,"description":1046,"editUrl":22,"head":1096,"template":189,"sidebar":1097,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1098},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nStore new login info to access the npm registry\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm login\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Login to the default registry\n:\u003C/p>\n\u003CCode code=\"yarn npm login\" lang=\"bash\" />\n\n\u003Cp>Login to the registry linked to the @my-scope registry\n:\u003C/p>\n\u003CCode code=\"yarn npm login --scope my-scope\" lang=\"bash\" />\n\n\u003Cp>Login to the publish registry for the current package\n:\u003C/p>\n\u003CCode code=\"yarn npm login --publish\" lang=\"bash\" />\n\n## Details\nThis command will ask you for your username, password, and 2FA One-Time-Password \n(when it applies). It will then modify your local configuration (in your home \nfolder, never in the project itself) to reference the new tokens thus generated.\n\nAdding the `-s,--scope` flag will cause the authentication to be done against \nwhatever registry is configured for the associated scope (see also `npmScopes`).\n\nAdding the `--publish` flag will cause the authentication to be done against the \nregistry used when publishing the package (see also `publishConfig.registry` and \n`npmPublishRegistry`).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-s%2C-scope%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-s,--scope #0\u003C/code>\u003C/h4> | Login to the registry configured for a given scope |\n| \u003Ch4 id=\"options-publish\" className=\"header-code\">\u003Ccode className=\"language-text\">--publish\u003C/code>\u003C/h4> | Login to the publish registry |\n| \u003Ch4 id=\"options-always-auth\" className=\"header-code\">\u003Ccode className=\"language-text\">--always-auth\u003C/code>\u003C/h4> | Set the npmAlwaysAuth configuration |","src/content/docs/cli/cli/npm-login.mdx","e228214282b60ca5","cli/npm/logout",{"id":1102,"data":1104,"body":1108,"filePath":1109,"digest":1110,"deferredRender":22},{"title":1056,"description":1057,"editUrl":22,"head":1105,"template":189,"sidebar":1106,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1107},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nLogout of the npm registry\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm logout\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Logout of the default registry\n:\u003C/p>\n\u003CCode code=\"yarn npm logout\" lang=\"bash\" />\n\n\u003Cp>Logout of the @my-scope scope\n:\u003C/p>\n\u003CCode code=\"yarn npm logout --scope my-scope\" lang=\"bash\" />\n\n\u003Cp>Logout of the publish registry for the current package\n:\u003C/p>\n\u003CCode code=\"yarn npm logout --publish\" lang=\"bash\" />\n\n\u003Cp>Logout of all registries\n:\u003C/p>\n\u003CCode code=\"yarn npm logout --all\" lang=\"bash\" />\n\n## Details\nThis command will log you out by modifying your local configuration (in your \nhome folder, never in the project itself) to delete all credentials linked to a \nregistry.\n\nAdding the `-s,--scope` flag will cause the deletion to be done against whatever \nregistry is configured for the associated scope (see also `npmScopes`).\n\nAdding the `--publish` flag will cause the deletion to be done against the \nregistry used when publishing the package (see also `publishConfig.registry` and \n`npmPublishRegistry`).\n\nAdding the `-A,--all` flag will cause the deletion to be done against all \nregistries and scopes.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-s%2C-scope%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-s,--scope #0\u003C/code>\u003C/h4> | Logout of the registry configured for a given scope |\n| \u003Ch4 id=\"options-publish\" className=\"header-code\">\u003Ccode className=\"language-text\">--publish\u003C/code>\u003C/h4> | Logout of the publish registry |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Logout of all registries |","src/content/docs/cli/cli/npm-logout.mdx","4518f42d113136ad","cli/npm/publish",{"id":1111,"data":1113,"body":1119,"filePath":1120,"digest":1121,"deferredRender":22},{"title":1114,"description":1115,"editUrl":22,"head":1116,"template":189,"sidebar":1117,"pagefind":22,"draft":100},"yarn npm publish","publish the active workspace to the npm registry",[],{"hidden":100,"attrs":1118},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nPublish the active workspace to the npm registry\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm publish\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Publish the active workspace\n:\u003C/p>\n\u003CCode code=\"yarn npm publish\" lang=\"bash\" />\n\n## Details\nThis command will pack the active workspace into a fresh archive and upload it \nto the npm registry.\n\nThe package will by default be attached to the `latest` tag on the registry, but \nthis behavior can be overridden by using the `--tag` option.\n\nNote that for legacy reasons scoped packages are by default published with an \naccess set to `restricted` (aka \"private packages\"). This requires you to \nregister for a paid npm plan. In case you simply wish to publish a public scoped \npackage to the registry (for free), just add the `--access public` flag. This \nbehavior can be enabled by default through the `npmPublishAccess` settings.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-access%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--access #0\u003C/code>\u003C/h4> | The access for the published package (public or restricted) |\n| \u003Ch4 id=\"options-tag%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--tag #0\u003C/code>\u003C/h4> | The tag on the registry that the package should be attached to |\n| \u003Ch4 id=\"options-tolerate-republish\" className=\"header-code\">\u003Ccode className=\"language-text\">--tolerate-republish\u003C/code>\u003C/h4> | Warn and exit when republishing an already existing version of a package |\n| \u003Ch4 id=\"options-otp%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--otp #0\u003C/code>\u003C/h4> | The OTP token to use with the command |\n| \u003Ch4 id=\"options-provenance\" className=\"header-code\">\u003Ccode className=\"language-text\">--provenance\u003C/code>\u003C/h4> | Generate provenance for the package. Only available in GitHub Actions and GitLab CI. Can be set globally through the `npmPublishProvenance` setting or the `YARN_NPM_CONFIG_PROVENANCE` environment variable, or per-package through the `publishConfig.provenance` field in package.json. |\n| \u003Ch4 id=\"options-n%2C-dry-run\" className=\"header-code\">\u003Ccode className=\"language-text\">-n,--dry-run\u003C/code>\u003C/h4> | Show what would be published without actually publishing |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Output the result in JSON format |","src/content/docs/cli/cli/npm-publish.mdx","9d1dbcd302a22695","cli/npm/tag/add",{"id":1122,"data":1124,"body":1128,"filePath":1129,"digest":1130,"deferredRender":22},{"title":731,"description":732,"editUrl":22,"head":1125,"template":189,"sidebar":1126,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1127},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nAdd a tag for a specific version of a package\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm tag add \u003Cpackage> \u003Ctag>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Add a `beta` tag for version `2.3.4-beta.4` of package `my-pkg`\n:\u003C/p>\n\u003CCode code=\"yarn npm tag add my-pkg@2.3.4-beta.4 beta\" lang=\"bash\" />\n\n## Details\nThis command will add a tag to the npm registry for a specific version of a \npackage. If the tag already exists, it will be overwritten.","src/content/docs/cli/cli/npm-tag-add.mdx","4cc949fe3f98bbe8","cli/npm/tag/list",{"id":1131,"data":1133,"body":1137,"filePath":1138,"digest":1139,"deferredRender":22},{"title":1034,"description":1035,"editUrl":22,"head":1134,"template":189,"sidebar":1135,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1136},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nList all dist-tags of a package\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm tag list [package]\" lang=\"bash\" />\n\n## Examples\n\u003Cp>List all tags of package `my-pkg`\n:\u003C/p>\n\u003CCode code=\"yarn npm tag list my-pkg\" lang=\"bash\" />\n\n## Details\nThis command will list all tags of a package from the npm registry.\n\nIf the package is not specified, Yarn will default to the current workspace.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/npm-tag-list.mdx","2b50b54ba9d9a561","cli/npm/whoami",{"id":1140,"data":1142,"body":1148,"filePath":1149,"digest":1150,"deferredRender":22},{"title":1143,"description":1144,"editUrl":22,"head":1145,"template":189,"sidebar":1146,"pagefind":22,"draft":100},"yarn npm whoami","display the name of the authenticated user",[],{"hidden":100,"attrs":1147},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nDisplay the name of the authenticated user\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm whoami\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Print username for the default registry\n:\u003C/p>\n\u003CCode code=\"yarn npm whoami\" lang=\"bash\" />\n\n\u003Cp>Print username for the registry on a given scope\n:\u003C/p>\n\u003CCode code=\"yarn npm whoami --scope company\" lang=\"bash\" />\n\n## Details\nPrint the username associated with the current authentication settings to the \nstandard output.\n\nWhen using `-s,--scope`, the username printed will be the one that matches the \nauthentication settings of the registry associated with the given scope (those \nsettings can be overriden using the `npmRegistries` map, and the registry \nassociated with the scope is configured via the `npmScopes` map).\n\nWhen using `--publish`, the registry we'll select will by default be the one \nused when publishing packages (`publishConfig.registry` or `npmPublishRegistry` \nif available, otherwise we'll fallback to the regular `npmRegistryServer`).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-s%2C-scope%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-s,--scope #0\u003C/code>\u003C/h4> | Print username for the registry configured for a given scope |\n| \u003Ch4 id=\"options-publish\" className=\"header-code\">\u003Ccode className=\"language-text\">--publish\u003C/code>\u003C/h4> | Print username for the publish registry |","src/content/docs/cli/cli/npm-whoami.mdx","7090d0df944efcd5","cli/npm/tag/remove",{"id":1151,"data":1153,"body":1159,"filePath":1160,"digest":1161,"deferredRender":22},{"title":1154,"description":1155,"editUrl":22,"head":1156,"template":189,"sidebar":1157,"pagefind":22,"draft":100},"yarn npm tag remove","remove a tag from a package",[],{"hidden":100,"attrs":1158},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nRemove a tag from a package\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm tag remove \u003Cpackage> \u003Ctag>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Remove the `beta` tag from package `my-pkg`\n:\u003C/p>\n\u003CCode code=\"yarn npm tag remove my-pkg beta\" lang=\"bash\" />\n\n## Details\nThis command will remove a tag from a package from the npm registry.","src/content/docs/cli/cli/npm-tag-remove.mdx","335c979421ce8266","cli/pack",{"id":1162,"data":1164,"body":1170,"filePath":1171,"digest":1172,"deferredRender":22},{"title":1165,"description":1166,"editUrl":22,"head":1167,"template":189,"sidebar":1168,"pagefind":22,"draft":100},"yarn pack","generate a tarball from the active workspace",[],{"hidden":100,"attrs":1169},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ngenerate a tarball from the active workspace\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn pack\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Create an archive from the active workspace\n:\u003C/p>\n\u003CCode code=\"yarn pack\" lang=\"bash\" />\n\n\u003Cp>List the files that would be made part of the workspace's archive\n:\u003C/p>\n\u003CCode code=\"yarn pack --dry-run\" lang=\"bash\" />\n\n\u003Cp>Name and output the archive in a dedicated folder\n:\u003C/p>\n\u003CCode code=\"yarn pack --out /artifacts/%s-%v.tgz\" lang=\"bash\" />\n\n## Details\nThis command will turn the active workspace into a compressed archive suitable \nfor publishing. The archive will by default be stored at the root of the \nworkspace (`package.tgz`).\n\nIf the `-o,--out` is set the archive will be created at the specified path. The \n`%s` and `%v` variables can be used within the path and will be respectively \nreplaced by the package name and version.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-install-if-needed\" className=\"header-code\">\u003Ccode className=\"language-text\">--install-if-needed\u003C/code>\u003C/h4> | Run a preliminary `yarn install` if the package contains build scripts |\n| \u003Ch4 id=\"options-n%2C-dry-run\" className=\"header-code\">\u003Ccode className=\"language-text\">-n,--dry-run\u003C/code>\u003C/h4> | Print the file paths without actually generating the package archive |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-o%2C-out%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-o,--out #0\u003C/code>\u003C/h4> | Create the archive at the specified path |","src/content/docs/cli/cli/pack.mdx","773855d276b75231","cli/patch-commit",{"id":1173,"data":1175,"body":1181,"filePath":1182,"digest":1183,"deferredRender":22},{"title":1176,"description":1177,"editUrl":22,"head":1178,"template":189,"sidebar":1179,"pagefind":22,"draft":100},"yarn patch-commit","generate a patch out of a directory",[],{"hidden":100,"attrs":1180},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ngenerate a patch out of a directory\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn patch-commit \u003CpatchFolder>\" lang=\"bash\" />\n\n## Details\nBy default, this will print a patchfile on stdout based on the diff between the \nfolder passed in and the original version of the package. Such file is suitable \nfor consumption with the `patch:` protocol.\n\nWith the `-s,--save` option set, the patchfile won't be printed on stdout \nanymore and will instead be stored within a local file (by default kept within \n`.yarn/patches`, but configurable via the `patchFolder` setting). A \n`resolutions` entry will also be added to your top-level manifest, referencing \nthe patched package via the `patch:` protocol.\n\nNote that only folders generated by `yarn patch` are accepted as valid input for \n`yarn patch-commit`.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-s%2C-save\" className=\"header-code\">\u003Ccode className=\"language-text\">-s,--save\u003C/code>\u003C/h4> | Add the patch to your resolution entries |","src/content/docs/cli/cli/patch-commit.mdx","a7b67ed757db94ef","cli/peer-requirements",{"id":1184,"data":1186,"body":1190,"filePath":1191,"digest":1192,"deferredRender":22},{"title":916,"description":917,"editUrl":22,"head":1187,"template":189,"sidebar":1188,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1189},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nexplain a set of peer requirements\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn explain peer-requirements [hash]\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Explain the corresponding peer requirement for a hash\n:\u003C/p>\n\u003CCode code=\"yarn explain peer-requirements p1a4ed\" lang=\"bash\" />\n\n\u003Cp>List all peer requirements\n:\u003C/p>\n\u003CCode code=\"yarn explain peer-requirements\" lang=\"bash\" />\n\n## Details\nA peer requirement represents all peer requests that a subject must satisfy when \nproviding a requested package to requesters.\n\nWhen the hash argument is specified, this command prints a detailed explanation \nof the peer requirement corresponding to the hash and whether it is satisfied or \nnot.\n\nWhen used without arguments, this command lists all peer requirements and the \ncorresponding hash that can be used to get detailed information about a given \nrequirement.\n\n**Note:** A hash is a six-letter p-prefixed code that can be obtained from peer \ndependency warnings or from the list of all peer requirements (`yarn explain \npeer-requirements`).","src/content/docs/cli/cli/peer-requirements.mdx","135e6cdc53f70410","cli/plugin/check",{"id":1193,"data":1195,"body":1201,"filePath":1202,"digest":1203,"deferredRender":22},{"title":1196,"description":1197,"editUrl":22,"head":1198,"template":189,"sidebar":1199,"pagefind":22,"draft":100},"yarn plugin check","find all third-party plugins that differ from their own spec",[],{"hidden":100,"attrs":1200},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nFind all third-party plugins that differ from their own spec\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn plugin check\" lang=\"bash\" />\n\n## Examples\n\u003Cp>find all third-party plugins that differ from their own spec\n:\u003C/p>\n\u003CCode code=\"yarn plugin check\" lang=\"bash\" />\n\n## Details\nCheck only the plugins from https.\n\nIf this command detects any plugin differences in the CI environment, it will \nthrow an error.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/plugin-check.mdx","8c5b2d5e27c4d9a1","cli/patch",{"id":1204,"data":1206,"body":1212,"filePath":1213,"digest":1214,"deferredRender":22},{"title":1207,"description":1208,"editUrl":22,"head":1209,"template":189,"sidebar":1210,"pagefind":22,"draft":100},"yarn patch","prepare a package for patching",[],{"hidden":100,"attrs":1211},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nprepare a package for patching\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn patch \u003Cpackage>\" lang=\"bash\" />\n\n## Details\nThis command will cause a package to be extracted in a temporary directory \nintended to be editable at will.\n\nOnce you're done with your changes, run `yarn patch-commit -s path` (with `path` \nbeing the temporary directory you received) to generate a patchfile and register \nit into your top-level manifest via the `patch:` protocol. Run `yarn \npatch-commit -h` for more details.\n\nCalling the command when you already have a patch won't import it by default (in \nother words, the default behavior is to reset existing patches). However, adding \nthe `-u,--update` flag will import any current patch.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-u%2C-update\" className=\"header-code\">\u003Ccode className=\"language-text\">-u,--update\u003C/code>\u003C/h4> | Reapply local patches that already apply to this packages |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/patch.mdx","49c7d8ddfe2a9fe0","cli/plugin/import/from/sources",{"id":1215,"data":1217,"body":1223,"filePath":1224,"digest":1225,"deferredRender":22},{"title":1218,"description":1219,"editUrl":22,"head":1220,"template":189,"sidebar":1221,"pagefind":22,"draft":100},"yarn plugin import from sources","build a plugin from sources",[],{"hidden":100,"attrs":1222},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nBuild a plugin from sources\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn plugin import from sources \u003Cname>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Build and activate the \"@yarnpkg/plugin-exec\" plugin\n:\u003C/p>\n\u003CCode code=\"yarn plugin import from sources @yarnpkg/plugin-exec\" lang=\"bash\" />\n\n\u003Cp>Build and activate the \"@yarnpkg/plugin-exec\" plugin (shorthand)\n:\u003C/p>\n\u003CCode code=\"yarn plugin import from sources exec\" lang=\"bash\" />\n\n## Details\nThis command clones the Yarn repository into a temporary folder, builds the \nspecified contrib plugin and updates the configuration to reference it in \nfurther CLI invocations.\n\nThe plugins can be referenced by their short name if sourced from the official \nYarn repository.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-path%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--path #0\u003C/code>\u003C/h4> | The path where the repository should be cloned to |\n| \u003Ch4 id=\"options-repository%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--repository #0\u003C/code>\u003C/h4> | The repository that should be cloned |\n| \u003Ch4 id=\"options-branch%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--branch #0\u003C/code>\u003C/h4> | The branch of the repository that should be cloned |\n| \u003Ch4 id=\"options-no-minify\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-minify\u003C/code>\u003C/h4> | Build a plugin for development (debugging) - non-minified and non-mangled |\n| \u003Ch4 id=\"options-f%2C-force\" className=\"header-code\">\u003Ccode className=\"language-text\">-f,--force\u003C/code>\u003C/h4> | Always clone the repository instead of trying to fetch the latest commits |","src/content/docs/cli/cli/plugin-import-from-sources.mdx","3c64a3f7c5bc5afd","cli/plugin/import",{"id":1226,"data":1228,"body":1232,"filePath":1233,"digest":1234,"deferredRender":22},{"title":969,"description":970,"editUrl":22,"head":1229,"template":189,"sidebar":1230,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1231},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nDownload a plugin\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn plugin import \u003Cname>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Download and activate the \"@yarnpkg/plugin-exec\" plugin\n:\u003C/p>\n\u003CCode code=\"yarn plugin import @yarnpkg/plugin-exec\" lang=\"bash\" />\n\n\u003Cp>Download and activate the \"@yarnpkg/plugin-exec\" plugin (shorthand)\n:\u003C/p>\n\u003CCode code=\"yarn plugin import exec\" lang=\"bash\" />\n\n\u003Cp>Download and activate a community plugin\n:\u003C/p>\n\u003CCode code=\"yarn plugin import https://example.org/path/to/plugin.js\" lang=\"bash\" />\n\n\u003Cp>Activate a local plugin\n:\u003C/p>\n\u003CCode code=\"yarn plugin import ./path/to/plugin.js\" lang=\"bash\" />\n\n## Details\nThis command downloads the specified plugin from its remote location and updates \nthe configuration to reference it in further CLI invocations.\n\nThree types of plugin references are accepted:\n\n- If the plugin is stored within the Yarn repository, it can be referenced by \nname.\n\n- Third-party plugins can be referenced directly through their public urls.\n\n- Local plugins can be referenced by their path on the disk.\n\nIf the `--no-checksum` option is set, Yarn will no longer care if the plugin is \nmodified.\n\nPlugins cannot be downloaded from the npm registry, and aren't allowed to have \ndependencies (they need to be bundled into a single file, possibly thanks to the \n`@yarnpkg/builder` package).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-checksum\" className=\"header-code\">\u003Ccode className=\"language-text\">--checksum\u003C/code>\u003C/h4> | Whether to care if this plugin is modified |","src/content/docs/cli/cli/plugin-import.mdx","f7c3bd78f41b18d7","cli/plugin/list",{"id":1235,"data":1237,"body":1243,"filePath":1244,"digest":1245,"deferredRender":22},{"title":1238,"description":1239,"editUrl":22,"head":1240,"template":189,"sidebar":1241,"pagefind":22,"draft":100},"yarn plugin list","list the available official plugins",[],{"hidden":100,"attrs":1242},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nList the available official plugins\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn plugin list\" lang=\"bash\" />\n\n## Examples\n\u003Cp>List the official plugins\n:\u003C/p>\n\u003CCode code=\"yarn plugin list\" lang=\"bash\" />\n\n## Details\nThis command prints the plugins available directly from the Yarn repository. \nOnly those plugins can be referenced by name in `yarn plugin import`.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/plugin-list.mdx","af26ed650af864b3","cli/plugin/remove",{"id":1246,"data":1248,"body":1254,"filePath":1255,"digest":1256,"deferredRender":22},{"title":1249,"description":1250,"editUrl":22,"head":1251,"template":189,"sidebar":1252,"pagefind":22,"draft":100},"yarn plugin remove","remove a plugin",[],{"hidden":100,"attrs":1253},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nRemove a plugin\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn plugin remove \u003Cname>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Remove a plugin imported from the Yarn repository\n:\u003C/p>\n\u003CCode code=\"yarn plugin remove @yarnpkg/plugin-typescript\" lang=\"bash\" />\n\n\u003Cp>Remove a plugin imported from a local file\n:\u003C/p>\n\u003CCode code=\"yarn plugin remove my-local-plugin\" lang=\"bash\" />\n\n## Details\nThis command deletes the specified plugin from the .yarn/plugins folder and \nremoves it from the configuration.\n\n**Note:** The plugins have to be referenced by their name property, which can be \nobtained using the `yarn plugin runtime` command. Shorthands are not allowed.","src/content/docs/cli/cli/plugin-remove.mdx","bd537ba4e920bb04","cli/plugin/runtime",{"id":1257,"data":1259,"body":1265,"filePath":1266,"digest":1267,"deferredRender":22},{"title":1260,"description":1261,"editUrl":22,"head":1262,"template":189,"sidebar":1263,"pagefind":22,"draft":100},"yarn plugin runtime","list the active plugins",[],{"hidden":100,"attrs":1264},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nList the active plugins\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn plugin runtime\" lang=\"bash\" />\n\n## Examples\n\u003Cp>List the currently active plugins\n:\u003C/p>\n\u003CCode code=\"yarn plugin runtime\" lang=\"bash\" />\n\n## Details\nThis command prints the currently active plugins. Will be displayed both builtin \nplugins and external plugins.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/plugin-runtime.mdx","2ebf7709db7b1752","cli/publish",{"id":1268,"data":1270,"body":1274,"filePath":1275,"digest":1276,"deferredRender":22},{"title":1114,"description":1115,"editUrl":22,"head":1271,"template":189,"sidebar":1272,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1273},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\npublish the active workspace to the npm registry\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm publish\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Publish the active workspace\n:\u003C/p>\n\u003CCode code=\"yarn npm publish\" lang=\"bash\" />\n\n## Details\nThis command will pack the active workspace into a fresh archive and upload it \nto the npm registry.\n\nThe package will by default be attached to the `latest` tag on the registry, but \nthis behavior can be overridden by using the `--tag` option.\n\nNote that for legacy reasons scoped packages are by default published with an \naccess set to `restricted` (aka \"private packages\"). This requires you to \nregister for a paid npm plan. In case you simply wish to publish a public scoped \npackage to the registry (for free), just add the `--access public` flag. This \nbehavior can be enabled by default through the `npmPublishAccess` settings.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-access%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--access #0\u003C/code>\u003C/h4> | The access for the published package (public or restricted) |\n| \u003Ch4 id=\"options-tag%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--tag #0\u003C/code>\u003C/h4> | The tag on the registry that the package should be attached to |\n| \u003Ch4 id=\"options-tolerate-republish\" className=\"header-code\">\u003Ccode className=\"language-text\">--tolerate-republish\u003C/code>\u003C/h4> | Warn and exit when republishing an already existing version of a package |\n| \u003Ch4 id=\"options-otp%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--otp #0\u003C/code>\u003C/h4> | The OTP token to use with the command |\n| \u003Ch4 id=\"options-provenance\" className=\"header-code\">\u003Ccode className=\"language-text\">--provenance\u003C/code>\u003C/h4> | Generate provenance for the package. Only available in GitHub Actions and GitLab CI. Can be set globally through the `npmPublishProvenance` setting or the `YARN_NPM_CONFIG_PROVENANCE` environment variable, or per-package through the `publishConfig.provenance` field in package.json. |","src/content/docs/cli/cli/publish.mdx","78f0b19453d8ec5e","cli/rebuild",{"id":1277,"data":1279,"body":1285,"filePath":1286,"digest":1287,"deferredRender":22},{"title":1280,"description":1281,"editUrl":22,"head":1282,"template":189,"sidebar":1283,"pagefind":22,"draft":100},"yarn rebuild","rebuild the project's native packages",[],{"hidden":100,"attrs":1284},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nrebuild the project's native packages\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn rebuild ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Rebuild all packages\n:\u003C/p>\n\u003CCode code=\"yarn rebuild\" lang=\"bash\" />\n\n\u003Cp>Rebuild fsevents only\n:\u003C/p>\n\u003CCode code=\"yarn rebuild fsevents\" lang=\"bash\" />\n\n## Details\nThis command will automatically cause Yarn to forget about previous compilations \nof the given packages and to run them again.\n\nNote that while Yarn forgets the compilation, the previous artifacts aren't \nerased from the filesystem and may affect the next builds (in good or bad). To \navoid this, you may remove the .yarn/unplugged folder, or any other relevant \nlocation where packages might have been stored (Yarn may offer a way to do that \nautomatically in the future).\n\nBy default all packages will be rebuilt, but you can filter the list by \nspecifying the names of the packages you want to clear from memory.","src/content/docs/cli/cli/rebuild.mdx","8f02faa1b997cf14","cli/query",{"id":1288,"data":1290,"body":1294,"filePath":1295,"digest":1296,"deferredRender":22},{"title":839,"description":840,"editUrl":22,"head":1291,"template":189,"sidebar":1292,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1293},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nquery the constraints fact database\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn constraints query \u003Cquery>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>List all dependencies throughout the workspace\n:\u003C/p>\n\u003CCode code=\"yarn constraints query 'workspace_has_dependency(_, DependencyName, _, _).'\" lang=\"bash\" />\n\n## Details\nThis command will output all matches to the given prolog query.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/query.mdx","3cd4b9276e9d10b3","cli/remove",{"id":1297,"data":1299,"body":1305,"filePath":1306,"digest":1307,"deferredRender":22},{"title":1300,"description":1301,"editUrl":22,"head":1302,"template":189,"sidebar":1303,"pagefind":22,"draft":100},"yarn remove","remove dependencies from the project",[],{"hidden":100,"attrs":1304},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nremove dependencies from the project\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn remove ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Remove a dependency from the current project\n:\u003C/p>\n\u003CCode code=\"yarn remove lodash\" lang=\"bash\" />\n\n\u003Cp>Remove a dependency from all workspaces at once\n:\u003C/p>\n\u003CCode code=\"yarn remove lodash --all\" lang=\"bash\" />\n\n\u003Cp>Remove all dependencies starting with `eslint-`\n:\u003C/p>\n\u003CCode code=\"yarn remove 'eslint-*'\" lang=\"bash\" />\n\n\u003Cp>Remove all dependencies with the `@babel` scope\n:\u003C/p>\n\u003CCode code=\"yarn remove '@babel/*'\" lang=\"bash\" />\n\n\u003Cp>Remove all dependencies matching `react-dom` or `react-helmet`\n:\u003C/p>\n\u003CCode code=\"yarn remove 'react-{dom,helmet}'\" lang=\"bash\" />\n\n## Details\nThis command will remove the packages matching the specified patterns from the \ncurrent workspace.\n\nIf the `--mode=\u003Cmode>` option is set, Yarn will change which artifacts are \ngenerated. The modes currently supported are:\n\n- `skip-build` will not run the build scripts at all. Note that this is \ndifferent from setting `enableScripts` to false because the latter will \ndisable build scripts, and thus affect the content of the artifacts generated \non disk, whereas the former will just disable the build step - but not the \nscripts themselves, which just won't run.\n\n- `update-lockfile` will skip the link step altogether, and only fetch packages \nthat are missing from the lockfile (or that have no associated checksums). \nThis mode is typically used by tools like Renovate or Dependabot to keep a \nlockfile up-to-date without incurring the full install cost.\n\nThis command accepts glob patterns as arguments (if valid Idents and supported \nby [micromatch](https://github.com/micromatch/micromatch)). Make sure to escape \nthe patterns, to prevent your own shell from trying to expand them.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Apply the operation to all workspaces from the current project |\n| \u003Ch4 id=\"options-mode%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--mode #0\u003C/code>\u003C/h4> | Change what artifacts installs generate |","src/content/docs/cli/cli/remove.mdx","ddca0a88c61e0a59","cli/resolution",{"id":1308,"data":1310,"body":1316,"filePath":1317,"digest":1318,"deferredRender":22},{"title":1311,"description":1312,"editUrl":22,"head":1313,"template":189,"sidebar":1314,"pagefind":22,"draft":100},"yarn set resolution","enforce a package resolution",[],{"hidden":100,"attrs":1315},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nenforce a package resolution\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn set resolution \u003Cdescriptor> \u003Cresolution>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Force all instances of lodash@npm:^1.2.3 to resolve to 1.5.0\n:\u003C/p>\n\u003CCode code=\"yarn set resolution lodash@npm:^1.2.3 npm:1.5.0\" lang=\"bash\" />\n\n## Details\nThis command updates the resolution table so that `descriptor` is resolved by \n`resolution`.\n\nNote that by default this command only affect the current resolution table - \nmeaning that this \"manual override\" will disappear if you remove the lockfile, \nor if the package disappear from the table. If you wish to make the enforced \nresolution persist whatever happens, edit the `resolutions` field in your \ntop-level manifest.\n\nNote that no attempt is made at validating that `resolution` is a valid \nresolution entry for `descriptor`.","src/content/docs/cli/cli/resolution.mdx","73cd5eb16d3f37c6","cli/runtime",{"id":1319,"data":1321,"body":1325,"filePath":1326,"digest":1327,"deferredRender":22},{"title":1260,"description":1261,"editUrl":22,"head":1322,"template":189,"sidebar":1323,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1324},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nlist the active plugins\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn plugin runtime\" lang=\"bash\" />\n\n## Examples\n\u003Cp>List the currently active plugins\n:\u003C/p>\n\u003CCode code=\"yarn plugin runtime\" lang=\"bash\" />\n\n## Details\nThis command prints the currently active plugins. Will be displayed both builtin \nplugins and external plugins.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/runtime.mdx","262c551aec88be84","cli/run",{"id":1328,"data":1330,"body":1336,"filePath":1337,"digest":1338,"deferredRender":22},{"title":1331,"description":1332,"editUrl":22,"head":1333,"template":189,"sidebar":1334,"pagefind":22,"draft":100},"yarn run","run a script defined in the package.json",[],{"hidden":100,"attrs":1335},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nrun a script defined in the package.json\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn run \u003CscriptName> ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Run the tests from the local workspace\n:\u003C/p>\n\u003CCode code=\"yarn run test\" lang=\"bash\" />\n\n\u003Cp>Same thing, but without the \"run\" keyword\n:\u003C/p>\n\u003CCode code=\"yarn test\" lang=\"bash\" />\n\n\u003Cp>Inspect Webpack while running\n:\u003C/p>\n\u003CCode code=\"yarn run --inspect-brk webpack\" lang=\"bash\" />\n\n## Details\nThis command will run a tool. The exact tool that will be executed will depend \non the current state of your workspace:\n\n- If the `scripts` field from your local package.json contains a matching script \nname, its definition will get executed.\n\n- Otherwise, if one of the local workspace's dependencies exposes a binary with \na matching name, this binary will get executed.\n\n- Otherwise, if the specified name contains a colon character and if one of the \nworkspaces in the project contains exactly one script with a matching name, \nthen this script will get executed.\n\nWhatever happens, the cwd of the spawned process will be the workspace that \ndeclares the script (which makes it possible to call commands cross-workspaces \nusing the third syntax).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-inspect\" className=\"header-code\">\u003Ccode className=\"language-text\">--inspect\u003C/code>\u003C/h4> | Forwarded to the underlying Node process when executing a binary |\n| \u003Ch4 id=\"options-inspect-brk\" className=\"header-code\">\u003Ccode className=\"language-text\">--inspect-brk\u003C/code>\u003C/h4> | Forwarded to the underlying Node process when executing a binary |\n| \u003Ch4 id=\"options-T%2C-top-level\" className=\"header-code\">\u003Ccode className=\"language-text\">-T,--top-level\u003C/code>\u003C/h4> | Check the root workspace for scripts and/or binaries instead of the current one |\n| \u003Ch4 id=\"options-B%2C-binaries-only\" className=\"header-code\">\u003Ccode className=\"language-text\">-B,--binaries-only\u003C/code>\u003C/h4> | Ignore any user defined scripts and only check for binaries |\n| \u003Ch4 id=\"options-require%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--require #0\u003C/code>\u003C/h4> | Forwarded to the underlying Node process when executing a binary |","src/content/docs/cli/cli/run.mdx","cd97ecc1b43e2e8b","cli/search",{"id":1339,"data":1341,"body":1347,"filePath":1348,"digest":1349,"deferredRender":22},{"title":1342,"description":1343,"editUrl":22,"head":1344,"template":189,"sidebar":1345,"pagefind":22,"draft":100},"yarn search","open the search interface",[],{"hidden":100,"attrs":1346},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nopen the search interface\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn search\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Open the search window\n:\u003C/p>\n\u003CCode code=\"yarn search\" lang=\"bash\" />\n\n## Details\nThis command opens a fullscreen terminal interface where you can search for and \ninstall packages from the npm registry.","src/content/docs/cli/cli/search.mdx","fdff85428a5035ee","cli/set/resolution",{"id":1350,"data":1352,"body":1356,"filePath":1357,"digest":1358,"deferredRender":22},{"title":1311,"description":1312,"editUrl":22,"head":1353,"template":189,"sidebar":1354,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1355},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nEnforce a package resolution\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn set resolution \u003Cdescriptor> \u003Cresolution>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Force all instances of lodash@npm:^1.2.3 to resolve to 1.5.0\n:\u003C/p>\n\u003CCode code=\"yarn set resolution lodash@npm:^1.2.3 npm:1.5.0\" lang=\"bash\" />\n\n## Details\nThis command updates the resolution table so that `descriptor` is resolved by \n`resolution`.\n\nNote that by default this command only affect the current resolution table - \nmeaning that this \"manual override\" will disappear if you remove the lockfile, \nor if the package disappear from the table. If you wish to make the enforced \nresolution persist whatever happens, edit the `resolutions` field in your \ntop-level manifest.\n\nNote that no attempt is made at validating that `resolution` is a valid \nresolution entry for `descriptor`.","src/content/docs/cli/cli/set-resolution.mdx","bd8e5fe8df3429c7","cli/set/version/from/sources",{"id":1359,"data":1361,"body":1367,"filePath":1368,"digest":1369,"deferredRender":22},{"title":1362,"description":1363,"editUrl":22,"head":1364,"template":189,"sidebar":1365,"pagefind":22,"draft":100},"yarn set version from sources","build Yarn from master",[],{"hidden":100,"attrs":1366},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nBuild yarn from master\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn set version from sources\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Build Yarn from master\n:\u003C/p>\n\u003CCode code=\"yarn set version from sources\" lang=\"bash\" />\n\n## Details\nThis command will clone the Yarn repository into a temporary folder, then build \nit. The resulting bundle will then be copied into the local project.\n\nBy default, it also updates all contrib plugins to the same commit the bundle is \nbuilt from. This behavior can be disabled by using the `--skip-plugins` flag.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-path%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--path #0\u003C/code>\u003C/h4> | The path where the repository should be cloned to |\n| \u003Ch4 id=\"options-repository%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--repository #0\u003C/code>\u003C/h4> | The repository that should be cloned |\n| \u003Ch4 id=\"options-branch%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--branch #0\u003C/code>\u003C/h4> | The branch of the repository that should be cloned |\n| \u003Ch4 id=\"options-plugin%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--plugin #0\u003C/code>\u003C/h4> | An array of additional plugins that should be included in the bundle |\n| \u003Ch4 id=\"options-n%2C-dry-run\" className=\"header-code\">\u003Ccode className=\"language-text\">-n,--dry-run\u003C/code>\u003C/h4> | If set, the bundle will be built but not added to the project |\n| \u003Ch4 id=\"options-no-minify\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-minify\u003C/code>\u003C/h4> | Build a bundle for development (debugging) - non-minified and non-mangled |\n| \u003Ch4 id=\"options-f%2C-force\" className=\"header-code\">\u003Ccode className=\"language-text\">-f,--force\u003C/code>\u003C/h4> | Always clone the repository instead of trying to fetch the latest commits |\n| \u003Ch4 id=\"options-skip-plugins\" className=\"header-code\">\u003Ccode className=\"language-text\">--skip-plugins\u003C/code>\u003C/h4> | Skip updating the contrib plugins |","src/content/docs/cli/cli/set-version-from-sources.mdx","7a56791178f31b58","cli/set/version",{"id":1370,"data":1372,"body":1378,"filePath":1379,"digest":1380,"deferredRender":22},{"title":1373,"description":1374,"editUrl":22,"head":1375,"template":189,"sidebar":1376,"pagefind":22,"draft":100},"yarn set version","lock the Yarn version used by the project",[],{"hidden":100,"attrs":1377},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nLock the yarn version used by the project\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn set version \u003Cversion>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Download the latest release from the Yarn repository\n:\u003C/p>\n\u003CCode code=\"yarn set version latest\" lang=\"bash\" />\n\n\u003Cp>Download the latest canary release from the Yarn repository\n:\u003C/p>\n\u003CCode code=\"yarn set version canary\" lang=\"bash\" />\n\n\u003Cp>Download the latest classic release from the Yarn repository\n:\u003C/p>\n\u003CCode code=\"yarn set version classic\" lang=\"bash\" />\n\n\u003Cp>Download the most recent Yarn 3 build\n:\u003C/p>\n\u003CCode code=\"yarn set version 3.x\" lang=\"bash\" />\n\n\u003Cp>Download a specific Yarn 2 build\n:\u003C/p>\n\u003CCode code=\"yarn set version 2.0.0-rc.30\" lang=\"bash\" />\n\n\u003Cp>Switch back to a specific Yarn 1 release\n:\u003C/p>\n\u003CCode code=\"yarn set version 1.22.1\" lang=\"bash\" />\n\n\u003Cp>Use a release from the local filesystem\n:\u003C/p>\n\u003CCode code=\"yarn set version ./yarn.cjs\" lang=\"bash\" />\n\n\u003Cp>Use a release from a URL\n:\u003C/p>\n\u003CCode code=\"yarn set version https://repo.yarnpkg.com/3.1.0/packages/yarnpkg-cli/bin/yarn.js\" lang=\"bash\" />\n\n\u003Cp>Download the version used to invoke the command\n:\u003C/p>\n\u003CCode code=\"yarn set version self\" lang=\"bash\" />\n\n## Details\nThis command will set a specific release of Yarn to be used by Corepack: \nhttps://nodejs.org/api/corepack.html.\n\nBy default it only will set the `packageManager` field at the root of your \nproject, but if the referenced release cannot be represented this way, if you \nalready have `yarnPath` configured, or if you set the `--yarn-path` command line \nflag, then the release will also be downloaded from the Yarn GitHub repository, \nstored inside your project, and referenced via the `yarnPath` settings from your \nproject `.yarnrc.yml` file.\n\nA very good use case for this command is to enforce the version of Yarn used by \nany single member of your team inside the same project - by doing this you \nensure that you have control over Yarn upgrades and downgrades (including on \nyour deployment servers), and get rid of most of the headaches related to \nsomeone using a slightly different version and getting different behavior.\n\nThe version specifier can be:\n\n- a tag:\n\n- `latest` / `berry` / `stable` -> the most recent stable berry (`>=2.0.0`) \nrelease\n\n- `canary` -> the most recent canary (release candidate) berry (`>=2.0.0`) \nrelease\n\n- `classic` -> the most recent classic (`^0.x || ^1.x`) release\n\n- a semver range (e.g. `2.x`) -> the most recent version satisfying the range \n(limited to berry releases)\n\n- a semver version (e.g. `2.4.1`, `1.22.1`)\n\n- a local file referenced through either a relative or absolute path\n\n- `self` -> the version used to invoke the command\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-yarn-path\" className=\"header-code\">\u003Ccode className=\"language-text\">--yarn-path\u003C/code>\u003C/h4> | Set the yarnPath setting even if the version can be accessed by Corepack |\n| \u003Ch4 id=\"options-only-if-needed\" className=\"header-code\">\u003Ccode className=\"language-text\">--only-if-needed\u003C/code>\u003C/h4> | Only lock the Yarn version if it isn't already locked |","src/content/docs/cli/cli/set-version.mdx","89866205959672c9","cli/set",{"id":1381,"data":1383,"body":1387,"filePath":1388,"digest":1389,"deferredRender":22},{"title":817,"description":818,"editUrl":22,"head":1384,"template":189,"sidebar":1385,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1386},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nchange a configuration settings\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn config set \u003Cname> \u003Cvalue>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Set a simple configuration setting (a string, a number, or a boolean)\n:\u003C/p>\n\u003CCode code=\"yarn config set initScope myScope\" lang=\"bash\" />\n\n\u003Cp>Set a simple configuration setting (a string, a number, or a boolean) using the `--json` flag\n:\u003C/p>\n\u003CCode code=\"yarn config set initScope --json \\&quot;myScope\\&quot;\" lang=\"bash\" />\n\n\u003Cp>Set a complex configuration setting (an Array) using the `--json` flag\n:\u003C/p>\n\u003CCode code=\"yarn config set unsafeHttpWhitelist --json '[&quot;*.example.com&quot;, &quot;example.com&quot;]'\" lang=\"bash\" />\n\n\u003Cp>Set a complex configuration setting (an Object) using the `--json` flag\n:\u003C/p>\n\u003CCode code=\"yarn config set packageExtensions --json '{ &quot;@babel/parser@*&quot;: { &quot;dependencies&quot;: { &quot;@babel/types&quot;: &quot;*&quot; } } }'\" lang=\"bash\" />\n\n\u003Cp>Set a nested configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config set npmScopes.company.npmRegistryServer &quot;https://npm.example.com&quot;\" lang=\"bash\" />\n\n\u003Cp>Set a nested configuration setting using indexed access for non-simple keys\n:\u003C/p>\n\u003CCode code=\"yarn config set 'npmRegistries[&quot;//npm.example.com&quot;].npmAuthToken' &quot;ffffffff-ffff-ffff-ffff-ffffffffffff&quot;\" lang=\"bash\" />\n\n## Details\nThis command will set a configuration setting.\n\nWhen used without the `--json` flag, it can only set a simple configuration \nsetting (a string, a number, or a boolean).\n\nWhen used with the `--json` flag, it can set both simple and complex \nconfiguration settings, including Arrays and Objects.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Set complex configuration settings to JSON values |\n| \u003Ch4 id=\"options-H%2C-home\" className=\"header-code\">\u003Ccode className=\"language-text\">-H,--home\u003C/code>\u003C/h4> | Update the home configuration instead of the project configuration |","src/content/docs/cli/cli/set.mdx","4e817011e65b27e6","cli/source",{"id":1390,"data":1392,"body":1396,"filePath":1397,"digest":1398,"deferredRender":22},{"title":850,"description":851,"editUrl":22,"head":1393,"template":189,"sidebar":1394,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1395},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nprint the source code for the constraints\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn constraints source\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Prints the source code\n:\u003C/p>\n\u003CCode code=\"yarn constraints source\" lang=\"bash\" />\n\n\u003Cp>Print the source code and the fact database\n:\u003C/p>\n\u003CCode code=\"yarn constraints source -v\" lang=\"bash\" />\n\n## Details\nThis command will print the Prolog source code used by the constraints engine. \nAdding the `-v,--verbose` flag will print the *full* source code, including the \nfact database automatically compiled from the workspace manifests.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-v%2C-verbose\" className=\"header-code\">\u003Ccode className=\"language-text\">-v,--verbose\u003C/code>\u003C/h4> | Also print the fact database automatically compiled from the workspace manifests |","src/content/docs/cli/cli/source.mdx","156b804359fac872","cli/sources",{"id":1399,"data":1401,"body":1405,"filePath":1406,"digest":1407,"deferredRender":22},{"title":1218,"description":1219,"editUrl":22,"head":1402,"template":189,"sidebar":1403,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1404},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nbuild a plugin from sources\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn plugin import from sources \u003Cname>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Build and activate the \"@yarnpkg/plugin-exec\" plugin\n:\u003C/p>\n\u003CCode code=\"yarn plugin import from sources @yarnpkg/plugin-exec\" lang=\"bash\" />\n\n\u003Cp>Build and activate the \"@yarnpkg/plugin-exec\" plugin (shorthand)\n:\u003C/p>\n\u003CCode code=\"yarn plugin import from sources exec\" lang=\"bash\" />\n\n## Details\nThis command clones the Yarn repository into a temporary folder, builds the \nspecified contrib plugin and updates the configuration to reference it in \nfurther CLI invocations.\n\nThe plugins can be referenced by their short name if sourced from the official \nYarn repository.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-path%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--path #0\u003C/code>\u003C/h4> | The path where the repository should be cloned to |\n| \u003Ch4 id=\"options-repository%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--repository #0\u003C/code>\u003C/h4> | The repository that should be cloned |\n| \u003Ch4 id=\"options-branch%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--branch #0\u003C/code>\u003C/h4> | The branch of the repository that should be cloned |\n| \u003Ch4 id=\"options-no-minify\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-minify\u003C/code>\u003C/h4> | Build a plugin for development (debugging) - non-minified and non-mangled |\n| \u003Ch4 id=\"options-f%2C-force\" className=\"header-code\">\u003Ccode className=\"language-text\">-f,--force\u003C/code>\u003C/h4> | Always clone the repository instead of trying to fetch the latest commits |\n| \u003Ch4 id=\"options-f%2C-force\" className=\"header-code\">\u003Ccode className=\"language-text\">-f,--force\u003C/code>\u003C/h4> | Always clone the repository instead of trying to fetch the latest commits |\n| \u003Ch4 id=\"options-skip-plugins\" className=\"header-code\">\u003Ccode className=\"language-text\">--skip-plugins\u003C/code>\u003C/h4> | Skip updating the contrib plugins |","src/content/docs/cli/cli/sources.mdx","8a95249c3d91e62c","cli/stage",{"id":1408,"data":1410,"body":1416,"filePath":1417,"digest":1418,"deferredRender":22},{"title":1411,"description":1412,"editUrl":22,"head":1413,"template":189,"sidebar":1414,"pagefind":22,"draft":100},"yarn stage","add all yarn files to your vcs",[],{"hidden":100,"attrs":1415},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nadd all yarn files to your vcs\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn stage\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Adds all modified project files to the staging area\n:\u003C/p>\n\u003CCode code=\"yarn stage\" lang=\"bash\" />\n\n\u003Cp>Creates a new commit containing all modified project files\n:\u003C/p>\n\u003CCode code=\"yarn stage --commit\" lang=\"bash\" />\n\n## Details\nThis command will add to your staging area the files belonging to Yarn \n(typically any modified `package.json` and `.yarnrc.yml` files, but also \nlinker-generated files, cache data, etc). It will take your ignore list into \naccount, so the cache files won't be added if the cache is ignored in a \n`.gitignore` file (assuming you use Git).\n\nRunning `--reset` will instead remove them from the staging area (the changes \nwill still be there, but won't be committed until you stage them back).\n\nSince the staging area is a non-existent concept in Mercurial, Yarn will always \ncreate a new commit when running this command on Mercurial repositories. You can \nget this behavior when using Git by using the `--commit` flag which will \ndirectly create a commit.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-c%2C-commit\" className=\"header-code\">\u003Ccode className=\"language-text\">-c,--commit\u003C/code>\u003C/h4> | Commit the staged files |\n| \u003Ch4 id=\"options-r%2C-reset\" className=\"header-code\">\u003Ccode className=\"language-text\">-r,--reset\u003C/code>\u003C/h4> | Remove all files from the staging area |\n| \u003Ch4 id=\"options-n%2C-dry-run\" className=\"header-code\">\u003Ccode className=\"language-text\">-n,--dry-run\u003C/code>\u003C/h4> | Print the commit message and the list of modified files without staging / committing |","src/content/docs/cli/cli/stage.mdx","e31eee3d7b56bd32","cli/unplug",{"id":1419,"data":1421,"body":1427,"filePath":1428,"digest":1429,"deferredRender":22},{"title":1422,"description":1423,"editUrl":22,"head":1424,"template":189,"sidebar":1425,"pagefind":22,"draft":100},"yarn unplug","force the unpacking of a list of packages",[],{"hidden":100,"attrs":1426},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nforce the unpacking of a list of packages\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn unplug ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Unplug the lodash dependency from the active workspace\n:\u003C/p>\n\u003CCode code=\"yarn unplug lodash\" lang=\"bash\" />\n\n\u003Cp>Unplug all instances of lodash referenced by any workspace\n:\u003C/p>\n\u003CCode code=\"yarn unplug lodash -A\" lang=\"bash\" />\n\n\u003Cp>Unplug all instances of lodash referenced by the active workspace and its dependencies\n:\u003C/p>\n\u003CCode code=\"yarn unplug lodash -R\" lang=\"bash\" />\n\n\u003Cp>Unplug all instances of lodash, anywhere\n:\u003C/p>\n\u003CCode code=\"yarn unplug lodash -AR\" lang=\"bash\" />\n\n\u003Cp>Unplug one specific version of lodash\n:\u003C/p>\n\u003CCode code=\"yarn unplug lodash@1.2.3\" lang=\"bash\" />\n\n\u003Cp>Unplug all packages with the `@babel` scope\n:\u003C/p>\n\u003CCode code=\"yarn unplug '@babel/*'\" lang=\"bash\" />\n\n\u003Cp>Unplug all packages (only for testing, not recommended)\n:\u003C/p>\n\u003CCode code=\"yarn unplug -R '*'\" lang=\"bash\" />\n\n## Details\nThis command will add the selectors matching the specified patterns to the list \nof packages that must be unplugged when installed.\n\nA package being unplugged means that instead of being referenced directly \nthrough its archive, it will be unpacked at install time in the directory \nconfigured via `pnpUnpluggedFolder`. Note that unpacking packages this way is \ngenerally not recommended because it'll make it harder to store your packages \nwithin the repository. However, it's a good approach to quickly and safely debug \nsome packages, and can even sometimes be required depending on the context (for \nexample when the package contains shellscripts).\n\nRunning the command will set a persistent flag inside your top-level \n`package.json`, in the `dependenciesMeta` field. As such, to undo its effects, \nyou'll need to revert the changes made to the manifest and run `yarn install` to \napply the modification.\n\nBy default, only direct dependencies from the current workspace are affected. If \n`-A,--all` is set, direct dependencies from the entire project are affected. \nUsing the `-R,--recursive` flag will affect transitive dependencies as well as \ndirect ones.\n\nThis command accepts glob patterns inside the scope and name components (not the \nrange). Make sure to escape the patterns to prevent your own shell from trying \nto expand them.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Unplug direct dependencies from the entire project |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | Unplug both direct and transitive dependencies |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/unplug.mdx","d118acca3f14578b","cli/up",{"id":1430,"data":1432,"body":1438,"filePath":1439,"digest":1440,"deferredRender":22},{"title":1433,"description":1434,"editUrl":22,"head":1435,"template":189,"sidebar":1436,"pagefind":22,"draft":100},"yarn up","upgrade dependencies across the project",[],{"hidden":100,"attrs":1437},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nupgrade dependencies across the project\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn up ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Upgrade all instances of lodash to the latest release\n:\u003C/p>\n\u003CCode code=\"yarn up lodash\" lang=\"bash\" />\n\n\u003Cp>Upgrade all instances of lodash to the latest release, but ask confirmation for each\n:\u003C/p>\n\u003CCode code=\"yarn up lodash -i\" lang=\"bash\" />\n\n\u003Cp>Upgrade all instances of lodash to 1.2.3\n:\u003C/p>\n\u003CCode code=\"yarn up lodash@1.2.3\" lang=\"bash\" />\n\n\u003Cp>Upgrade all instances of packages with the `@babel` scope to the latest release\n:\u003C/p>\n\u003CCode code=\"yarn up '@babel/*'\" lang=\"bash\" />\n\n\u003Cp>Upgrade all instances of packages containing the word `jest` to the latest release\n:\u003C/p>\n\u003CCode code=\"yarn up '*jest*'\" lang=\"bash\" />\n\n\u003Cp>Upgrade all instances of packages with the `@babel` scope to 7.0.0\n:\u003C/p>\n\u003CCode code=\"yarn up '@babel/*@7.0.0'\" lang=\"bash\" />\n\n## Details\nThis command upgrades the packages matching the list of specified patterns to \ntheir latest available version across the whole project (regardless of whether \nthey're part of `dependencies` or `devDependencies` - `peerDependencies` won't \nbe affected). This is a project-wide command: all workspaces will be upgraded in \nthe process.\n\nIf `-R,--recursive` is set the command will change behavior and no other switch \nwill be allowed. When operating under this mode `yarn up` will force all ranges \nmatching the selected packages to be resolved again (often to the highest \navailable versions) before being stored in the lockfile. It however won't touch \nyour manifests anymore, so depending on your needs you might want to run both \n`yarn up` and `yarn up -R` to cover all bases.\n\nIf `-i,--interactive` is set (or if the `preferInteractive` settings is toggled \non) the command will offer various choices, depending on the detected upgrade \npaths. Some upgrades require this flag in order to resolve ambiguities.\n\nThe, `-C,--caret`, `-E,--exact` and  `-T,--tilde` options have the same meaning \nas in the `add` command (they change the modifier used when the range is missing \nor a tag, and are ignored when the range is explicitly set).\n\nIf the `--mode=\u003Cmode>` option is set, Yarn will change which artifacts are \ngenerated. The modes currently supported are:\n\n- `skip-build` will not run the build scripts at all. Note that this is \ndifferent from setting `enableScripts` to false because the latter will \ndisable build scripts, and thus affect the content of the artifacts generated \non disk, whereas the former will just disable the build step - but not the \nscripts themselves, which just won't run.\n\n- `update-lockfile` will skip the link step altogether, and only fetch packages \nthat are missing from the lockfile (or that have no associated checksums). \nThis mode is typically used by tools like Renovate or Dependabot to keep a \nlockfile up-to-date without incurring the full install cost.\n\nGenerally you can see `yarn up` as a counterpart to what was `yarn upgrade \n--latest` in Yarn 1 (ie it ignores the ranges previously listed in your \nmanifests), but unlike `yarn upgrade` which only upgraded dependencies in the \ncurrent workspace, `yarn up` will upgrade all workspaces at the same time.\n\nThis command accepts glob patterns as arguments (if valid Descriptors and \nsupported by [micromatch](https://github.com/micromatch/micromatch)). Make sure \nto escape the patterns, to prevent your own shell from trying to expand them.\n\n**Note:** The ranges have to be static, only the package scopes and names can \ncontain glob patterns.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-i%2C-interactive\" className=\"header-code\">\u003Ccode className=\"language-text\">-i,--interactive\u003C/code>\u003C/h4> | Offer various choices, depending on the detected upgrade paths |\n| \u003Ch4 id=\"options-F%2C-fixed\" className=\"header-code\">\u003Ccode className=\"language-text\">-F,--fixed\u003C/code>\u003C/h4> | Store dependency tags as-is instead of resolving them |\n| \u003Ch4 id=\"options-E%2C-exact\" className=\"header-code\">\u003Ccode className=\"language-text\">-E,--exact\u003C/code>\u003C/h4> | Don't use any semver modifier on the resolved range |\n| \u003Ch4 id=\"options-T%2C-tilde\" className=\"header-code\">\u003Ccode className=\"language-text\">-T,--tilde\u003C/code>\u003C/h4> | Use the `~` semver modifier on the resolved range |\n| \u003Ch4 id=\"options-C%2C-caret\" className=\"header-code\">\u003Ccode className=\"language-text\">-C,--caret\u003C/code>\u003C/h4> | Use the `^` semver modifier on the resolved range |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | Resolve again ALL resolutions for those packages |\n| \u003Ch4 id=\"options-mode%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--mode #0\u003C/code>\u003C/h4> | Change what artifacts installs generate |","src/content/docs/cli/cli/up.mdx","b10930b5c6518be3","cli/unlink",{"id":1441,"data":1443,"body":1449,"filePath":1450,"digest":1451,"deferredRender":22},{"title":1444,"description":1445,"editUrl":22,"head":1446,"template":189,"sidebar":1447,"pagefind":22,"draft":100},"yarn unlink","disconnect the local project from another one",[],{"hidden":100,"attrs":1448},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ndisconnect the local project from another one\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn unlink ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Unregister a remote workspace in the current project\n:\u003C/p>\n\u003CCode code=\"yarn unlink ~/ts-loader\" lang=\"bash\" />\n\n\u003Cp>Unregister all workspaces from a remote project in the current project\n:\u003C/p>\n\u003CCode code=\"yarn unlink ~/jest --all\" lang=\"bash\" />\n\n\u003Cp>Unregister all previously linked workspaces\n:\u003C/p>\n\u003CCode code=\"yarn unlink --all\" lang=\"bash\" />\n\n\u003Cp>Unregister all workspaces matching a glob\n:\u003C/p>\n\u003CCode code=\"yarn unlink '@babel/*' 'pkg-{a,b}'\" lang=\"bash\" />\n\n## Details\nThis command will remove any resolutions in the project-level manifest that \nwould have been added via a yarn link with similar arguments.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Unlink all workspaces belonging to the target project from the current one |","src/content/docs/cli/cli/unlink.mdx","b9d83ebf2201f155","cli/unset",{"id":1452,"data":1454,"body":1458,"filePath":1459,"digest":1460,"deferredRender":22},{"title":828,"description":829,"editUrl":22,"head":1455,"template":189,"sidebar":1456,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1457},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nunset a configuration setting\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn config unset \u003Cname>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Unset a simple configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config unset initScope\" lang=\"bash\" />\n\n\u003Cp>Unset a complex configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config unset packageExtensions\" lang=\"bash\" />\n\n\u003Cp>Unset a nested configuration setting\n:\u003C/p>\n\u003CCode code=\"yarn config unset npmScopes.company.npmRegistryServer\" lang=\"bash\" />\n\n## Details\nThis command will unset a configuration setting.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-H%2C-home\" className=\"header-code\">\u003Ccode className=\"language-text\">-H,--home\u003C/code>\u003C/h4> | Update the home configuration instead of the project configuration |","src/content/docs/cli/cli/unset.mdx","b14175c7fc88debf","cli/upgrade-interactive",{"id":1461,"data":1463,"body":1469,"filePath":1470,"digest":1471,"deferredRender":22},{"title":1464,"description":1465,"editUrl":22,"head":1466,"template":189,"sidebar":1467,"pagefind":22,"draft":100},"yarn upgrade-interactive","open the upgrade interface",[],{"hidden":100,"attrs":1468},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nopen the upgrade interface\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn upgrade-interactive\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Open the upgrade window\n:\u003C/p>\n\u003CCode code=\"yarn upgrade-interactive\" lang=\"bash\" />\n\n## Details\nThis command opens a fullscreen terminal interface where you can see any out of \ndate packages used by your application, their status compared to the latest \nversions available on the remote registry, and select packages to upgrade.","src/content/docs/cli/cli/upgrade-interactive.mdx","b6916d56e02037c4","cli/version/apply",{"id":1472,"data":1474,"body":1478,"filePath":1479,"digest":1480,"deferredRender":22},{"title":753,"description":754,"editUrl":22,"head":1475,"template":189,"sidebar":1476,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1477},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nApply all the deferred version bumps at once\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn version apply\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Apply the version change to the local workspace\n:\u003C/p>\n\u003CCode code=\"yarn version apply\" lang=\"bash\" />\n\n\u003Cp>Apply the version change to all the workspaces in the local workspace\n:\u003C/p>\n\u003CCode code=\"yarn version apply --all\" lang=\"bash\" />\n\n## Details\nThis command will apply the deferred version changes and remove their \ndefinitions from the repository.\n\nNote that if `--prerelease` is set, the given prerelease identifier (by default \n`rc.%n`) will be used on all new versions and the version definitions will be \nkept as-is.\n\nBy default only the current workspace will be bumped, but you can configure this \nbehavior by using one of:\n\n- `--recursive` to also apply the version bump on its dependencies\n\n- `--all` to apply the version bump on all packages in the repository\n\nNote that this command will also update the `workspace:` references across all \nyour local workspaces, thus ensuring that they keep referring to the same \nworkspaces even after the version bump.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-all\" className=\"header-code\">\u003Ccode className=\"language-text\">--all\u003C/code>\u003C/h4> | Apply the deferred version changes on all workspaces |\n| \u003Ch4 id=\"options-dry-run\" className=\"header-code\">\u003Ccode className=\"language-text\">--dry-run\u003C/code>\u003C/h4> | Print the versions without actually generating the package archive |\n| \u003Ch4 id=\"options-prerelease\" className=\"header-code\">\u003Ccode className=\"language-text\">--prerelease\u003C/code>\u003C/h4> | Add a prerelease identifier to new versions |\n| \u003Ch4 id=\"options-exact\" className=\"header-code\">\u003Ccode className=\"language-text\">--exact\u003C/code>\u003C/h4> | Use the exact version of each package, removes any range. Useful for nightly releases where the range might match another version. |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | Release the transitive workspaces as well |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/version-apply.mdx","a3b27d2603c6f72b","cli/version/check",{"id":1481,"data":1483,"body":1487,"filePath":1488,"digest":1489,"deferredRender":22},{"title":784,"description":785,"editUrl":22,"head":1484,"template":189,"sidebar":1485,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1486},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nCheck that all the relevant packages have been bumped\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn version check\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Check whether the modified packages need a bump\n:\u003C/p>\n\u003CCode code=\"yarn version check\" lang=\"bash\" />\n\n## Details\n**Warning:** This command currently requires Git.\n\nThis command will check that all the packages covered by the files listed in \nargument have been properly bumped or declined to bump.\n\nIn the case of a bump, the check will also cover transitive packages - meaning \nthat should `Foo` be bumped, a package `Bar` depending on `Foo` will require a \ndecision as to whether `Bar` will need to be bumped. This check doesn't cross \npackages that have declined to bump.\n\nIn case no arguments are passed to the function, the list of modified files will \nbe generated by comparing the HEAD against `master`.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-i%2C-interactive\" className=\"header-code\">\u003Ccode className=\"language-text\">-i,--interactive\u003C/code>\u003C/h4> | Open an interactive interface used to set version bumps |","src/content/docs/cli/cli/version-check.mdx","87d4a3677bb7ce0f","cli/whoami",{"id":1490,"data":1492,"body":1496,"filePath":1497,"digest":1498,"deferredRender":22},{"title":1143,"description":1144,"editUrl":22,"head":1493,"template":189,"sidebar":1494,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1495},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ndisplay the name of the authenticated user\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn npm whoami\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Print username for the default registry\n:\u003C/p>\n\u003CCode code=\"yarn npm whoami\" lang=\"bash\" />\n\n\u003Cp>Print username for the registry on a given scope\n:\u003C/p>\n\u003CCode code=\"yarn npm whoami --scope company\" lang=\"bash\" />\n\n## Details\nPrint the username associated with the current authentication settings to the \nstandard output.\n\nWhen using `-s,--scope`, the username printed will be the one that matches the \nauthentication settings of the registry associated with the given scope (those \nsettings can be overriden using the `npmRegistries` map, and the registry \nassociated with the scope is configured via the `npmScopes` map).\n\nWhen using `--publish`, the registry we'll select will by default be the one \nused when publishing packages (`publishConfig.registry` or `npmPublishRegistry` \nif available, otherwise we'll fallback to the regular `npmRegistryServer`).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-s%2C-scope%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-s,--scope #0\u003C/code>\u003C/h4> | Print username for the registry configured for a given scope |\n| \u003Ch4 id=\"options-publish\" className=\"header-code\">\u003Ccode className=\"language-text\">--publish\u003C/code>\u003C/h4> | Print username for the publish registry |","src/content/docs/cli/cli/whoami.mdx","e156c745e9a940b9","cli/version",{"id":1499,"data":1501,"body":1507,"filePath":1508,"digest":1509,"deferredRender":22},{"title":1502,"description":1503,"editUrl":22,"head":1504,"template":189,"sidebar":1505,"pagefind":22,"draft":100},"yarn version","apply a new version to the current package",[],{"hidden":100,"attrs":1506},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\napply a new version to the current package\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn version \u003Cstrategy>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Immediately bump the version to the next major\n:\u003C/p>\n\u003CCode code=\"yarn version major\" lang=\"bash\" />\n\n\u003Cp>Prepare the version to be bumped to the next major\n:\u003C/p>\n\u003CCode code=\"yarn version major --deferred\" lang=\"bash\" />\n\n## Details\nThis command will bump the version number for the given package, following the \nspecified strategy:\n\n- If `major`, the first number from the semver range will be increased \n(`X.0.0`).\n\n- If `minor`, the second number from the semver range will be increased \n(`0.X.0`).\n\n- If `patch`, the third number from the semver range will be increased \n(`0.0.X`).\n\n- If prefixed by `pre` (`premajor`, ...), a `-0` suffix will be set (`0.0.0-0`).\n\n- If `prerelease`, the suffix will be increased (`0.0.0-X`); the third number \nfrom the semver range will also be increased if there was no suffix in the \nprevious version.\n\n- If `decline`, the nonce will be increased for `yarn version check` to pass \nwithout version bump.\n\n- If a valid semver range, it will be used as new version.\n\n- If unspecified, Yarn will ask you for guidance.\n\nFor more information about the `--deferred` flag, consult our documentation \n(https://yarnpkg.com/features/release-workflow#deferred-versioning).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-d%2C-deferred\" className=\"header-code\">\u003Ccode className=\"language-text\">-d,--deferred\u003C/code>\u003C/h4> | Prepare the version to be bumped during the next release cycle |\n| \u003Ch4 id=\"options-i%2C-immediate\" className=\"header-code\">\u003Ccode className=\"language-text\">-i,--immediate\u003C/code>\u003C/h4> | Bump the version immediately |his command is to enforce the version of Yarn used by \nany single member of your team inside the same project - by doing this you \nensure that you have control over Yarn upgrades and downgrades (including on \nyour deployment servers), and get rid of most of the headaches related to \nsomeone using a slightly different version and getting different behavior.\n\nThe version specifier can be:\n\n- a tag:\n\n- `latest` / `berry` / `stable` -> the most recent stable berry (`>=2.0.0`) \nrelease\n\n- `canary` -> the most recent canary (release candidate) berry (`>=2.0.0`) \nrelease\n\n- `classic` -> the most recent classic (`^0.x || ^1.x`) release\n\n- a semver range (e.g. `2.x`) -> the most recent version satisfying the range \n(limited to berry releases)\n\n- a semver version (e.g. `2.4.1`, `1.22.1`)\n\n- a local file referenced through either a relative or absolute path\n\n- `self` -> the version used to invoke the command\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-yarn-path\" className=\"header-code\">\u003Ccode className=\"language-text\">--yarn-path\u003C/code>\u003C/h4> | Set the yarnPath setting even if the version can be accessed by Corepack |\n| \u003Ch4 id=\"options-only-if-needed\" className=\"header-code\">\u003Ccode className=\"language-text\">--only-if-needed\u003C/code>\u003C/h4> | Only lock the Yarn version if it isn't already locked |","src/content/docs/cli/cli/version.mdx","a4dab493a9c60a29","cli/workspaces/focus",{"id":1510,"data":1512,"body":1516,"filePath":1517,"digest":1518,"deferredRender":22},{"title":938,"description":939,"editUrl":22,"head":1513,"template":189,"sidebar":1514,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1515},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nInstall a single workspace and its dependencies\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn workspaces focus ...\" lang=\"bash\" />\n\n## Details\nThis command will run an install as if the specified workspaces (and all other \nworkspaces they depend on) were the only ones in the project. If no workspaces \nare explicitly listed, the active one will be assumed.\n\nNote that this command is only very moderately useful when using zero-installs, \nsince the cache will contain all the packages anyway - meaning that the only \ndifference between a full install and a focused install would just be a few \nextra lines in the `.pnp.cjs` file, at the cost of introducing an extra \ncomplexity.\n\nIf the `-A,--all` flag is set, the entire project will be installed. Combine \nwith `--production` to replicate the old `yarn install --production`.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-production\" className=\"header-code\">\u003Ccode className=\"language-text\">--production\u003C/code>\u003C/h4> | Only install regular dependencies by omitting dev dependencies |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Install the entire project |","src/content/docs/cli/cli/workspaces-focus.mdx","5b259df51f0d12d6","cli/why",{"id":1519,"data":1521,"body":1527,"filePath":1528,"digest":1529,"deferredRender":22},{"title":1522,"description":1523,"editUrl":22,"head":1524,"template":189,"sidebar":1525,"pagefind":22,"draft":100},"yarn why","display the reason why a package is needed",[],{"hidden":100,"attrs":1526},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\ndisplay the reason why a package is needed\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn why \u003Cpackage>\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Explain why lodash is used in your project\n:\u003C/p>\n\u003CCode code=\"yarn why lodash\" lang=\"bash\" />\n\n## Details\nThis command prints the exact reasons why a package appears in the dependency \ntree.\n\nIf `-R,--recursive` is set, the listing will go in depth and will list, for each \nworkspaces, what are all the paths that lead to the dependency. Note that the \ndisplay is somewhat optimized in that it will not print the package listing \ntwice for a single package, so if you see a leaf named \"Foo\" when looking for \n\"Bar\", it means that \"Foo\" already got printed higher in the tree.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | List, for each workspace, what are all the paths that lead to the dependency |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |\n| \u003Ch4 id=\"options-peers\" className=\"header-code\">\u003Ccode className=\"language-text\">--peers\u003C/code>\u003C/h4> | Also print the peer dependencies that match the specified name |","src/content/docs/cli/cli/why.mdx","ece9dac1357b324d","cli/workspace",{"id":1530,"data":1532,"body":1538,"filePath":1539,"digest":1540,"deferredRender":22},{"title":1533,"description":1534,"editUrl":22,"head":1535,"template":189,"sidebar":1536,"pagefind":22,"draft":100},"yarn workspace","run a command within the specified workspace",[],{"hidden":100,"attrs":1537},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nrun a command within the specified workspace\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn workspace \u003CworkspaceName> \u003CcommandName> ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Add a package to a single workspace\n:\u003C/p>\n\u003CCode code=\"yarn workspace components add -D react\" lang=\"bash\" />\n\n\u003Cp>Run build script on a single workspace\n:\u003C/p>\n\u003CCode code=\"yarn workspace components run build\" lang=\"bash\" />\n\n## Details\nThis command will run a given sub-command on a single workspace.","src/content/docs/cli/cli/workspace.mdx","57c90f3cdb2994f0","cli/workspaces/foreach",{"id":1541,"data":1543,"body":1547,"filePath":1548,"digest":1549,"deferredRender":22},{"title":958,"description":959,"editUrl":22,"head":1544,"template":189,"sidebar":1545,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1546},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nRun a command on all workspaces\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn workspaces foreach \u003CcommandName> ...\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Publish all packages\n:\u003C/p>\n\u003CCode code=\"yarn workspaces foreach -A --no-private npm publish --tolerate-republish\" lang=\"bash\" />\n\n\u003Cp>Run the build script on all descendant packages\n:\u003C/p>\n\u003CCode code=\"yarn workspaces foreach -A run build\" lang=\"bash\" />\n\n\u003Cp>Run the build script on current and all descendant packages in parallel, building package dependencies first\n:\u003C/p>\n\u003CCode code=\"yarn workspaces foreach -Apt run build\" lang=\"bash\" />\n\n\u003Cp>Run the build script on several packages and all their dependencies, building dependencies first\n:\u003C/p>\n\u003CCode code=\"yarn workspaces foreach -Rpt --from '{workspace-a,workspace-b}' run build\" lang=\"bash\" />\n\n## Details\nThis command will run a given sub-command on current and all its descendant \nworkspaces. Various flags can alter the exact behavior of the command:\n\n- If `-p,--parallel` is set, the commands will be ran in parallel; they'll by \ndefault be limited to a number of parallel tasks roughly equal to half your \ncore number, but that can be overridden via `-j,--jobs`, or disabled by \nsetting `-j unlimited`.\n\n- If `-p,--parallel` and `-i,--interlaced` are both set, Yarn will print the \nlines from the output as it receives them. If `-i,--interlaced` wasn't set, it \nwould instead buffer the output from each process and print the resulting \nbuffers only after their source processes have exited.\n\n- If `-t,--topological` is set, Yarn will only run the command after all \nworkspaces that it depends on through the `dependencies` field have \nsuccessfully finished executing. If `--topological-dev` is set, both the \n`dependencies` and `devDependencies` fields will be considered when figuring \nout the wait points.\n\n- If `-A,--all` is set, Yarn will run the command on all the workspaces of a \nproject.\n\n- If `-R,--recursive` is set, Yarn will find workspaces to run the command on by \nrecursively evaluating `dependencies` and `devDependencies` fields, instead of \nlooking at the `workspaces` fields.\n\n- If `-W,--worktree` is set, Yarn will find workspaces to run the command on by \nlooking at the current worktree.\n\n- If `--from` is set, Yarn will use the packages matching the 'from' glob as the \nstarting point for any recursive search.\n\n- If `--since` is set, Yarn will only run the command on workspaces that have \nbeen modified since the specified ref. By default Yarn will use the refs \nspecified by the `changesetBaseRefs` configuration option.\n\n- If `--dry-run` is set, Yarn will explain what it would do without actually \ndoing anything.\n\n- The command may apply to only some workspaces through the use of `--include` \nwhich acts as a whitelist. The `--exclude` flag will do the opposite and will \nbe a list of packages that mustn't execute the script. Both flags accept glob \npatterns (if valid Idents and supported by \n[micromatch](https://github.com/micromatch/micromatch)). Make sure to escape \nthe patterns, to prevent your own shell from trying to expand them. You can \nalso use the `--no-private` flag to avoid running the command in private \nworkspaces.\n\nThe `-v,--verbose` flag can be passed up to twice: once to prefix output lines \nwith the originating workspace's name, and again to include start/finish/timing \nlog lines. Maximum verbosity is enabled by default in terminal environments.\n\nIf the command is `run` and the script being run does not exist the child \nworkspace will be skipped without error.\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-from%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--from #0\u003C/code>\u003C/h4> | An array of glob pattern idents or paths from which to base any recursion |\n| \u003Ch4 id=\"options-A%2C-all\" className=\"header-code\">\u003Ccode className=\"language-text\">-A,--all\u003C/code>\u003C/h4> | Run the command on all workspaces of a project |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | Run the command on the current workspace and all of its recursive dependencies |\n| \u003Ch4 id=\"options-W%2C-worktree\" className=\"header-code\">\u003Ccode className=\"language-text\">-W,--worktree\u003C/code>\u003C/h4> | Run the command on all workspaces of the current worktree |\n| \u003Ch4 id=\"options-v%2C-verbose\" className=\"header-code\">\u003Ccode className=\"language-text\">-v,--verbose\u003C/code>\u003C/h4> | Increase level of logging verbosity up to 2 times |\n| \u003Ch4 id=\"options-p%2C-parallel\" className=\"header-code\">\u003Ccode className=\"language-text\">-p,--parallel\u003C/code>\u003C/h4> | Run the commands in parallel |\n| \u003Ch4 id=\"options-i%2C-interlaced\" className=\"header-code\">\u003Ccode className=\"language-text\">-i,--interlaced\u003C/code>\u003C/h4> | Print the output of commands in real-time instead of buffering it |\n| \u003Ch4 id=\"options-j%2C-jobs%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">-j,--jobs #0\u003C/code>\u003C/h4> | The maximum number of parallel tasks that the execution will be limited to; or `unlimited` |\n| \u003Ch4 id=\"options-t%2C-topological\" className=\"header-code\">\u003Ccode className=\"language-text\">-t,--topological\u003C/code>\u003C/h4> | Run the command after all workspaces it depends on (regular) have finished |\n| \u003Ch4 id=\"options-topological-dev\" className=\"header-code\">\u003Ccode className=\"language-text\">--topological-dev\u003C/code>\u003C/h4> | Run the command after all workspaces it depends on (regular + dev) have finished |\n| \u003Ch4 id=\"options-include%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--include #0\u003C/code>\u003C/h4> | An array of glob pattern idents or paths; only matching workspaces will be traversed |\n| \u003Ch4 id=\"options-exclude%20%230\" className=\"header-code\">\u003Ccode className=\"language-text\">--exclude #0\u003C/code>\u003C/h4> | An array of glob pattern idents or paths; matching workspaces won't be traversed |\n| \u003Ch4 id=\"options-no-private\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-private\u003C/code>\u003C/h4> | Avoid running the command on private workspaces |\n| \u003Ch4 id=\"options-since\" className=\"header-code\">\u003Ccode className=\"language-text\">--since\u003C/code>\u003C/h4> | Only include workspaces that have been changed since the specified ref. |\n| \u003Ch4 id=\"options-n%2C-dry-run\" className=\"header-code\">\u003Ccode className=\"language-text\">-n,--dry-run\u003C/code>\u003C/h4> | Print the commands that would be run, without actually running them |","src/content/docs/cli/cli/workspaces-foreach.mdx","e1b365c4b79bc9ac","cli/workspaces/list",{"id":1550,"data":1552,"body":1558,"filePath":1559,"digest":1560,"deferredRender":22},{"title":1553,"description":1554,"editUrl":22,"head":1555,"template":189,"sidebar":1556,"pagefind":22,"draft":100},"yarn workspaces list","list all available workspaces",[],{"hidden":100,"attrs":1557},{},"import { Code } from \"@astrojs/starlight/components\";\n\n\u003Cdiv className=\"subtitle\">\nList all available workspaces\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn workspaces list\" lang=\"bash\" />\n\n## Details\nThis command will print the list of all workspaces in the project.\n\n- If `--since` is set, Yarn will only list workspaces that have been modified \nsince the specified ref. By default Yarn will use the refs specified by the \n`changesetBaseRefs` configuration option.\n\n- If `-R,--recursive` is set, Yarn will find workspaces to run the command on by \nrecursively evaluating `dependencies` and `devDependencies` fields, instead of \nlooking at the `workspaces` fields.\n\n- If `--no-private` is set, Yarn will not list any workspaces that have the \n`private` field set to `true`.\n\n- If both the `-v,--verbose` and `--json` options are set, Yarn will also return \nthe cross-dependencies between each workspaces (useful when you wish to \nautomatically generate Buck / Bazel rules).\n\n## Options\n| Definition | Description |\n| ---------- | ----------- |\n| \u003Ch4 id=\"options-since\" className=\"header-code\">\u003Ccode className=\"language-text\">--since\u003C/code>\u003C/h4> | Only include workspaces that have been changed since the specified ref. |\n| \u003Ch4 id=\"options-R%2C-recursive\" className=\"header-code\">\u003Ccode className=\"language-text\">-R,--recursive\u003C/code>\u003C/h4> | Find packages via dependencies/devDependencies instead of using the workspaces field |\n| \u003Ch4 id=\"options-no-private\" className=\"header-code\">\u003Ccode className=\"language-text\">--no-private\u003C/code>\u003C/h4> | Exclude workspaces that have the private field set to true |\n| \u003Ch4 id=\"options-v%2C-verbose\" className=\"header-code\">\u003Ccode className=\"language-text\">-v,--verbose\u003C/code>\u003C/h4> | Also return the cross-dependencies between workspaces |\n| \u003Ch4 id=\"options-json\" className=\"header-code\">\u003Ccode className=\"language-text\">--json\u003C/code>\u003C/h4> | Format the output as an NDJSON stream |","src/content/docs/cli/cli/workspaces-list.mdx","6eeb1e784de317f3","cli/builder/builder/build/plugin",{"id":1561,"data":1563,"body":1569,"filePath":1570,"digest":1571,"deferredRender":22},{"title":1564,"description":1565,"editUrl":22,"head":1566,"template":189,"sidebar":1567,"pagefind":22,"draft":100},"yarn builder build plugin","build a local plugin",[],{"hidden":100,"attrs":1568},{},"import { Code } from \"@astrojs/starlight/components\";\n\n:::note\nTo use this command, you need to use the [`@yarnpkg/builder`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-builder/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003Cdiv className=\"subtitle\">\nBuild a local plugin\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn builder build plugin\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Build a local plugin\n:\u003C/p>\n\u003CCode code=\"yarn builder build plugin\" lang=\"bash\" />\n\n\u003Cp>Build a local development plugin\n:\u003C/p>\n\u003CCode code=\"yarn builder build plugin --no-minify\" lang=\"bash\" />\n\n## Details\nThis command builds a local plugin.\n\nFor more details about the build process, please consult the `@yarnpkg/builder` \nREADME: \nhttps://github.com/yarnpkg/berry/blob/HEAD/packages/yarnpkg-builder/README.md.","src/content/docs/cli/builder/builder-build-plugin.mdx","f15669846387aa05","cli/builder/builder/build/bundle",{"id":1572,"data":1574,"body":1580,"filePath":1581,"digest":1582,"deferredRender":22},{"title":1575,"description":1576,"editUrl":22,"head":1577,"template":189,"sidebar":1578,"pagefind":22,"draft":100},"yarn builder build bundle","build the local bundle",[],{"hidden":100,"attrs":1579},{},"import { Code } from \"@astrojs/starlight/components\";\n\n:::note\nTo use this command, you need to use the [`@yarnpkg/builder`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-builder/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003Cdiv className=\"subtitle\">\nBuild the local bundle\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn builder build bundle\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Build the local bundle\n:\u003C/p>\n\u003CCode code=\"yarn builder build bundle\" lang=\"bash\" />\n\n\u003Cp>Build the local development bundle\n:\u003C/p>\n\u003CCode code=\"yarn builder build bundle --no-minify\" lang=\"bash\" />\n\n## Details\nThis command builds the local bundle - the Yarn binary file that is installed in \nprojects.\n\nFor more details about the build process, please consult the `@yarnpkg/builder` \nREADME: \nhttps://github.com/yarnpkg/berry/blob/HEAD/packages/yarnpkg-builder/README.md.","src/content/docs/cli/builder/builder-build-bundle.mdx","6766511798c5a4a0","cli/builder/builder/new/plugin",{"id":1583,"data":1585,"body":1591,"filePath":1592,"digest":1593,"deferredRender":22},{"title":1586,"description":1587,"editUrl":22,"head":1588,"template":189,"sidebar":1589,"pagefind":22,"draft":100},"yarn builder new plugin","generate the template for a new plugin",[],{"hidden":100,"attrs":1590},{},"import { Code } from \"@astrojs/starlight/components\";\n\n:::note\nTo use this command, you need to use the [`@yarnpkg/builder`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-builder/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003Cdiv className=\"subtitle\">\nGenerate the template for a new plugin\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn builder new plugin\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Create a new plugin\n:\u003C/p>\n\u003CCode code=\"yarn builder new plugin yarn-plugin-hello-world\" lang=\"bash\" />\n\n## Details\nThis command generates a new plugin based on the template.\n\nFor more details about the build process, please consult the `@yarnpkg/builder` \nREADME: \nhttps://github.com/yarnpkg/berry/blob/HEAD/packages/yarnpkg-builder/README.md.","src/content/docs/cli/builder/builder-new-plugin.mdx","cb96257e37dc712a","cli/builder/plugin",{"id":1594,"data":1596,"body":1600,"filePath":1601,"digest":1602,"deferredRender":22},{"title":1564,"description":1565,"editUrl":22,"head":1597,"template":189,"sidebar":1598,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1599},{},"import { Code } from \"@astrojs/starlight/components\";\n\n:::note\nTo use this command, you need to use the [`@yarnpkg/builder`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-builder/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003Cdiv className=\"subtitle\">\nbuild a local plugin\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn builder build plugin\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Build a local plugin\n:\u003C/p>\n\u003CCode code=\"yarn builder build plugin\" lang=\"bash\" />\n\n\u003Cp>Build a local development plugin\n:\u003C/p>\n\u003CCode code=\"yarn builder build plugin --no-minify\" lang=\"bash\" />\n\n## Details\nThis command builds a local plugin.\n\nFor more details about the build process, please consult the `@yarnpkg/builder` \nREADME: \nhttps://github.com/yarnpkg/berry/blob/HEAD/packages/yarnpkg-builder/README.md.","src/content/docs/cli/builder/plugin.mdx","bb3577befc8986fd","cli/builder",{"id":1603,"data":1605,"body":1610,"filePath":1611,"digest":1612,"deferredRender":22},{"title":148,"description":1606,"editUrl":22,"head":1607,"template":189,"sidebar":1608,"pagefind":22,"draft":100},"Documentation for all builder package commands",[],{"hidden":100,"attrs":1609},{},"import { Card, CardGrid, LinkCard } from \"@astrojs/starlight/components\";\n\n:::note\nTo use these commands, you need to use the [`@yarnpkg/builder`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-builder/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003CLinkCard \ntitle=\"yarn builder build bundle\" \nhref=\"/cli/builder/bundle\" \ndescription=\"build the local bundle\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn builder build plugin\" \nhref=\"/cli/builder/plugin\" \ndescription=\"build a local plugin\n\"\n/>\n\u003CLinkCard \ntitle=\"yarn builder new plugin\" \nhref=\"/cli/builder/plugin\" \ndescription=\"generate the template for a new plugin\n\"\n/>","src/content/docs/cli/builder/index.mdx","2cc0474bfabc2a25","cli/builder/bundle",{"id":1613,"data":1615,"body":1619,"filePath":1620,"digest":1621,"deferredRender":22},{"title":1575,"description":1576,"editUrl":22,"head":1616,"template":189,"sidebar":1617,"pagefind":22,"draft":100},[],{"hidden":100,"attrs":1618},{},"import { Code } from \"@astrojs/starlight/components\";\n\n:::note\nTo use this command, you need to use the [`@yarnpkg/builder`](https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-builder/README.md) package either:\n- By installing it locally using [`yarn add`](/cli/add) and running it using [`yarn run`](/cli/run)\n- By downloading and running it in a temporary environment using [`yarn dlx`](/cli/dlx)\n:::\n\n\u003Cdiv className=\"subtitle\">\nbuild the local bundle\n\n\u003C/div>\n\n## Usage\n\u003CCode code=\"yarn builder build bundle\" lang=\"bash\" />\n\n## Examples\n\u003Cp>Build the local bundle\n:\u003C/p>\n\u003CCode code=\"yarn builder build bundle\" lang=\"bash\" />\n\n\u003Cp>Build the local development bundle\n:\u003C/p>\n\u003CCode code=\"yarn builder build bundle --no-minify\" lang=\"bash\" />\n\n## Details\nThis command builds the local bundle - the Yarn binary file that is installed in \nprojects.\n\nFor more details about the build process, please consult the `@yarnpkg/builder` \nREADME: \nhttps://github.com/yarnpkg/berry/blob/HEAD/packages/yarnpkg-builder/README.md.","src/content/docs/cli/builder/bundle.mdx","10b052c34f8782ca",["Map",16,1623],{"id":16,"data":1624,"filePath":1634},{"id":16,"name":1625,"title":1626,"url":1627,"image_url":1628,"socials":1629},"Mal Nison","Lead Yarn maintainer","https://github.com/arcanis","https://github.com/arcanis.png",{"mastodon":1630,"linkedin":1631,"bluesky":1632,"github":16,"website":1633},"@arcanis","maelnison","mael.dev","https://mael.dev","src/content/blog/authors.yml"]