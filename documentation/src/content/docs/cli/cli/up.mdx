---
title: "yarn up"
description: "upgrade dependencies across the project"
slug: "cli/up"
category: "cli"
---

import { Code } from "@astrojs/starlight/components";

<div className="subtitle">
upgrade dependencies across the project

</div>

## Usage
<Code code="yarn up ..." lang="bash" />

## Examples
<p>Upgrade all instances of lodash to the latest release
:</p>
<Code code="yarn up lodash" lang="bash" />

<p>Upgrade all instances of lodash to the latest release, but ask confirmation for each
:</p>
<Code code="yarn up lodash -i" lang="bash" />

<p>Upgrade all instances of lodash to 1.2.3
:</p>
<Code code="yarn up lodash@1.2.3" lang="bash" />

<p>Upgrade all instances of packages with the `@babel` scope to the latest release
:</p>
<Code code="yarn up '@babel/*'" lang="bash" />

<p>Upgrade all instances of packages containing the word `jest` to the latest release
:</p>
<Code code="yarn up '*jest*'" lang="bash" />

<p>Upgrade all instances of packages with the `@babel` scope to 7.0.0
:</p>
<Code code="yarn up '@babel/*@7.0.0'" lang="bash" />

## Details
This command upgrades the packages matching the list of specified patterns to 
their latest available version across the whole project (regardless of whether 
they're part of `dependencies` or `devDependencies` - `peerDependencies` won't 
be affected). This is a project-wide command: all workspaces will be upgraded in 
the process.

If `-R,--recursive` is set the command will change behavior and no other switch 
will be allowed. When operating under this mode `yarn up` will force all ranges 
matching the selected packages to be resolved again (often to the highest 
available versions) before being stored in the lockfile. It however won't touch 
your manifests anymore, so depending on your needs you might want to run both 
`yarn up` and `yarn up -R` to cover all bases.

If `-i,--interactive` is set (or if the `preferInteractive` settings is toggled 
on) the command will offer various choices, depending on the detected upgrade 
paths. Some upgrades require this flag in order to resolve ambiguities.

The, `-C,--caret`, `-E,--exact` and  `-T,--tilde` options have the same meaning 
as in the `add` command (they change the modifier used when the range is missing 
or a tag, and are ignored when the range is explicitly set).

If the `--mode=<mode>` option is set, Yarn will change which artifacts are 
generated. The modes currently supported are:

- `skip-build` will not run the build scripts at all. Note that this is 
different from setting `enableScripts` to false because the latter will 
disable build scripts, and thus affect the content of the artifacts generated 
on disk, whereas the former will just disable the build step - but not the 
scripts themselves, which just won't run.

- `update-lockfile` will skip the link step altogether, and only fetch packages 
that are missing from the lockfile (or that have no associated checksums). 
This mode is typically used by tools like Renovate or Dependabot to keep a 
lockfile up-to-date without incurring the full install cost.

Generally you can see `yarn up` as a counterpart to what was `yarn upgrade 
--latest` in Yarn 1 (ie it ignores the ranges previously listed in your 
manifests), but unlike `yarn upgrade` which only upgraded dependencies in the 
current workspace, `yarn up` will upgrade all workspaces at the same time.

This command accepts glob patterns as arguments (if valid Descriptors and 
supported by [micromatch](https://github.com/micromatch/micromatch)). Make sure 
to escape the patterns, to prevent your own shell from trying to expand them.

**Note:** The ranges have to be static, only the package scopes and names can 
contain glob patterns.

## Options
| Definition | Description |
| ---------- | ----------- |
| <h4 id="options-i%2C-interactive" className="header-code"><code className="language-text">-i,--interactive</code></h4> | Offer various choices, depending on the detected upgrade paths |
| <h4 id="options-F%2C-fixed" className="header-code"><code className="language-text">-F,--fixed</code></h4> | Store dependency tags as-is instead of resolving them |
| <h4 id="options-E%2C-exact" className="header-code"><code className="language-text">-E,--exact</code></h4> | Don't use any semver modifier on the resolved range |
| <h4 id="options-T%2C-tilde" className="header-code"><code className="language-text">-T,--tilde</code></h4> | Use the `~` semver modifier on the resolved range |
| <h4 id="options-C%2C-caret" className="header-code"><code className="language-text">-C,--caret</code></h4> | Use the `^` semver modifier on the resolved range |
| <h4 id="options-R%2C-recursive" className="header-code"><code className="language-text">-R,--recursive</code></h4> | Resolve again ALL resolutions for those packages |
| <h4 id="options-mode%20%230" className="header-code"><code className="language-text">--mode #0</code></h4> | Change what artifacts installs generate |