---
title: "yarn npm tag add"
description: "add a tag for a specific version of a package"
slug: "cli/add"
category: "cli"
---

import { Code } from "@astrojs/starlight/components";

<div className="subtitle">
add a tag for a specific version of a package

</div>

## Usage
<Code code="yarn npm tag add <package> <tag>" lang="bash" />

## Examples
<p>Add a `beta` tag for version `2.3.4-beta.4` of package `my-pkg`
:</p>
<Code code="yarn npm tag add my-pkg@2.3.4-beta.4 beta" lang="bash" />

## Details
This command will add a tag to the npm registry for a specific version of a 
package. If the tag already exists, it will be overwritten.d lodash@https://github.com/lodash/lodash" lang="bash" />

<p>Add a package from a GitHub repository (the master branch) to the current workspace using the GitHub protocol
:</p>
<Code code="yarn add lodash@github:lodash/lodash" lang="bash" />

<p>Add a package from a GitHub repository (the master branch) to the current workspace using the GitHub protocol (shorthand)
:</p>
<Code code="yarn add lodash@lodash/lodash" lang="bash" />

<p>Add a package from a specific branch of a GitHub repository to the current workspace using the GitHub protocol (shorthand)
:</p>
<Code code="yarn add lodash-es@lodash/lodash#es" lang="bash" />

<p>Add a local package (gzipped tarball format) to the current workspace
:</p>
<Code code="yarn add local-package-name@file:../path/to/local-package-name-v0.1.2.tgz" lang="bash" />

## Details
This command adds a package to the package.json for the nearest workspace.

- If it didn't exist before, the package will by default be added to the regular 
`dependencies` field, but this behavior can be overriden thanks to the 
`-D,--dev` flag (which will cause the dependency to be added to the 
`devDependencies` field instead) and the `-P,--peer` flag (which will do the 
same but for `peerDependencies`).

- If the package was already listed in your dependencies, it will by default be 
upgraded whether it's part of your `dependencies` or `devDependencies` (it 
won't ever update `peerDependencies`, though).

- If set, the `--prefer-dev` flag will operate as a more flexible `-D,--dev` in 
that it will add the package to your `devDependencies` if it isn't already 
listed in either `dependencies` or `devDependencies`, but it will also happily 
upgrade your `dependencies` if that's what you already use (whereas `-D,--dev` 
would throw an exception).

- If set, the `-O,--optional` flag will add the package to the 
`optionalDependencies` field and, in combination with the `-P,--peer` flag, it 
will add the package as an optional peer dependency. If the package was 
already listed in your `dependencies`, it will be upgraded to 
`optionalDependencies`. If the package was already listed in your 
`peerDependencies`, in combination with the `-P,--peer` flag, it will be 
upgraded to an optional peer dependency: `"peerDependenciesMeta": { 
"<package>": { "optional": true } }`

- If the added package doesn't specify a range at all its `latest` tag will be 
resolved and the returned version will be used to generate a new semver range 
(using the `^` modifier by default unless otherwise configured via the 
`defaultSemverRangePrefix` configuration, or the `~` modifier if `-T,--tilde` 
is specified, or no modifier at all if `-E,--exact` is specified). Two 
exceptions to this rule: the first one is that if the package is a workspace 
then its local version will be used, and the second one is that if you use 
`-P,--peer` the default range will be `*` and won't be resolved at all.

- If the added package specifies a range (such as `^1.0.0`, `latest`, or `rc`), 
Yarn will add this range as-is in the resulting package.json entry (in 
particular, tags such as `rc` will be encoded as-is rather than being 
converted into a semver range).

If the `--cached` option is used, Yarn will preferably reuse the highest version 
already used somewhere within the project, even if through a transitive 
dependency.

If the `-i,--interactive` option is used (or if the `preferInteractive` settings 
is toggled on) the command will first try to check whether other workspaces in 
the project use the specified package and, if so, will offer to reuse them.

If the `--mode=<mode>` option is set, Yarn will change which artifacts are 
generated. The modes currently supported are:

- `skip-build` will not run the build scripts at all. Note that this is 
different from setting `enableScripts` to false because the latter will 
disable build scripts, and thus affect the content of the artifacts generated 
on disk, whereas the former will just disable the build step - but not the 
scripts themselves, which just won't run.

- `update-lockfile` will skip the link step altogether, and only fetch packages 
that are missing from the lockfile (or that have no associated checksums). 
This mode is typically used by tools like Renovate or Dependabot to keep a 
lockfile up-to-date without incurring the full install cost.

For a compilation of all the supported protocols, please consult the dedicated 
page from our website: https://yarnpkg.com/protocols.

## Options
| Definition | Description |
| ---------- | ----------- |
| <h4 id="options-json" className="header-code"><code className="language-text">--json</code></h4> | Format the output as an NDJSON stream |
| <h4 id="options-F%2C-fixed" className="header-code"><code className="language-text">-F,--fixed</code></h4> | Store dependency tags as-is instead of resolving them |
| <h4 id="options-E%2C-exact" className="header-code"><code className="language-text">-E,--exact</code></h4> | Don't use any semver modifier on the resolved range |
| <h4 id="options-T%2C-tilde" className="header-code"><code className="language-text">-T,--tilde</code></h4> | Use the `~` semver modifier on the resolved range |
| <h4 id="options-C%2C-caret" className="header-code"><code className="language-text">-C,--caret</code></h4> | Use the `^` semver modifier on the resolved range |
| <h4 id="options-D%2C-dev" className="header-code"><code className="language-text">-D,--dev</code></h4> | Add a package as a dev dependency |
| <h4 id="options-P%2C-peer" className="header-code"><code className="language-text">-P,--peer</code></h4> | Add a package as a peer dependency |
| <h4 id="options-O%2C-optional" className="header-code"><code className="language-text">-O,--optional</code></h4> | Add / upgrade a package to an optional regular / peer dependency |
| <h4 id="options-prefer-dev" className="header-code"><code className="language-text">--prefer-dev</code></h4> | Add / upgrade a package to a dev dependency |
| <h4 id="options-i%2C-interactive" className="header-code"><code className="language-text">-i,--interactive</code></h4> | Reuse the specified package from other workspaces in the project |
| <h4 id="options-cached" className="header-code"><code className="language-text">--cached</code></h4> | Reuse the highest version already used somewhere within the project |
| <h4 id="options-mode%20%230" className="header-code"><code className="language-text">--mode #0</code></h4> | Change what artifacts installs generate |