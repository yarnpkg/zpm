---
title: "yarn unplug"
description: "force the unpacking of a list of packages"
slug: "cli/unplug"
category: "cli"
---

import { Code } from "@astrojs/starlight/components";

<div className="subtitle">
force the unpacking of a list of packages

</div>

## Usage
<Code code="yarn unplug ..." lang="bash" />

## Examples
<p>Unplug the lodash dependency from the active workspace
:</p>
<Code code="yarn unplug lodash" lang="bash" />

<p>Unplug all instances of lodash referenced by any workspace
:</p>
<Code code="yarn unplug lodash -A" lang="bash" />

<p>Unplug all instances of lodash referenced by the active workspace and its dependencies
:</p>
<Code code="yarn unplug lodash -R" lang="bash" />

<p>Unplug all instances of lodash, anywhere
:</p>
<Code code="yarn unplug lodash -AR" lang="bash" />

<p>Unplug one specific version of lodash
:</p>
<Code code="yarn unplug lodash@1.2.3" lang="bash" />

<p>Unplug all packages with the `@babel` scope
:</p>
<Code code="yarn unplug '@babel/*'" lang="bash" />

<p>Unplug all packages (only for testing, not recommended)
:</p>
<Code code="yarn unplug -R '*'" lang="bash" />

## Details
This command will add the selectors matching the specified patterns to the list 
of packages that must be unplugged when installed.

A package being unplugged means that instead of being referenced directly 
through its archive, it will be unpacked at install time in the directory 
configured via `pnpUnpluggedFolder`. Note that unpacking packages this way is 
generally not recommended because it'll make it harder to store your packages 
within the repository. However, it's a good approach to quickly and safely debug 
some packages, and can even sometimes be required depending on the context (for 
example when the package contains shellscripts).

Running the command will set a persistent flag inside your top-level 
`package.json`, in the `dependenciesMeta` field. As such, to undo its effects, 
you'll need to revert the changes made to the manifest and run `yarn install` to 
apply the modification.

By default, only direct dependencies from the current workspace are affected. If 
`-A,--all` is set, direct dependencies from the entire project are affected. 
Using the `-R,--recursive` flag will affect transitive dependencies as well as 
direct ones.

This command accepts glob patterns inside the scope and name components (not the 
range). Make sure to escape the patterns to prevent your own shell from trying 
to expand them.

## Options
| Definition | Description |
| ---------- | ----------- |
| <h4 id="options-A%2C-all" className="header-code"><code className="language-text">-A,--all</code></h4> | Unplug direct dependencies from the entire project |
| <h4 id="options-R%2C-recursive" className="header-code"><code className="language-text">-R,--recursive</code></h4> | Unplug both direct and transitive dependencies |
| <h4 id="options-json" className="header-code"><code className="language-text">--json</code></h4> | Format the output as an NDJSON stream |